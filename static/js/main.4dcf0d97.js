/*! For license information please see main.4dcf0d97.js.LICENSE.txt */
(()=>{"use strict";var e={175:(e,t)=>{const n=/^[\u0021-\u003A\u003C\u003E-\u007E]+$/,r=/^[\u0021-\u003A\u003C-\u007E]*$/,i=/^([.]?[a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)([.][a-z0-9]([a-z0-9-]{0,61}[a-z0-9])?)*$/i,s=/^[\u0020-\u003A\u003D-\u007E]*$/,a=Object.prototype.toString,o=(()=>{const e=function(){};return e.prototype=Object.create(null),e})();function l(e,t,n){do{const n=e.charCodeAt(t);if(32!==n&&9!==n)return t}while(++t<n);return n}function c(e,t,n){for(;t>n;){const n=e.charCodeAt(--t);if(32!==n&&9!==n)return t+1}return n}function u(e){if(-1===e.indexOf("%"))return e;try{return decodeURIComponent(e)}catch(t){return e}}},219:(e,t,n)=>{var r=n(763),i={childContextTypes:!0,contextType:!0,contextTypes:!0,defaultProps:!0,displayName:!0,getDefaultProps:!0,getDerivedStateFromError:!0,getDerivedStateFromProps:!0,mixins:!0,propTypes:!0,type:!0},s={name:!0,length:!0,prototype:!0,caller:!0,callee:!0,arguments:!0,arity:!0},a={$$typeof:!0,compare:!0,defaultProps:!0,displayName:!0,propTypes:!0,type:!0},o={};function l(e){return r.isMemo(e)?a:o[e.$$typeof]||i}o[r.ForwardRef]={$$typeof:!0,render:!0,defaultProps:!0,displayName:!0,propTypes:!0},o[r.Memo]=a;var c=Object.defineProperty,u=Object.getOwnPropertyNames,h=Object.getOwnPropertySymbols,d=Object.getOwnPropertyDescriptor,p=Object.getPrototypeOf,f=Object.prototype;e.exports=function e(t,n,r){if("string"!==typeof n){if(f){var i=p(n);i&&i!==f&&e(t,i,r)}var a=u(n);h&&(a=a.concat(h(n)));for(var o=l(t),g=l(n),m=0;m<a.length;++m){var v=a[m];if(!s[v]&&(!r||!r[v])&&(!g||!g[v])&&(!o||!o[v])){var y=d(n,v);try{c(t,v,y)}catch(b){}}}}return t}},983:(e,t)=>{var n="function"===typeof Symbol&&Symbol.for,r=n?Symbol.for("react.element"):60103,i=n?Symbol.for("react.portal"):60106,s=n?Symbol.for("react.fragment"):60107,a=n?Symbol.for("react.strict_mode"):60108,o=n?Symbol.for("react.profiler"):60114,l=n?Symbol.for("react.provider"):60109,c=n?Symbol.for("react.context"):60110,u=n?Symbol.for("react.async_mode"):60111,h=n?Symbol.for("react.concurrent_mode"):60111,d=n?Symbol.for("react.forward_ref"):60112,p=n?Symbol.for("react.suspense"):60113,f=n?Symbol.for("react.suspense_list"):60120,g=n?Symbol.for("react.memo"):60115,m=n?Symbol.for("react.lazy"):60116,v=n?Symbol.for("react.block"):60121,y=n?Symbol.for("react.fundamental"):60117,b=n?Symbol.for("react.responder"):60118,w=n?Symbol.for("react.scope"):60119;function _(e){if("object"===typeof e&&null!==e){var t=e.$$typeof;switch(t){case r:switch(e=e.type){case u:case h:case s:case o:case a:case p:return e;default:switch(e=e&&e.$$typeof){case c:case d:case m:case g:case l:return e;default:return t}}case i:return t}}}function S(e){return _(e)===h}t.AsyncMode=u,t.ConcurrentMode=h,t.ContextConsumer=c,t.ContextProvider=l,t.Element=r,t.ForwardRef=d,t.Fragment=s,t.Lazy=m,t.Memo=g,t.Portal=i,t.Profiler=o,t.StrictMode=a,t.Suspense=p,t.isAsyncMode=function(e){return S(e)||_(e)===u},t.isConcurrentMode=S,t.isContextConsumer=function(e){return _(e)===c},t.isContextProvider=function(e){return _(e)===l},t.isElement=function(e){return"object"===typeof e&&null!==e&&e.$$typeof===r},t.isForwardRef=function(e){return _(e)===d},t.isFragment=function(e){return _(e)===s},t.isLazy=function(e){return _(e)===m},t.isMemo=function(e){return _(e)===g},t.isPortal=function(e){return _(e)===i},t.isProfiler=function(e){return _(e)===o},t.isStrictMode=function(e){return _(e)===a},t.isSuspense=function(e){return _(e)===p},t.isValidElementType=function(e){return"string"===typeof e||"function"===typeof e||e===s||e===h||e===o||e===a||e===p||e===f||"object"===typeof e&&null!==e&&(e.$$typeof===m||e.$$typeof===g||e.$$typeof===l||e.$$typeof===c||e.$$typeof===d||e.$$typeof===y||e.$$typeof===b||e.$$typeof===w||e.$$typeof===v)},t.typeOf=_},763:(e,t,n)=>{e.exports=n(983)},730:(e,t,n)=>{var r=n(43),i=n(853);function s(e){for(var t="https://reactjs.org/docs/error-decoder.html?invariant="+e,n=1;n<arguments.length;n++)t+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+e+"; visit "+t+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var a=new Set,o={};function l(e,t){c(e,t),c(e+"Capture",t)}function c(e,t){for(o[e]=t,e=0;e<t.length;e++)a.add(t[e])}var u=!("undefined"===typeof window||"undefined"===typeof window.document||"undefined"===typeof window.document.createElement),h=Object.prototype.hasOwnProperty,d=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,p={},f={};function g(e,t,n,r,i,s,a){this.acceptsBooleans=2===t||3===t||4===t,this.attributeName=r,this.attributeNamespace=i,this.mustUseProperty=n,this.propertyName=e,this.type=t,this.sanitizeURL=s,this.removeEmptyString=a}var m={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach((function(e){m[e]=new g(e,0,!1,e,null,!1,!1)})),[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach((function(e){var t=e[0];m[t]=new g(t,1,!1,e[1],null,!1,!1)})),["contentEditable","draggable","spellCheck","value"].forEach((function(e){m[e]=new g(e,2,!1,e.toLowerCase(),null,!1,!1)})),["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach((function(e){m[e]=new g(e,2,!1,e,null,!1,!1)})),"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach((function(e){m[e]=new g(e,3,!1,e.toLowerCase(),null,!1,!1)})),["checked","multiple","muted","selected"].forEach((function(e){m[e]=new g(e,3,!0,e,null,!1,!1)})),["capture","download"].forEach((function(e){m[e]=new g(e,4,!1,e,null,!1,!1)})),["cols","rows","size","span"].forEach((function(e){m[e]=new g(e,6,!1,e,null,!1,!1)})),["rowSpan","start"].forEach((function(e){m[e]=new g(e,5,!1,e.toLowerCase(),null,!1,!1)}));var v=/[\-:]([a-z])/g;function y(e){return e[1].toUpperCase()}function b(e,t,n,r){var i=m.hasOwnProperty(t)?m[t]:null;(null!==i?0!==i.type:r||!(2<t.length)||"o"!==t[0]&&"O"!==t[0]||"n"!==t[1]&&"N"!==t[1])&&(function(e,t,n,r){if(null===t||"undefined"===typeof t||function(e,t,n,r){if(null!==n&&0===n.type)return!1;switch(typeof t){case"function":case"symbol":return!0;case"boolean":return!r&&(null!==n?!n.acceptsBooleans:"data-"!==(e=e.toLowerCase().slice(0,5))&&"aria-"!==e);default:return!1}}(e,t,n,r))return!0;if(r)return!1;if(null!==n)switch(n.type){case 3:return!t;case 4:return!1===t;case 5:return isNaN(t);case 6:return isNaN(t)||1>t}return!1}(t,n,i,r)&&(n=null),r||null===i?function(e){return!!h.call(f,e)||!h.call(p,e)&&(d.test(e)?f[e]=!0:(p[e]=!0,!1))}(t)&&(null===n?e.removeAttribute(t):e.setAttribute(t,""+n)):i.mustUseProperty?e[i.propertyName]=null===n?3!==i.type&&"":n:(t=i.attributeName,r=i.attributeNamespace,null===n?e.removeAttribute(t):(n=3===(i=i.type)||4===i&&!0===n?"":""+n,r?e.setAttributeNS(r,t,n):e.setAttribute(t,n))))}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,null,!1,!1)})),"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/1999/xlink",!1,!1)})),["xml:base","xml:lang","xml:space"].forEach((function(e){var t=e.replace(v,y);m[t]=new g(t,1,!1,e,"http://www.w3.org/XML/1998/namespace",!1,!1)})),["tabIndex","crossOrigin"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!1,!1)})),m.xlinkHref=new g("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1),["src","href","action","formAction"].forEach((function(e){m[e]=new g(e,1,!1,e.toLowerCase(),null,!0,!0)}));var w=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,_=Symbol.for("react.element"),S=Symbol.for("react.portal"),E=Symbol.for("react.fragment"),A=Symbol.for("react.strict_mode"),k=Symbol.for("react.profiler"),x=Symbol.for("react.provider"),C=Symbol.for("react.context"),T=Symbol.for("react.forward_ref"),I=Symbol.for("react.suspense"),R=Symbol.for("react.suspense_list"),M=Symbol.for("react.memo"),P=Symbol.for("react.lazy");Symbol.for("react.scope"),Symbol.for("react.debug_trace_mode");var N=Symbol.for("react.offscreen");Symbol.for("react.legacy_hidden"),Symbol.for("react.cache"),Symbol.for("react.tracing_marker");var L=Symbol.iterator;function D(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=L&&e[L]||e["@@iterator"])?e:null}var O,F=Object.assign;function j(e){if(void 0===O)try{throw Error()}catch(n){var t=n.stack.trim().match(/\n( *(at )?)/);O=t&&t[1]||""}return"\n"+O+e}var B=!1;function z(e,t){if(!e||B)return"";B=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(t)if(t=function(){throw Error()},Object.defineProperty(t.prototype,"props",{set:function(){throw Error()}}),"object"===typeof Reflect&&Reflect.construct){try{Reflect.construct(t,[])}catch(c){var r=c}Reflect.construct(e,[],t)}else{try{t.call()}catch(c){r=c}e.call(t.prototype)}else{try{throw Error()}catch(c){r=c}e()}}catch(c){if(c&&r&&"string"===typeof c.stack){for(var i=c.stack.split("\n"),s=r.stack.split("\n"),a=i.length-1,o=s.length-1;1<=a&&0<=o&&i[a]!==s[o];)o--;for(;1<=a&&0<=o;a--,o--)if(i[a]!==s[o]){if(1!==a||1!==o)do{if(a--,0>--o||i[a]!==s[o]){var l="\n"+i[a].replace(" at new "," at ");return e.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",e.displayName)),l}}while(1<=a&&0<=o);break}}}finally{B=!1,Error.prepareStackTrace=n}return(e=e?e.displayName||e.name:"")?j(e):""}function V(e){switch(e.tag){case 5:return j(e.type);case 16:return j("Lazy");case 13:return j("Suspense");case 19:return j("SuspenseList");case 0:case 2:case 15:return e=z(e.type,!1);case 11:return e=z(e.type.render,!1);case 1:return e=z(e.type,!0);default:return""}}function U(e){if(null==e)return null;if("function"===typeof e)return e.displayName||e.name||null;if("string"===typeof e)return e;switch(e){case E:return"Fragment";case S:return"Portal";case k:return"Profiler";case A:return"StrictMode";case I:return"Suspense";case R:return"SuspenseList"}if("object"===typeof e)switch(e.$$typeof){case C:return(e.displayName||"Context")+".Consumer";case x:return(e._context.displayName||"Context")+".Provider";case T:var t=e.render;return(e=e.displayName)||(e=""!==(e=t.displayName||t.name||"")?"ForwardRef("+e+")":"ForwardRef"),e;case M:return null!==(t=e.displayName||null)?t:U(e.type)||"Memo";case P:t=e._payload,e=e._init;try{return U(e(t))}catch(n){}}return null}function W(e){var t=e.type;switch(e.tag){case 24:return"Cache";case 9:return(t.displayName||"Context")+".Consumer";case 10:return(t._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return e=(e=t.render).displayName||e.name||"",t.displayName||(""!==e?"ForwardRef("+e+")":"ForwardRef");case 7:return"Fragment";case 5:return t;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return U(t);case 8:return t===A?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if("function"===typeof t)return t.displayName||t.name||null;if("string"===typeof t)return t}return null}function H(e){switch(typeof e){case"boolean":case"number":case"string":case"undefined":case"object":return e;default:return""}}function q(e){var t=e.type;return(e=e.nodeName)&&"input"===e.toLowerCase()&&("checkbox"===t||"radio"===t)}function G(e){e._valueTracker||(e._valueTracker=function(e){var t=q(e)?"checked":"value",n=Object.getOwnPropertyDescriptor(e.constructor.prototype,t),r=""+e[t];if(!e.hasOwnProperty(t)&&"undefined"!==typeof n&&"function"===typeof n.get&&"function"===typeof n.set){var i=n.get,s=n.set;return Object.defineProperty(e,t,{configurable:!0,get:function(){return i.call(this)},set:function(e){r=""+e,s.call(this,e)}}),Object.defineProperty(e,t,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(e){r=""+e},stopTracking:function(){e._valueTracker=null,delete e[t]}}}}(e))}function K(e){if(!e)return!1;var t=e._valueTracker;if(!t)return!0;var n=t.getValue(),r="";return e&&(r=q(e)?e.checked?"true":"false":e.value),(e=r)!==n&&(t.setValue(e),!0)}function X(e){if("undefined"===typeof(e=e||("undefined"!==typeof document?document:void 0)))return null;try{return e.activeElement||e.body}catch(so){return e.body}}function Q(e,t){var n=t.checked;return F({},t,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:null!=n?n:e._wrapperState.initialChecked})}function Y(e,t){var n=null==t.defaultValue?"":t.defaultValue,r=null!=t.checked?t.checked:t.defaultChecked;n=H(null!=t.value?t.value:n),e._wrapperState={initialChecked:r,initialValue:n,controlled:"checkbox"===t.type||"radio"===t.type?null!=t.checked:null!=t.value}}function J(e,t){null!=(t=t.checked)&&b(e,"checked",t,!1)}function $(e,t){J(e,t);var n=H(t.value),r=t.type;if(null!=n)"number"===r?(0===n&&""===e.value||e.value!=n)&&(e.value=""+n):e.value!==""+n&&(e.value=""+n);else if("submit"===r||"reset"===r)return void e.removeAttribute("value");t.hasOwnProperty("value")?ee(e,t.type,n):t.hasOwnProperty("defaultValue")&&ee(e,t.type,H(t.defaultValue)),null==t.checked&&null!=t.defaultChecked&&(e.defaultChecked=!!t.defaultChecked)}function Z(e,t,n){if(t.hasOwnProperty("value")||t.hasOwnProperty("defaultValue")){var r=t.type;if(!("submit"!==r&&"reset"!==r||void 0!==t.value&&null!==t.value))return;t=""+e._wrapperState.initialValue,n||t===e.value||(e.value=t),e.defaultValue=t}""!==(n=e.name)&&(e.name=""),e.defaultChecked=!!e._wrapperState.initialChecked,""!==n&&(e.name=n)}function ee(e,t,n){"number"===t&&X(e.ownerDocument)===e||(null==n?e.defaultValue=""+e._wrapperState.initialValue:e.defaultValue!==""+n&&(e.defaultValue=""+n))}var te=Array.isArray;function ne(e,t,n,r){if(e=e.options,t){t={};for(var i=0;i<n.length;i++)t["$"+n[i]]=!0;for(n=0;n<e.length;n++)i=t.hasOwnProperty("$"+e[n].value),e[n].selected!==i&&(e[n].selected=i),i&&r&&(e[n].defaultSelected=!0)}else{for(n=""+H(n),t=null,i=0;i<e.length;i++){if(e[i].value===n)return e[i].selected=!0,void(r&&(e[i].defaultSelected=!0));null!==t||e[i].disabled||(t=e[i])}null!==t&&(t.selected=!0)}}function re(e,t){if(null!=t.dangerouslySetInnerHTML)throw Error(s(91));return F({},t,{value:void 0,defaultValue:void 0,children:""+e._wrapperState.initialValue})}function ie(e,t){var n=t.value;if(null==n){if(n=t.children,t=t.defaultValue,null!=n){if(null!=t)throw Error(s(92));if(te(n)){if(1<n.length)throw Error(s(93));n=n[0]}t=n}null==t&&(t=""),n=t}e._wrapperState={initialValue:H(n)}}function se(e,t){var n=H(t.value),r=H(t.defaultValue);null!=n&&((n=""+n)!==e.value&&(e.value=n),null==t.defaultValue&&e.defaultValue!==n&&(e.defaultValue=n)),null!=r&&(e.defaultValue=""+r)}function ae(e){var t=e.textContent;t===e._wrapperState.initialValue&&""!==t&&null!==t&&(e.value=t)}function oe(e){switch(e){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function le(e,t){return null==e||"http://www.w3.org/1999/xhtml"===e?oe(t):"http://www.w3.org/2000/svg"===e&&"foreignObject"===t?"http://www.w3.org/1999/xhtml":e}var ce,ue,he=(ue=function(e,t){if("http://www.w3.org/2000/svg"!==e.namespaceURI||"innerHTML"in e)e.innerHTML=t;else{for((ce=ce||document.createElement("div")).innerHTML="<svg>"+t.valueOf().toString()+"</svg>",t=ce.firstChild;e.firstChild;)e.removeChild(e.firstChild);for(;t.firstChild;)e.appendChild(t.firstChild)}},"undefined"!==typeof MSApp&&MSApp.execUnsafeLocalFunction?function(e,t,n,r){MSApp.execUnsafeLocalFunction((function(){return ue(e,t)}))}:ue);function de(e,t){if(t){var n=e.firstChild;if(n&&n===e.lastChild&&3===n.nodeType)return void(n.nodeValue=t)}e.textContent=t}var pe={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},fe=["Webkit","ms","Moz","O"];function ge(e,t,n){return null==t||"boolean"===typeof t||""===t?"":n||"number"!==typeof t||0===t||pe.hasOwnProperty(e)&&pe[e]?(""+t).trim():t+"px"}function me(e,t){for(var n in e=e.style,t)if(t.hasOwnProperty(n)){var r=0===n.indexOf("--"),i=ge(n,t[n],r);"float"===n&&(n="cssFloat"),r?e.setProperty(n,i):e[n]=i}}Object.keys(pe).forEach((function(e){fe.forEach((function(t){t=t+e.charAt(0).toUpperCase()+e.substring(1),pe[t]=pe[e]}))}));var ve=F({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function ye(e,t){if(t){if(ve[e]&&(null!=t.children||null!=t.dangerouslySetInnerHTML))throw Error(s(137,e));if(null!=t.dangerouslySetInnerHTML){if(null!=t.children)throw Error(s(60));if("object"!==typeof t.dangerouslySetInnerHTML||!("__html"in t.dangerouslySetInnerHTML))throw Error(s(61))}if(null!=t.style&&"object"!==typeof t.style)throw Error(s(62))}}function be(e,t){if(-1===e.indexOf("-"))return"string"===typeof t.is;switch(e){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var we=null;function _e(e){return(e=e.target||e.srcElement||window).correspondingUseElement&&(e=e.correspondingUseElement),3===e.nodeType?e.parentNode:e}var Se=null,Ee=null,Ae=null;function ke(e){if(e=bi(e)){if("function"!==typeof Se)throw Error(s(280));var t=e.stateNode;t&&(t=_i(t),Se(e.stateNode,e.type,t))}}function xe(e){Ee?Ae?Ae.push(e):Ae=[e]:Ee=e}function Ce(){if(Ee){var e=Ee,t=Ae;if(Ae=Ee=null,ke(e),t)for(e=0;e<t.length;e++)ke(t[e])}}function Te(e,t){return e(t)}function Ie(){}var Re=!1;function Me(e,t,n){if(Re)return e(t,n);Re=!0;try{return Te(e,t,n)}finally{Re=!1,(null!==Ee||null!==Ae)&&(Ie(),Ce())}}function Pe(e,t){var n=e.stateNode;if(null===n)return null;var r=_i(n);if(null===r)return null;n=r[t];e:switch(t){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(r=!("button"===(e=e.type)||"input"===e||"select"===e||"textarea"===e)),e=!r;break e;default:e=!1}if(e)return null;if(n&&"function"!==typeof n)throw Error(s(231,t,typeof n));return n}var Ne=!1;if(u)try{var Le={};Object.defineProperty(Le,"passive",{get:function(){Ne=!0}}),window.addEventListener("test",Le,Le),window.removeEventListener("test",Le,Le)}catch(ue){Ne=!1}function De(e,t,n,r,i,s,a,o,l){var c=Array.prototype.slice.call(arguments,3);try{t.apply(n,c)}catch(u){this.onError(u)}}var Oe=!1,Fe=null,je=!1,Be=null,ze={onError:function(e){Oe=!0,Fe=e}};function Ve(e,t,n,r,i,s,a,o,l){Oe=!1,Fe=null,De.apply(ze,arguments)}function Ue(e){var t=e,n=e;if(e.alternate)for(;t.return;)t=t.return;else{e=t;do{0!==(4098&(t=e).flags)&&(n=t.return),e=t.return}while(e)}return 3===t.tag?n:null}function We(e){if(13===e.tag){var t=e.memoizedState;if(null===t&&(null!==(e=e.alternate)&&(t=e.memoizedState)),null!==t)return t.dehydrated}return null}function He(e){if(Ue(e)!==e)throw Error(s(188))}function qe(e){return e=function(e){var t=e.alternate;if(!t){if(null===(t=Ue(e)))throw Error(s(188));return t!==e?null:e}for(var n=e,r=t;;){var i=n.return;if(null===i)break;var a=i.alternate;if(null===a){if(null!==(r=i.return)){n=r;continue}break}if(i.child===a.child){for(a=i.child;a;){if(a===n)return He(i),e;if(a===r)return He(i),t;a=a.sibling}throw Error(s(188))}if(n.return!==r.return)n=i,r=a;else{for(var o=!1,l=i.child;l;){if(l===n){o=!0,n=i,r=a;break}if(l===r){o=!0,r=i,n=a;break}l=l.sibling}if(!o){for(l=a.child;l;){if(l===n){o=!0,n=a,r=i;break}if(l===r){o=!0,r=a,n=i;break}l=l.sibling}if(!o)throw Error(s(189))}}if(n.alternate!==r)throw Error(s(190))}if(3!==n.tag)throw Error(s(188));return n.stateNode.current===n?e:t}(e),null!==e?Ge(e):null}function Ge(e){if(5===e.tag||6===e.tag)return e;for(e=e.child;null!==e;){var t=Ge(e);if(null!==t)return t;e=e.sibling}return null}var Ke=i.unstable_scheduleCallback,Xe=i.unstable_cancelCallback,Qe=i.unstable_shouldYield,Ye=i.unstable_requestPaint,Je=i.unstable_now,$e=i.unstable_getCurrentPriorityLevel,Ze=i.unstable_ImmediatePriority,et=i.unstable_UserBlockingPriority,tt=i.unstable_NormalPriority,nt=i.unstable_LowPriority,rt=i.unstable_IdlePriority,it=null,st=null;var at=Math.clz32?Math.clz32:function(e){return e>>>=0,0===e?32:31-(ot(e)/lt|0)|0},ot=Math.log,lt=Math.LN2;var ct=64,ut=4194304;function ht(e){switch(e&-e){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return 4194240&e;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return 130023424&e;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return e}}function dt(e,t){var n=e.pendingLanes;if(0===n)return 0;var r=0,i=e.suspendedLanes,s=e.pingedLanes,a=268435455&n;if(0!==a){var o=a&~i;0!==o?r=ht(o):0!==(s&=a)&&(r=ht(s))}else 0!==(a=n&~i)?r=ht(a):0!==s&&(r=ht(s));if(0===r)return 0;if(0!==t&&t!==r&&0===(t&i)&&((i=r&-r)>=(s=t&-t)||16===i&&0!==(4194240&s)))return t;if(0!==(4&r)&&(r|=16&n),0!==(t=e.entangledLanes))for(e=e.entanglements,t&=r;0<t;)i=1<<(n=31-at(t)),r|=e[n],t&=~i;return r}function pt(e,t){switch(e){case 1:case 2:case 4:return t+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t+5e3;default:return-1}}function ft(e){return 0!==(e=-1073741825&e.pendingLanes)?e:1073741824&e?1073741824:0}function gt(){var e=ct;return 0===(4194240&(ct<<=1))&&(ct=64),e}function mt(e){for(var t=[],n=0;31>n;n++)t.push(e);return t}function vt(e,t,n){e.pendingLanes|=t,536870912!==t&&(e.suspendedLanes=0,e.pingedLanes=0),(e=e.eventTimes)[t=31-at(t)]=n}function yt(e,t){var n=e.entangledLanes|=t;for(e=e.entanglements;n;){var r=31-at(n),i=1<<r;i&t|e[r]&t&&(e[r]|=t),n&=~i}}var bt=0;function wt(e){return 1<(e&=-e)?4<e?0!==(268435455&e)?16:536870912:4:1}var _t,St,Et,At,kt,xt=!1,Ct=[],Tt=null,It=null,Rt=null,Mt=new Map,Pt=new Map,Nt=[],Lt="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function Dt(e,t){switch(e){case"focusin":case"focusout":Tt=null;break;case"dragenter":case"dragleave":It=null;break;case"mouseover":case"mouseout":Rt=null;break;case"pointerover":case"pointerout":Mt.delete(t.pointerId);break;case"gotpointercapture":case"lostpointercapture":Pt.delete(t.pointerId)}}function Ot(e,t,n,r,i,s){return null===e||e.nativeEvent!==s?(e={blockedOn:t,domEventName:n,eventSystemFlags:r,nativeEvent:s,targetContainers:[i]},null!==t&&(null!==(t=bi(t))&&St(t)),e):(e.eventSystemFlags|=r,t=e.targetContainers,null!==i&&-1===t.indexOf(i)&&t.push(i),e)}function Ft(e){var t=yi(e.target);if(null!==t){var n=Ue(t);if(null!==n)if(13===(t=n.tag)){if(null!==(t=We(n)))return e.blockedOn=t,void kt(e.priority,(function(){Et(n)}))}else if(3===t&&n.stateNode.current.memoizedState.isDehydrated)return void(e.blockedOn=3===n.tag?n.stateNode.containerInfo:null)}e.blockedOn=null}function jt(e){if(null!==e.blockedOn)return!1;for(var t=e.targetContainers;0<t.length;){var n=Qt(e.domEventName,e.eventSystemFlags,t[0],e.nativeEvent);if(null!==n)return null!==(t=bi(n))&&St(t),e.blockedOn=n,!1;var r=new(n=e.nativeEvent).constructor(n.type,n);we=r,n.target.dispatchEvent(r),we=null,t.shift()}return!0}function Bt(e,t,n){jt(e)&&n.delete(t)}function zt(){xt=!1,null!==Tt&&jt(Tt)&&(Tt=null),null!==It&&jt(It)&&(It=null),null!==Rt&&jt(Rt)&&(Rt=null),Mt.forEach(Bt),Pt.forEach(Bt)}function Vt(e,t){e.blockedOn===t&&(e.blockedOn=null,xt||(xt=!0,i.unstable_scheduleCallback(i.unstable_NormalPriority,zt)))}function Ut(e){function t(t){return Vt(t,e)}if(0<Ct.length){Vt(Ct[0],e);for(var n=1;n<Ct.length;n++){var r=Ct[n];r.blockedOn===e&&(r.blockedOn=null)}}for(null!==Tt&&Vt(Tt,e),null!==It&&Vt(It,e),null!==Rt&&Vt(Rt,e),Mt.forEach(t),Pt.forEach(t),n=0;n<Nt.length;n++)(r=Nt[n]).blockedOn===e&&(r.blockedOn=null);for(;0<Nt.length&&null===(n=Nt[0]).blockedOn;)Ft(n),null===n.blockedOn&&Nt.shift()}var Wt=w.ReactCurrentBatchConfig,Ht=!0;function qt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=1,Kt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Gt(e,t,n,r){var i=bt,s=Wt.transition;Wt.transition=null;try{bt=4,Kt(e,t,n,r)}finally{bt=i,Wt.transition=s}}function Kt(e,t,n,r){if(Ht){var i=Qt(e,t,n,r);if(null===i)Hr(e,t,r,Xt,n),Dt(e,r);else if(function(e,t,n,r,i){switch(t){case"focusin":return Tt=Ot(Tt,e,t,n,r,i),!0;case"dragenter":return It=Ot(It,e,t,n,r,i),!0;case"mouseover":return Rt=Ot(Rt,e,t,n,r,i),!0;case"pointerover":var s=i.pointerId;return Mt.set(s,Ot(Mt.get(s)||null,e,t,n,r,i)),!0;case"gotpointercapture":return s=i.pointerId,Pt.set(s,Ot(Pt.get(s)||null,e,t,n,r,i)),!0}return!1}(i,e,t,n,r))r.stopPropagation();else if(Dt(e,r),4&t&&-1<Lt.indexOf(e)){for(;null!==i;){var s=bi(i);if(null!==s&&_t(s),null===(s=Qt(e,t,n,r))&&Hr(e,t,r,Xt,n),s===i)break;i=s}null!==i&&r.stopPropagation()}else Hr(e,t,r,null,n)}}var Xt=null;function Qt(e,t,n,r){if(Xt=null,null!==(e=yi(e=_e(r))))if(null===(t=Ue(e)))e=null;else if(13===(n=t.tag)){if(null!==(e=We(t)))return e;e=null}else if(3===n){if(t.stateNode.current.memoizedState.isDehydrated)return 3===t.tag?t.stateNode.containerInfo:null;e=null}else t!==e&&(e=null);return Xt=e,null}function Yt(e){switch(e){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch($e()){case Ze:return 1;case et:return 4;case tt:case nt:return 16;case rt:return 536870912;default:return 16}default:return 16}}var Jt=null,$t=null,Zt=null;function en(){if(Zt)return Zt;var e,t,n=$t,r=n.length,i="value"in Jt?Jt.value:Jt.textContent,s=i.length;for(e=0;e<r&&n[e]===i[e];e++);var a=r-e;for(t=1;t<=a&&n[r-t]===i[s-t];t++);return Zt=i.slice(e,1<t?1-t:void 0)}function tn(e){var t=e.keyCode;return"charCode"in e?0===(e=e.charCode)&&13===t&&(e=13):e=t,10===e&&(e=13),32<=e||13===e?e:0}function nn(){return!0}function rn(){return!1}function sn(e){function t(t,n,r,i,s){for(var a in this._reactName=t,this._targetInst=r,this.type=n,this.nativeEvent=i,this.target=s,this.currentTarget=null,e)e.hasOwnProperty(a)&&(t=e[a],this[a]=t?t(i):i[a]);return this.isDefaultPrevented=(null!=i.defaultPrevented?i.defaultPrevented:!1===i.returnValue)?nn:rn,this.isPropagationStopped=rn,this}return F(t.prototype,{preventDefault:function(){this.defaultPrevented=!0;var e=this.nativeEvent;e&&(e.preventDefault?e.preventDefault():"unknown"!==typeof e.returnValue&&(e.returnValue=!1),this.isDefaultPrevented=nn)},stopPropagation:function(){var e=this.nativeEvent;e&&(e.stopPropagation?e.stopPropagation():"unknown"!==typeof e.cancelBubble&&(e.cancelBubble=!0),this.isPropagationStopped=nn)},persist:function(){},isPersistent:nn}),t}var an,on,ln,cn={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(e){return e.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},un=sn(cn),hn=F({},cn,{view:0,detail:0}),dn=sn(hn),pn=F({},hn,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:kn,button:0,buttons:0,relatedTarget:function(e){return void 0===e.relatedTarget?e.fromElement===e.srcElement?e.toElement:e.fromElement:e.relatedTarget},movementX:function(e){return"movementX"in e?e.movementX:(e!==ln&&(ln&&"mousemove"===e.type?(an=e.screenX-ln.screenX,on=e.screenY-ln.screenY):on=an=0,ln=e),an)},movementY:function(e){return"movementY"in e?e.movementY:on}}),fn=sn(pn),gn=sn(F({},pn,{dataTransfer:0})),mn=sn(F({},hn,{relatedTarget:0})),vn=sn(F({},cn,{animationName:0,elapsedTime:0,pseudoElement:0})),yn=F({},cn,{clipboardData:function(e){return"clipboardData"in e?e.clipboardData:window.clipboardData}}),bn=sn(yn),wn=sn(F({},cn,{data:0})),_n={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},Sn={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},En={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function An(e){var t=this.nativeEvent;return t.getModifierState?t.getModifierState(e):!!(e=En[e])&&!!t[e]}function kn(){return An}var xn=F({},hn,{key:function(e){if(e.key){var t=_n[e.key]||e.key;if("Unidentified"!==t)return t}return"keypress"===e.type?13===(e=tn(e))?"Enter":String.fromCharCode(e):"keydown"===e.type||"keyup"===e.type?Sn[e.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:kn,charCode:function(e){return"keypress"===e.type?tn(e):0},keyCode:function(e){return"keydown"===e.type||"keyup"===e.type?e.keyCode:0},which:function(e){return"keypress"===e.type?tn(e):"keydown"===e.type||"keyup"===e.type?e.keyCode:0}}),Cn=sn(xn),Tn=sn(F({},pn,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0})),In=sn(F({},hn,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:kn})),Rn=sn(F({},cn,{propertyName:0,elapsedTime:0,pseudoElement:0})),Mn=F({},pn,{deltaX:function(e){return"deltaX"in e?e.deltaX:"wheelDeltaX"in e?-e.wheelDeltaX:0},deltaY:function(e){return"deltaY"in e?e.deltaY:"wheelDeltaY"in e?-e.wheelDeltaY:"wheelDelta"in e?-e.wheelDelta:0},deltaZ:0,deltaMode:0}),Pn=sn(Mn),Nn=[9,13,27,32],Ln=u&&"CompositionEvent"in window,Dn=null;u&&"documentMode"in document&&(Dn=document.documentMode);var On=u&&"TextEvent"in window&&!Dn,Fn=u&&(!Ln||Dn&&8<Dn&&11>=Dn),jn=String.fromCharCode(32),Bn=!1;function zn(e,t){switch(e){case"keyup":return-1!==Nn.indexOf(t.keyCode);case"keydown":return 229!==t.keyCode;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Vn(e){return"object"===typeof(e=e.detail)&&"data"in e?e.data:null}var Un=!1;var Wn={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Hn(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return"input"===t?!!Wn[e.type]:"textarea"===t}function qn(e,t,n,r){xe(r),0<(t=Gr(t,"onChange")).length&&(n=new un("onChange","change",null,n,r),e.push({event:n,listeners:t}))}var Gn=null,Kn=null;function Xn(e){jr(e,0)}function Qn(e){if(K(wi(e)))return e}function Yn(e,t){if("change"===e)return t}var Jn=!1;if(u){var $n;if(u){var Zn="oninput"in document;if(!Zn){var er=document.createElement("div");er.setAttribute("oninput","return;"),Zn="function"===typeof er.oninput}$n=Zn}else $n=!1;Jn=$n&&(!document.documentMode||9<document.documentMode)}function tr(){Gn&&(Gn.detachEvent("onpropertychange",nr),Kn=Gn=null)}function nr(e){if("value"===e.propertyName&&Qn(Kn)){var t=[];qn(t,Kn,e,_e(e)),Me(Xn,t)}}function rr(e,t,n){"focusin"===e?(tr(),Kn=n,(Gn=t).attachEvent("onpropertychange",nr)):"focusout"===e&&tr()}function ir(e){if("selectionchange"===e||"keyup"===e||"keydown"===e)return Qn(Kn)}function sr(e,t){if("click"===e)return Qn(t)}function ar(e,t){if("input"===e||"change"===e)return Qn(t)}var or="function"===typeof Object.is?Object.is:function(e,t){return e===t&&(0!==e||1/e===1/t)||e!==e&&t!==t};function lr(e,t){if(or(e,t))return!0;if("object"!==typeof e||null===e||"object"!==typeof t||null===t)return!1;var n=Object.keys(e),r=Object.keys(t);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var i=n[r];if(!h.call(t,i)||!or(e[i],t[i]))return!1}return!0}function cr(e){for(;e&&e.firstChild;)e=e.firstChild;return e}function ur(e,t){var n,r=cr(e);for(e=0;r;){if(3===r.nodeType){if(n=e+r.textContent.length,e<=t&&n>=t)return{node:r,offset:t-e};e=n}e:{for(;r;){if(r.nextSibling){r=r.nextSibling;break e}r=r.parentNode}r=void 0}r=cr(r)}}function hr(e,t){return!(!e||!t)&&(e===t||(!e||3!==e.nodeType)&&(t&&3===t.nodeType?hr(e,t.parentNode):"contains"in e?e.contains(t):!!e.compareDocumentPosition&&!!(16&e.compareDocumentPosition(t))))}function dr(){for(var e=window,t=X();t instanceof e.HTMLIFrameElement;){try{var n="string"===typeof t.contentWindow.location.href}catch(r){n=!1}if(!n)break;t=X((e=t.contentWindow).document)}return t}function pr(e){var t=e&&e.nodeName&&e.nodeName.toLowerCase();return t&&("input"===t&&("text"===e.type||"search"===e.type||"tel"===e.type||"url"===e.type||"password"===e.type)||"textarea"===t||"true"===e.contentEditable)}function fr(e){var t=dr(),n=e.focusedElem,r=e.selectionRange;if(t!==n&&n&&n.ownerDocument&&hr(n.ownerDocument.documentElement,n)){if(null!==r&&pr(n))if(t=r.start,void 0===(e=r.end)&&(e=t),"selectionStart"in n)n.selectionStart=t,n.selectionEnd=Math.min(e,n.value.length);else if((e=(t=n.ownerDocument||document)&&t.defaultView||window).getSelection){e=e.getSelection();var i=n.textContent.length,s=Math.min(r.start,i);r=void 0===r.end?s:Math.min(r.end,i),!e.extend&&s>r&&(i=r,r=s,s=i),i=ur(n,s);var a=ur(n,r);i&&a&&(1!==e.rangeCount||e.anchorNode!==i.node||e.anchorOffset!==i.offset||e.focusNode!==a.node||e.focusOffset!==a.offset)&&((t=t.createRange()).setStart(i.node,i.offset),e.removeAllRanges(),s>r?(e.addRange(t),e.extend(a.node,a.offset)):(t.setEnd(a.node,a.offset),e.addRange(t)))}for(t=[],e=n;e=e.parentNode;)1===e.nodeType&&t.push({element:e,left:e.scrollLeft,top:e.scrollTop});for("function"===typeof n.focus&&n.focus(),n=0;n<t.length;n++)(e=t[n]).element.scrollLeft=e.left,e.element.scrollTop=e.top}}var gr=u&&"documentMode"in document&&11>=document.documentMode,mr=null,vr=null,yr=null,br=!1;function wr(e,t,n){var r=n.window===n?n.document:9===n.nodeType?n:n.ownerDocument;br||null==mr||mr!==X(r)||("selectionStart"in(r=mr)&&pr(r)?r={start:r.selectionStart,end:r.selectionEnd}:r={anchorNode:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection()).anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset},yr&&lr(yr,r)||(yr=r,0<(r=Gr(vr,"onSelect")).length&&(t=new un("onSelect","select",null,t,n),e.push({event:t,listeners:r}),t.target=mr)))}function _r(e,t){var n={};return n[e.toLowerCase()]=t.toLowerCase(),n["Webkit"+e]="webkit"+t,n["Moz"+e]="moz"+t,n}var Sr={animationend:_r("Animation","AnimationEnd"),animationiteration:_r("Animation","AnimationIteration"),animationstart:_r("Animation","AnimationStart"),transitionend:_r("Transition","TransitionEnd")},Er={},Ar={};function kr(e){if(Er[e])return Er[e];if(!Sr[e])return e;var t,n=Sr[e];for(t in n)if(n.hasOwnProperty(t)&&t in Ar)return Er[e]=n[t];return e}u&&(Ar=document.createElement("div").style,"AnimationEvent"in window||(delete Sr.animationend.animation,delete Sr.animationiteration.animation,delete Sr.animationstart.animation),"TransitionEvent"in window||delete Sr.transitionend.transition);var xr=kr("animationend"),Cr=kr("animationiteration"),Tr=kr("animationstart"),Ir=kr("transitionend"),Rr=new Map,Mr="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Pr(e,t){Rr.set(e,t),l(t,[e])}for(var Nr=0;Nr<Mr.length;Nr++){var Lr=Mr[Nr];Pr(Lr.toLowerCase(),"on"+(Lr[0].toUpperCase()+Lr.slice(1)))}Pr(xr,"onAnimationEnd"),Pr(Cr,"onAnimationIteration"),Pr(Tr,"onAnimationStart"),Pr("dblclick","onDoubleClick"),Pr("focusin","onFocus"),Pr("focusout","onBlur"),Pr(Ir,"onTransitionEnd"),c("onMouseEnter",["mouseout","mouseover"]),c("onMouseLeave",["mouseout","mouseover"]),c("onPointerEnter",["pointerout","pointerover"]),c("onPointerLeave",["pointerout","pointerover"]),l("onChange","change click focusin focusout input keydown keyup selectionchange".split(" ")),l("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" ")),l("onBeforeInput",["compositionend","keypress","textInput","paste"]),l("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" ")),l("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var Dr="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),Or=new Set("cancel close invalid load scroll toggle".split(" ").concat(Dr));function Fr(e,t,n){var r=e.type||"unknown-event";e.currentTarget=n,function(e,t,n,r,i,a,o,l,c){if(Ve.apply(this,arguments),Oe){if(!Oe)throw Error(s(198));var u=Fe;Oe=!1,Fe=null,je||(je=!0,Be=u)}}(r,t,void 0,e),e.currentTarget=null}function jr(e,t){t=0!==(4&t);for(var n=0;n<e.length;n++){var r=e[n],i=r.event;r=r.listeners;e:{var s=void 0;if(t)for(var a=r.length-1;0<=a;a--){var o=r[a],l=o.instance,c=o.currentTarget;if(o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}else for(a=0;a<r.length;a++){if(l=(o=r[a]).instance,c=o.currentTarget,o=o.listener,l!==s&&i.isPropagationStopped())break e;Fr(i,o,c),s=l}}}if(je)throw e=Be,je=!1,Be=null,e}function Br(e,t){var n=t[gi];void 0===n&&(n=t[gi]=new Set);var r=e+"__bubble";n.has(r)||(Wr(t,e,2,!1),n.add(r))}function zr(e,t,n){var r=0;t&&(r|=4),Wr(n,e,r,t)}var Vr="_reactListening"+Math.random().toString(36).slice(2);function Ur(e){if(!e[Vr]){e[Vr]=!0,a.forEach((function(t){"selectionchange"!==t&&(Or.has(t)||zr(t,!1,e),zr(t,!0,e))}));var t=9===e.nodeType?e:e.ownerDocument;null===t||t[Vr]||(t[Vr]=!0,zr("selectionchange",!1,t))}}function Wr(e,t,n,r){switch(Yt(t)){case 1:var i=qt;break;case 4:i=Gt;break;default:i=Kt}n=i.bind(null,t,n,e),i=void 0,!Ne||"touchstart"!==t&&"touchmove"!==t&&"wheel"!==t||(i=!0),r?void 0!==i?e.addEventListener(t,n,{capture:!0,passive:i}):e.addEventListener(t,n,!0):void 0!==i?e.addEventListener(t,n,{passive:i}):e.addEventListener(t,n,!1)}function Hr(e,t,n,r,i){var s=r;if(0===(1&t)&&0===(2&t)&&null!==r)e:for(;;){if(null===r)return;var a=r.tag;if(3===a||4===a){var o=r.stateNode.containerInfo;if(o===i||8===o.nodeType&&o.parentNode===i)break;if(4===a)for(a=r.return;null!==a;){var l=a.tag;if((3===l||4===l)&&((l=a.stateNode.containerInfo)===i||8===l.nodeType&&l.parentNode===i))return;a=a.return}for(;null!==o;){if(null===(a=yi(o)))return;if(5===(l=a.tag)||6===l){r=s=a;continue e}o=o.parentNode}}r=r.return}Me((function(){var r=s,i=_e(n),a=[];e:{var o=Rr.get(e);if(void 0!==o){var l=un,c=e;switch(e){case"keypress":if(0===tn(n))break e;case"keydown":case"keyup":l=Cn;break;case"focusin":c="focus",l=mn;break;case"focusout":c="blur",l=mn;break;case"beforeblur":case"afterblur":l=mn;break;case"click":if(2===n.button)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":l=fn;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":l=gn;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":l=In;break;case xr:case Cr:case Tr:l=vn;break;case Ir:l=Rn;break;case"scroll":l=dn;break;case"wheel":l=Pn;break;case"copy":case"cut":case"paste":l=bn;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":l=Tn}var u=0!==(4&t),h=!u&&"scroll"===e,d=u?null!==o?o+"Capture":null:o;u=[];for(var p,f=r;null!==f;){var g=(p=f).stateNode;if(5===p.tag&&null!==g&&(p=g,null!==d&&(null!=(g=Pe(f,d))&&u.push(qr(f,g,p)))),h)break;f=f.return}0<u.length&&(o=new l(o,c,null,n,i),a.push({event:o,listeners:u}))}}if(0===(7&t)){if(l="mouseout"===e||"pointerout"===e,(!(o="mouseover"===e||"pointerover"===e)||n===we||!(c=n.relatedTarget||n.fromElement)||!yi(c)&&!c[fi])&&(l||o)&&(o=i.window===i?i:(o=i.ownerDocument)?o.defaultView||o.parentWindow:window,l?(l=r,null!==(c=(c=n.relatedTarget||n.toElement)?yi(c):null)&&(c!==(h=Ue(c))||5!==c.tag&&6!==c.tag)&&(c=null)):(l=null,c=r),l!==c)){if(u=fn,g="onMouseLeave",d="onMouseEnter",f="mouse","pointerout"!==e&&"pointerover"!==e||(u=Tn,g="onPointerLeave",d="onPointerEnter",f="pointer"),h=null==l?o:wi(l),p=null==c?o:wi(c),(o=new u(g,f+"leave",l,n,i)).target=h,o.relatedTarget=p,g=null,yi(i)===r&&((u=new u(d,f+"enter",c,n,i)).target=p,u.relatedTarget=h,g=u),h=g,l&&c)e:{for(d=c,f=0,p=u=l;p;p=Kr(p))f++;for(p=0,g=d;g;g=Kr(g))p++;for(;0<f-p;)u=Kr(u),f--;for(;0<p-f;)d=Kr(d),p--;for(;f--;){if(u===d||null!==d&&u===d.alternate)break e;u=Kr(u),d=Kr(d)}u=null}else u=null;null!==l&&Xr(a,o,l,u,!1),null!==c&&null!==h&&Xr(a,h,c,u,!0)}if("select"===(l=(o=r?wi(r):window).nodeName&&o.nodeName.toLowerCase())||"input"===l&&"file"===o.type)var m=Yn;else if(Hn(o))if(Jn)m=ar;else{m=ir;var v=rr}else(l=o.nodeName)&&"input"===l.toLowerCase()&&("checkbox"===o.type||"radio"===o.type)&&(m=sr);switch(m&&(m=m(e,r))?qn(a,m,n,i):(v&&v(e,o,r),"focusout"===e&&(v=o._wrapperState)&&v.controlled&&"number"===o.type&&ee(o,"number",o.value)),v=r?wi(r):window,e){case"focusin":(Hn(v)||"true"===v.contentEditable)&&(mr=v,vr=r,yr=null);break;case"focusout":yr=vr=mr=null;break;case"mousedown":br=!0;break;case"contextmenu":case"mouseup":case"dragend":br=!1,wr(a,n,i);break;case"selectionchange":if(gr)break;case"keydown":case"keyup":wr(a,n,i)}var y;if(Ln)e:{switch(e){case"compositionstart":var b="onCompositionStart";break e;case"compositionend":b="onCompositionEnd";break e;case"compositionupdate":b="onCompositionUpdate";break e}b=void 0}else Un?zn(e,n)&&(b="onCompositionEnd"):"keydown"===e&&229===n.keyCode&&(b="onCompositionStart");b&&(Fn&&"ko"!==n.locale&&(Un||"onCompositionStart"!==b?"onCompositionEnd"===b&&Un&&(y=en()):($t="value"in(Jt=i)?Jt.value:Jt.textContent,Un=!0)),0<(v=Gr(r,b)).length&&(b=new wn(b,e,null,n,i),a.push({event:b,listeners:v}),y?b.data=y:null!==(y=Vn(n))&&(b.data=y))),(y=On?function(e,t){switch(e){case"compositionend":return Vn(t);case"keypress":return 32!==t.which?null:(Bn=!0,jn);case"textInput":return(e=t.data)===jn&&Bn?null:e;default:return null}}(e,n):function(e,t){if(Un)return"compositionend"===e||!Ln&&zn(e,t)?(e=en(),Zt=$t=Jt=null,Un=!1,e):null;switch(e){case"paste":default:return null;case"keypress":if(!(t.ctrlKey||t.altKey||t.metaKey)||t.ctrlKey&&t.altKey){if(t.char&&1<t.char.length)return t.char;if(t.which)return String.fromCharCode(t.which)}return null;case"compositionend":return Fn&&"ko"!==t.locale?null:t.data}}(e,n))&&(0<(r=Gr(r,"onBeforeInput")).length&&(i=new wn("onBeforeInput","beforeinput",null,n,i),a.push({event:i,listeners:r}),i.data=y))}jr(a,t)}))}function qr(e,t,n){return{instance:e,listener:t,currentTarget:n}}function Gr(e,t){for(var n=t+"Capture",r=[];null!==e;){var i=e,s=i.stateNode;5===i.tag&&null!==s&&(i=s,null!=(s=Pe(e,n))&&r.unshift(qr(e,s,i)),null!=(s=Pe(e,t))&&r.push(qr(e,s,i))),e=e.return}return r}function Kr(e){if(null===e)return null;do{e=e.return}while(e&&5!==e.tag);return e||null}function Xr(e,t,n,r,i){for(var s=t._reactName,a=[];null!==n&&n!==r;){var o=n,l=o.alternate,c=o.stateNode;if(null!==l&&l===r)break;5===o.tag&&null!==c&&(o=c,i?null!=(l=Pe(n,s))&&a.unshift(qr(n,l,o)):i||null!=(l=Pe(n,s))&&a.push(qr(n,l,o))),n=n.return}0!==a.length&&e.push({event:t,listeners:a})}var Qr=/\r\n?/g,Yr=/\u0000|\uFFFD/g;function Jr(e){return("string"===typeof e?e:""+e).replace(Qr,"\n").replace(Yr,"")}function $r(e,t,n){if(t=Jr(t),Jr(e)!==t&&n)throw Error(s(425))}function Zr(){}var ei=null,ti=null;function ni(e,t){return"textarea"===e||"noscript"===e||"string"===typeof t.children||"number"===typeof t.children||"object"===typeof t.dangerouslySetInnerHTML&&null!==t.dangerouslySetInnerHTML&&null!=t.dangerouslySetInnerHTML.__html}var ri="function"===typeof setTimeout?setTimeout:void 0,ii="function"===typeof clearTimeout?clearTimeout:void 0,si="function"===typeof Promise?Promise:void 0,ai="function"===typeof queueMicrotask?queueMicrotask:"undefined"!==typeof si?function(e){return si.resolve(null).then(e).catch(oi)}:ri;function oi(e){setTimeout((function(){throw e}))}function li(e,t){var n=t,r=0;do{var i=n.nextSibling;if(e.removeChild(n),i&&8===i.nodeType)if("/$"===(n=i.data)){if(0===r)return e.removeChild(i),void Ut(t);r--}else"$"!==n&&"$?"!==n&&"$!"!==n||r++;n=i}while(n);Ut(t)}function ci(e){for(;null!=e;e=e.nextSibling){var t=e.nodeType;if(1===t||3===t)break;if(8===t){if("$"===(t=e.data)||"$!"===t||"$?"===t)break;if("/$"===t)return null}}return e}function ui(e){e=e.previousSibling;for(var t=0;e;){if(8===e.nodeType){var n=e.data;if("$"===n||"$!"===n||"$?"===n){if(0===t)return e;t--}else"/$"===n&&t++}e=e.previousSibling}return null}var hi=Math.random().toString(36).slice(2),di="__reactFiber$"+hi,pi="__reactProps$"+hi,fi="__reactContainer$"+hi,gi="__reactEvents$"+hi,mi="__reactListeners$"+hi,vi="__reactHandles$"+hi;function yi(e){var t=e[di];if(t)return t;for(var n=e.parentNode;n;){if(t=n[fi]||n[di]){if(n=t.alternate,null!==t.child||null!==n&&null!==n.child)for(e=ui(e);null!==e;){if(n=e[di])return n;e=ui(e)}return t}n=(e=n).parentNode}return null}function bi(e){return!(e=e[di]||e[fi])||5!==e.tag&&6!==e.tag&&13!==e.tag&&3!==e.tag?null:e}function wi(e){if(5===e.tag||6===e.tag)return e.stateNode;throw Error(s(33))}function _i(e){return e[pi]||null}var Si=[],Ei=-1;function Ai(e){return{current:e}}function ki(e){0>Ei||(e.current=Si[Ei],Si[Ei]=null,Ei--)}function xi(e,t){Ei++,Si[Ei]=e.current,e.current=t}var Ci={},Ti=Ai(Ci),Ii=Ai(!1),Ri=Ci;function Mi(e,t){var n=e.type.contextTypes;if(!n)return Ci;var r=e.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===t)return r.__reactInternalMemoizedMaskedChildContext;var i,s={};for(i in n)s[i]=t[i];return r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=t,e.__reactInternalMemoizedMaskedChildContext=s),s}function Pi(e){return null!==(e=e.childContextTypes)&&void 0!==e}function Ni(){ki(Ii),ki(Ti)}function Li(e,t,n){if(Ti.current!==Ci)throw Error(s(168));xi(Ti,t),xi(Ii,n)}function Di(e,t,n){var r=e.stateNode;if(t=t.childContextTypes,"function"!==typeof r.getChildContext)return n;for(var i in r=r.getChildContext())if(!(i in t))throw Error(s(108,W(e)||"Unknown",i));return F({},n,r)}function Oi(e){return e=(e=e.stateNode)&&e.__reactInternalMemoizedMergedChildContext||Ci,Ri=Ti.current,xi(Ti,e),xi(Ii,Ii.current),!0}function Fi(e,t,n){var r=e.stateNode;if(!r)throw Error(s(169));n?(e=Di(e,t,Ri),r.__reactInternalMemoizedMergedChildContext=e,ki(Ii),ki(Ti),xi(Ti,e)):ki(Ii),xi(Ii,n)}var ji=null,Bi=!1,zi=!1;function Vi(e){null===ji?ji=[e]:ji.push(e)}function Ui(){if(!zi&&null!==ji){zi=!0;var e=0,t=bt;try{var n=ji;for(bt=1;e<n.length;e++){var r=n[e];do{r=r(!0)}while(null!==r)}ji=null,Bi=!1}catch(i){throw null!==ji&&(ji=ji.slice(e+1)),Ke(Ze,Ui),i}finally{bt=t,zi=!1}}return null}var Wi=[],Hi=0,qi=null,Gi=0,Ki=[],Xi=0,Qi=null,Yi=1,Ji="";function $i(e,t){Wi[Hi++]=Gi,Wi[Hi++]=qi,qi=e,Gi=t}function Zi(e,t,n){Ki[Xi++]=Yi,Ki[Xi++]=Ji,Ki[Xi++]=Qi,Qi=e;var r=Yi;e=Ji;var i=32-at(r)-1;r&=~(1<<i),n+=1;var s=32-at(t)+i;if(30<s){var a=i-i%5;s=(r&(1<<a)-1).toString(32),r>>=a,i-=a,Yi=1<<32-at(t)+i|n<<i|r,Ji=s+e}else Yi=1<<s|n<<i|r,Ji=e}function es(e){null!==e.return&&($i(e,1),Zi(e,1,0))}function ts(e){for(;e===qi;)qi=Wi[--Hi],Wi[Hi]=null,Gi=Wi[--Hi],Wi[Hi]=null;for(;e===Qi;)Qi=Ki[--Xi],Ki[Xi]=null,Ji=Ki[--Xi],Ki[Xi]=null,Yi=Ki[--Xi],Ki[Xi]=null}var ns=null,rs=null,is=!1,ss=null;function as(e,t){var n=Pc(5,null,null,0);n.elementType="DELETED",n.stateNode=t,n.return=e,null===(t=e.deletions)?(e.deletions=[n],e.flags|=16):t.push(n)}function os(e,t){switch(e.tag){case 5:var n=e.type;return null!==(t=1!==t.nodeType||n.toLowerCase()!==t.nodeName.toLowerCase()?null:t)&&(e.stateNode=t,ns=e,rs=ci(t.firstChild),!0);case 6:return null!==(t=""===e.pendingProps||3!==t.nodeType?null:t)&&(e.stateNode=t,ns=e,rs=null,!0);case 13:return null!==(t=8!==t.nodeType?null:t)&&(n=null!==Qi?{id:Yi,overflow:Ji}:null,e.memoizedState={dehydrated:t,treeContext:n,retryLane:1073741824},(n=Pc(18,null,null,0)).stateNode=t,n.return=e,e.child=n,ns=e,rs=null,!0);default:return!1}}function ls(e){return 0!==(1&e.mode)&&0===(128&e.flags)}function cs(e){if(is){var t=rs;if(t){var n=t;if(!os(e,t)){if(ls(e))throw Error(s(418));t=ci(n.nextSibling);var r=ns;t&&os(e,t)?as(r,n):(e.flags=-4097&e.flags|2,is=!1,ns=e)}}else{if(ls(e))throw Error(s(418));e.flags=-4097&e.flags|2,is=!1,ns=e}}}function us(e){for(e=e.return;null!==e&&5!==e.tag&&3!==e.tag&&13!==e.tag;)e=e.return;ns=e}function hs(e){if(e!==ns)return!1;if(!is)return us(e),is=!0,!1;var t;if((t=3!==e.tag)&&!(t=5!==e.tag)&&(t="head"!==(t=e.type)&&"body"!==t&&!ni(e.type,e.memoizedProps)),t&&(t=rs)){if(ls(e))throw ds(),Error(s(418));for(;t;)as(e,t),t=ci(t.nextSibling)}if(us(e),13===e.tag){if(!(e=null!==(e=e.memoizedState)?e.dehydrated:null))throw Error(s(317));e:{for(e=e.nextSibling,t=0;e;){if(8===e.nodeType){var n=e.data;if("/$"===n){if(0===t){rs=ci(e.nextSibling);break e}t--}else"$"!==n&&"$!"!==n&&"$?"!==n||t++}e=e.nextSibling}rs=null}}else rs=ns?ci(e.stateNode.nextSibling):null;return!0}function ds(){for(var e=rs;e;)e=ci(e.nextSibling)}function ps(){rs=ns=null,is=!1}function fs(e){null===ss?ss=[e]:ss.push(e)}var gs=w.ReactCurrentBatchConfig;function ms(e,t,n){if(null!==(e=n.ref)&&"function"!==typeof e&&"object"!==typeof e){if(n._owner){if(n=n._owner){if(1!==n.tag)throw Error(s(309));var r=n.stateNode}if(!r)throw Error(s(147,e));var i=r,a=""+e;return null!==t&&null!==t.ref&&"function"===typeof t.ref&&t.ref._stringRef===a?t.ref:(t=function(e){var t=i.refs;null===e?delete t[a]:t[a]=e},t._stringRef=a,t)}if("string"!==typeof e)throw Error(s(284));if(!n._owner)throw Error(s(290,e))}return e}function vs(e,t){throw e=Object.prototype.toString.call(t),Error(s(31,"[object Object]"===e?"object with keys {"+Object.keys(t).join(", ")+"}":e))}function ys(e){return(0,e._init)(e._payload)}function bs(e){function t(t,n){if(e){var r=t.deletions;null===r?(t.deletions=[n],t.flags|=16):r.push(n)}}function n(n,r){if(!e)return null;for(;null!==r;)t(n,r),r=r.sibling;return null}function r(e,t){for(e=new Map;null!==t;)null!==t.key?e.set(t.key,t):e.set(t.index,t),t=t.sibling;return e}function i(e,t){return(e=Lc(e,t)).index=0,e.sibling=null,e}function a(t,n,r){return t.index=r,e?null!==(r=t.alternate)?(r=r.index)<n?(t.flags|=2,n):r:(t.flags|=2,n):(t.flags|=1048576,n)}function o(t){return e&&null===t.alternate&&(t.flags|=2),t}function l(e,t,n,r){return null===t||6!==t.tag?((t=jc(n,e.mode,r)).return=e,t):((t=i(t,n)).return=e,t)}function c(e,t,n,r){var s=n.type;return s===E?h(e,t,n.props.children,r,n.key):null!==t&&(t.elementType===s||"object"===typeof s&&null!==s&&s.$$typeof===P&&ys(s)===t.type)?((r=i(t,n.props)).ref=ms(e,t,n),r.return=e,r):((r=Dc(n.type,n.key,n.props,null,e.mode,r)).ref=ms(e,t,n),r.return=e,r)}function u(e,t,n,r){return null===t||4!==t.tag||t.stateNode.containerInfo!==n.containerInfo||t.stateNode.implementation!==n.implementation?((t=Bc(n,e.mode,r)).return=e,t):((t=i(t,n.children||[])).return=e,t)}function h(e,t,n,r,s){return null===t||7!==t.tag?((t=Oc(n,e.mode,r,s)).return=e,t):((t=i(t,n)).return=e,t)}function d(e,t,n){if("string"===typeof t&&""!==t||"number"===typeof t)return(t=jc(""+t,e.mode,n)).return=e,t;if("object"===typeof t&&null!==t){switch(t.$$typeof){case _:return(n=Dc(t.type,t.key,t.props,null,e.mode,n)).ref=ms(e,null,t),n.return=e,n;case S:return(t=Bc(t,e.mode,n)).return=e,t;case P:return d(e,(0,t._init)(t._payload),n)}if(te(t)||D(t))return(t=Oc(t,e.mode,n,null)).return=e,t;vs(e,t)}return null}function p(e,t,n,r){var i=null!==t?t.key:null;if("string"===typeof n&&""!==n||"number"===typeof n)return null!==i?null:l(e,t,""+n,r);if("object"===typeof n&&null!==n){switch(n.$$typeof){case _:return n.key===i?c(e,t,n,r):null;case S:return n.key===i?u(e,t,n,r):null;case P:return p(e,t,(i=n._init)(n._payload),r)}if(te(n)||D(n))return null!==i?null:h(e,t,n,r,null);vs(e,n)}return null}function f(e,t,n,r,i){if("string"===typeof r&&""!==r||"number"===typeof r)return l(t,e=e.get(n)||null,""+r,i);if("object"===typeof r&&null!==r){switch(r.$$typeof){case _:return c(t,e=e.get(null===r.key?n:r.key)||null,r,i);case S:return u(t,e=e.get(null===r.key?n:r.key)||null,r,i);case P:return f(e,t,n,(0,r._init)(r._payload),i)}if(te(r)||D(r))return h(t,e=e.get(n)||null,r,i,null);vs(t,r)}return null}function g(i,s,o,l){for(var c=null,u=null,h=s,g=s=0,m=null;null!==h&&g<o.length;g++){h.index>g?(m=h,h=null):m=h.sibling;var v=p(i,h,o[g],l);if(null===v){null===h&&(h=m);break}e&&h&&null===v.alternate&&t(i,h),s=a(v,s,g),null===u?c=v:u.sibling=v,u=v,h=m}if(g===o.length)return n(i,h),is&&$i(i,g),c;if(null===h){for(;g<o.length;g++)null!==(h=d(i,o[g],l))&&(s=a(h,s,g),null===u?c=h:u.sibling=h,u=h);return is&&$i(i,g),c}for(h=r(i,h);g<o.length;g++)null!==(m=f(h,i,g,o[g],l))&&(e&&null!==m.alternate&&h.delete(null===m.key?g:m.key),s=a(m,s,g),null===u?c=m:u.sibling=m,u=m);return e&&h.forEach((function(e){return t(i,e)})),is&&$i(i,g),c}function m(i,o,l,c){var u=D(l);if("function"!==typeof u)throw Error(s(150));if(null==(l=u.call(l)))throw Error(s(151));for(var h=u=null,g=o,m=o=0,v=null,y=l.next();null!==g&&!y.done;m++,y=l.next()){g.index>m?(v=g,g=null):v=g.sibling;var b=p(i,g,y.value,c);if(null===b){null===g&&(g=v);break}e&&g&&null===b.alternate&&t(i,g),o=a(b,o,m),null===h?u=b:h.sibling=b,h=b,g=v}if(y.done)return n(i,g),is&&$i(i,m),u;if(null===g){for(;!y.done;m++,y=l.next())null!==(y=d(i,y.value,c))&&(o=a(y,o,m),null===h?u=y:h.sibling=y,h=y);return is&&$i(i,m),u}for(g=r(i,g);!y.done;m++,y=l.next())null!==(y=f(g,i,m,y.value,c))&&(e&&null!==y.alternate&&g.delete(null===y.key?m:y.key),o=a(y,o,m),null===h?u=y:h.sibling=y,h=y);return e&&g.forEach((function(e){return t(i,e)})),is&&$i(i,m),u}return function e(r,s,a,l){if("object"===typeof a&&null!==a&&a.type===E&&null===a.key&&(a=a.props.children),"object"===typeof a&&null!==a){switch(a.$$typeof){case _:e:{for(var c=a.key,u=s;null!==u;){if(u.key===c){if((c=a.type)===E){if(7===u.tag){n(r,u.sibling),(s=i(u,a.props.children)).return=r,r=s;break e}}else if(u.elementType===c||"object"===typeof c&&null!==c&&c.$$typeof===P&&ys(c)===u.type){n(r,u.sibling),(s=i(u,a.props)).ref=ms(r,u,a),s.return=r,r=s;break e}n(r,u);break}t(r,u),u=u.sibling}a.type===E?((s=Oc(a.props.children,r.mode,l,a.key)).return=r,r=s):((l=Dc(a.type,a.key,a.props,null,r.mode,l)).ref=ms(r,s,a),l.return=r,r=l)}return o(r);case S:e:{for(u=a.key;null!==s;){if(s.key===u){if(4===s.tag&&s.stateNode.containerInfo===a.containerInfo&&s.stateNode.implementation===a.implementation){n(r,s.sibling),(s=i(s,a.children||[])).return=r,r=s;break e}n(r,s);break}t(r,s),s=s.sibling}(s=Bc(a,r.mode,l)).return=r,r=s}return o(r);case P:return e(r,s,(u=a._init)(a._payload),l)}if(te(a))return g(r,s,a,l);if(D(a))return m(r,s,a,l);vs(r,a)}return"string"===typeof a&&""!==a||"number"===typeof a?(a=""+a,null!==s&&6===s.tag?(n(r,s.sibling),(s=i(s,a)).return=r,r=s):(n(r,s),(s=jc(a,r.mode,l)).return=r,r=s),o(r)):n(r,s)}}var ws=bs(!0),_s=bs(!1),Ss=Ai(null),Es=null,As=null,ks=null;function xs(){ks=As=Es=null}function Cs(e){var t=Ss.current;ki(Ss),e._currentValue=t}function Ts(e,t,n){for(;null!==e;){var r=e.alternate;if((e.childLanes&t)!==t?(e.childLanes|=t,null!==r&&(r.childLanes|=t)):null!==r&&(r.childLanes&t)!==t&&(r.childLanes|=t),e===n)break;e=e.return}}function Is(e,t){Es=e,ks=As=null,null!==(e=e.dependencies)&&null!==e.firstContext&&(0!==(e.lanes&t)&&(wo=!0),e.firstContext=null)}function Rs(e){var t=e._currentValue;if(ks!==e)if(e={context:e,memoizedValue:t,next:null},null===As){if(null===Es)throw Error(s(308));As=e,Es.dependencies={lanes:0,firstContext:e}}else As=As.next=e;return t}var Ms=null;function Ps(e){null===Ms?Ms=[e]:Ms.push(e)}function Ns(e,t,n,r){var i=t.interleaved;return null===i?(n.next=n,Ps(t)):(n.next=i.next,i.next=n),t.interleaved=n,Ls(e,r)}function Ls(e,t){e.lanes|=t;var n=e.alternate;for(null!==n&&(n.lanes|=t),n=e,e=e.return;null!==e;)e.childLanes|=t,null!==(n=e.alternate)&&(n.childLanes|=t),n=e,e=e.return;return 3===n.tag?n.stateNode:null}var Ds=!1;function Os(e){e.updateQueue={baseState:e.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function Fs(e,t){e=e.updateQueue,t.updateQueue===e&&(t.updateQueue={baseState:e.baseState,firstBaseUpdate:e.firstBaseUpdate,lastBaseUpdate:e.lastBaseUpdate,shared:e.shared,effects:e.effects})}function js(e,t){return{eventTime:e,lane:t,tag:0,payload:null,callback:null,next:null}}function Bs(e,t,n){var r=e.updateQueue;if(null===r)return null;if(r=r.shared,0!==(2&Il)){var i=r.pending;return null===i?t.next=t:(t.next=i.next,i.next=t),r.pending=t,Ls(e,n)}return null===(i=r.interleaved)?(t.next=t,Ps(r)):(t.next=i.next,i.next=t),r.interleaved=t,Ls(e,n)}function zs(e,t,n){if(null!==(t=t.updateQueue)&&(t=t.shared,0!==(4194240&n))){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}function Vs(e,t){var n=e.updateQueue,r=e.alternate;if(null!==r&&n===(r=r.updateQueue)){var i=null,s=null;if(null!==(n=n.firstBaseUpdate)){do{var a={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};null===s?i=s=a:s=s.next=a,n=n.next}while(null!==n);null===s?i=s=t:s=s.next=t}else i=s=t;return n={baseState:r.baseState,firstBaseUpdate:i,lastBaseUpdate:s,shared:r.shared,effects:r.effects},void(e.updateQueue=n)}null===(e=n.lastBaseUpdate)?n.firstBaseUpdate=t:e.next=t,n.lastBaseUpdate=t}function Us(e,t,n,r){var i=e.updateQueue;Ds=!1;var s=i.firstBaseUpdate,a=i.lastBaseUpdate,o=i.shared.pending;if(null!==o){i.shared.pending=null;var l=o,c=l.next;l.next=null,null===a?s=c:a.next=c,a=l;var u=e.alternate;null!==u&&((o=(u=u.updateQueue).lastBaseUpdate)!==a&&(null===o?u.firstBaseUpdate=c:o.next=c,u.lastBaseUpdate=l))}if(null!==s){var h=i.baseState;for(a=0,u=c=l=null,o=s;;){var d=o.lane,p=o.eventTime;if((r&d)===d){null!==u&&(u=u.next={eventTime:p,lane:0,tag:o.tag,payload:o.payload,callback:o.callback,next:null});e:{var f=e,g=o;switch(d=t,p=n,g.tag){case 1:if("function"===typeof(f=g.payload)){h=f.call(p,h,d);break e}h=f;break e;case 3:f.flags=-65537&f.flags|128;case 0:if(null===(d="function"===typeof(f=g.payload)?f.call(p,h,d):f)||void 0===d)break e;h=F({},h,d);break e;case 2:Ds=!0}}null!==o.callback&&0!==o.lane&&(e.flags|=64,null===(d=i.effects)?i.effects=[o]:d.push(o))}else p={eventTime:p,lane:d,tag:o.tag,payload:o.payload,callback:o.callback,next:null},null===u?(c=u=p,l=h):u=u.next=p,a|=d;if(null===(o=o.next)){if(null===(o=i.shared.pending))break;o=(d=o).next,d.next=null,i.lastBaseUpdate=d,i.shared.pending=null}}if(null===u&&(l=h),i.baseState=l,i.firstBaseUpdate=c,i.lastBaseUpdate=u,null!==(t=i.shared.interleaved)){i=t;do{a|=i.lane,i=i.next}while(i!==t)}else null===s&&(i.shared.lanes=0);Fl|=a,e.lanes=a,e.memoizedState=h}}function Ws(e,t,n){if(e=t.effects,t.effects=null,null!==e)for(t=0;t<e.length;t++){var r=e[t],i=r.callback;if(null!==i){if(r.callback=null,r=n,"function"!==typeof i)throw Error(s(191,i));i.call(r)}}}var Hs={},qs=Ai(Hs),Gs=Ai(Hs),Ks=Ai(Hs);function Xs(e){if(e===Hs)throw Error(s(174));return e}function Qs(e,t){switch(xi(Ks,t),xi(Gs,e),xi(qs,Hs),e=t.nodeType){case 9:case 11:t=(t=t.documentElement)?t.namespaceURI:le(null,"");break;default:t=le(t=(e=8===e?t.parentNode:t).namespaceURI||null,e=e.tagName)}ki(qs),xi(qs,t)}function Ys(){ki(qs),ki(Gs),ki(Ks)}function Js(e){Xs(Ks.current);var t=Xs(qs.current),n=le(t,e.type);t!==n&&(xi(Gs,e),xi(qs,n))}function $s(e){Gs.current===e&&(ki(qs),ki(Gs))}var Zs=Ai(0);function ea(e){for(var t=e;null!==t;){if(13===t.tag){var n=t.memoizedState;if(null!==n&&(null===(n=n.dehydrated)||"$?"===n.data||"$!"===n.data))return t}else if(19===t.tag&&void 0!==t.memoizedProps.revealOrder){if(0!==(128&t.flags))return t}else if(null!==t.child){t.child.return=t,t=t.child;continue}if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return null;t=t.return}t.sibling.return=t.return,t=t.sibling}return null}var ta=[];function na(){for(var e=0;e<ta.length;e++)ta[e]._workInProgressVersionPrimary=null;ta.length=0}var ra=w.ReactCurrentDispatcher,ia=w.ReactCurrentBatchConfig,sa=0,aa=null,oa=null,la=null,ca=!1,ua=!1,ha=0,da=0;function pa(){throw Error(s(321))}function fa(e,t){if(null===t)return!1;for(var n=0;n<t.length&&n<e.length;n++)if(!or(e[n],t[n]))return!1;return!0}function ga(e,t,n,r,i,a){if(sa=a,aa=t,t.memoizedState=null,t.updateQueue=null,t.lanes=0,ra.current=null===e||null===e.memoizedState?$a:Za,e=n(r,i),ua){a=0;do{if(ua=!1,ha=0,25<=a)throw Error(s(301));a+=1,la=oa=null,t.updateQueue=null,ra.current=eo,e=n(r,i)}while(ua)}if(ra.current=Ja,t=null!==oa&&null!==oa.next,sa=0,la=oa=aa=null,ca=!1,t)throw Error(s(300));return e}function ma(){var e=0!==ha;return ha=0,e}function va(){var e={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return null===la?aa.memoizedState=la=e:la=la.next=e,la}function ya(){if(null===oa){var e=aa.alternate;e=null!==e?e.memoizedState:null}else e=oa.next;var t=null===la?aa.memoizedState:la.next;if(null!==t)la=t,oa=e;else{if(null===e)throw Error(s(310));e={memoizedState:(oa=e).memoizedState,baseState:oa.baseState,baseQueue:oa.baseQueue,queue:oa.queue,next:null},null===la?aa.memoizedState=la=e:la=la.next=e}return la}function ba(e,t){return"function"===typeof t?t(e):t}function wa(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=oa,i=r.baseQueue,a=n.pending;if(null!==a){if(null!==i){var o=i.next;i.next=a.next,a.next=o}r.baseQueue=i=a,n.pending=null}if(null!==i){a=i.next,r=r.baseState;var l=o=null,c=null,u=a;do{var h=u.lane;if((sa&h)===h)null!==c&&(c=c.next={lane:0,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null}),r=u.hasEagerState?u.eagerState:e(r,u.action);else{var d={lane:h,action:u.action,hasEagerState:u.hasEagerState,eagerState:u.eagerState,next:null};null===c?(l=c=d,o=r):c=c.next=d,aa.lanes|=h,Fl|=h}u=u.next}while(null!==u&&u!==a);null===c?o=r:c.next=l,or(r,t.memoizedState)||(wo=!0),t.memoizedState=r,t.baseState=o,t.baseQueue=c,n.lastRenderedState=r}if(null!==(e=n.interleaved)){i=e;do{a=i.lane,aa.lanes|=a,Fl|=a,i=i.next}while(i!==e)}else null===i&&(n.lanes=0);return[t.memoizedState,n.dispatch]}function _a(e){var t=ya(),n=t.queue;if(null===n)throw Error(s(311));n.lastRenderedReducer=e;var r=n.dispatch,i=n.pending,a=t.memoizedState;if(null!==i){n.pending=null;var o=i=i.next;do{a=e(a,o.action),o=o.next}while(o!==i);or(a,t.memoizedState)||(wo=!0),t.memoizedState=a,null===t.baseQueue&&(t.baseState=a),n.lastRenderedState=a}return[a,r]}function Sa(){}function Ea(e,t){var n=aa,r=ya(),i=t(),a=!or(r.memoizedState,i);if(a&&(r.memoizedState=i,wo=!0),r=r.queue,Da(xa.bind(null,n,r,e),[e]),r.getSnapshot!==t||a||null!==la&&1&la.memoizedState.tag){if(n.flags|=2048,Ra(9,ka.bind(null,n,r,i,t),void 0,null),null===Rl)throw Error(s(349));0!==(30&sa)||Aa(n,t,i)}return i}function Aa(e,t,n){e.flags|=16384,e={getSnapshot:t,value:n},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.stores=[e]):null===(n=t.stores)?t.stores=[e]:n.push(e)}function ka(e,t,n,r){t.value=n,t.getSnapshot=r,Ca(t)&&Ta(e)}function xa(e,t,n){return n((function(){Ca(t)&&Ta(e)}))}function Ca(e){var t=e.getSnapshot;e=e.value;try{var n=t();return!or(e,n)}catch(r){return!0}}function Ta(e){var t=Ls(e,1);null!==t&&rc(t,e,1,-1)}function Ia(e){var t=va();return"function"===typeof e&&(e=e()),t.memoizedState=t.baseState=e,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ba,lastRenderedState:e},t.queue=e,e=e.dispatch=Ka.bind(null,aa,e),[t.memoizedState,e]}function Ra(e,t,n,r){return e={tag:e,create:t,destroy:n,deps:r,next:null},null===(t=aa.updateQueue)?(t={lastEffect:null,stores:null},aa.updateQueue=t,t.lastEffect=e.next=e):null===(n=t.lastEffect)?t.lastEffect=e.next=e:(r=n.next,n.next=e,e.next=r,t.lastEffect=e),e}function Ma(){return ya().memoizedState}function Pa(e,t,n,r){var i=va();aa.flags|=e,i.memoizedState=Ra(1|t,n,void 0,void 0===r?null:r)}function Na(e,t,n,r){var i=ya();r=void 0===r?null:r;var s=void 0;if(null!==oa){var a=oa.memoizedState;if(s=a.destroy,null!==r&&fa(r,a.deps))return void(i.memoizedState=Ra(t,n,s,r))}aa.flags|=e,i.memoizedState=Ra(1|t,n,s,r)}function La(e,t){return Pa(8390656,8,e,t)}function Da(e,t){return Na(2048,8,e,t)}function Oa(e,t){return Na(4,2,e,t)}function Fa(e,t){return Na(4,4,e,t)}function ja(e,t){return"function"===typeof t?(e=e(),t(e),function(){t(null)}):null!==t&&void 0!==t?(e=e(),t.current=e,function(){t.current=null}):void 0}function Ba(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Na(4,4,ja.bind(null,t,e),n)}function za(){}function Va(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(n.memoizedState=[e,t],e)}function Ua(e,t){var n=ya();t=void 0===t?null:t;var r=n.memoizedState;return null!==r&&null!==t&&fa(t,r[1])?r[0]:(e=e(),n.memoizedState=[e,t],e)}function Wa(e,t,n){return 0===(21&sa)?(e.baseState&&(e.baseState=!1,wo=!0),e.memoizedState=n):(or(n,t)||(n=gt(),aa.lanes|=n,Fl|=n,e.baseState=!0),t)}function Ha(e,t){var n=bt;bt=0!==n&&4>n?n:4,e(!0);var r=ia.transition;ia.transition={};try{e(!1),t()}finally{bt=n,ia.transition=r}}function qa(){return ya().memoizedState}function Ga(e,t,n){var r=nc(e);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},Xa(e))Qa(t,n);else if(null!==(n=Ns(e,t,n,r))){rc(n,e,r,tc()),Ya(n,t,r)}}function Ka(e,t,n){var r=nc(e),i={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(Xa(e))Qa(t,i);else{var s=e.alternate;if(0===e.lanes&&(null===s||0===s.lanes)&&null!==(s=t.lastRenderedReducer))try{var a=t.lastRenderedState,o=s(a,n);if(i.hasEagerState=!0,i.eagerState=o,or(o,a)){var l=t.interleaved;return null===l?(i.next=i,Ps(t)):(i.next=l.next,l.next=i),void(t.interleaved=i)}}catch(c){}null!==(n=Ns(e,t,i,r))&&(rc(n,e,r,i=tc()),Ya(n,t,r))}}function Xa(e){var t=e.alternate;return e===aa||null!==t&&t===aa}function Qa(e,t){ua=ca=!0;var n=e.pending;null===n?t.next=t:(t.next=n.next,n.next=t),e.pending=t}function Ya(e,t,n){if(0!==(4194240&n)){var r=t.lanes;n|=r&=e.pendingLanes,t.lanes=n,yt(e,n)}}var Ja={readContext:Rs,useCallback:pa,useContext:pa,useEffect:pa,useImperativeHandle:pa,useInsertionEffect:pa,useLayoutEffect:pa,useMemo:pa,useReducer:pa,useRef:pa,useState:pa,useDebugValue:pa,useDeferredValue:pa,useTransition:pa,useMutableSource:pa,useSyncExternalStore:pa,useId:pa,unstable_isNewReconciler:!1},$a={readContext:Rs,useCallback:function(e,t){return va().memoizedState=[e,void 0===t?null:t],e},useContext:Rs,useEffect:La,useImperativeHandle:function(e,t,n){return n=null!==n&&void 0!==n?n.concat([e]):null,Pa(4194308,4,ja.bind(null,t,e),n)},useLayoutEffect:function(e,t){return Pa(4194308,4,e,t)},useInsertionEffect:function(e,t){return Pa(4,2,e,t)},useMemo:function(e,t){var n=va();return t=void 0===t?null:t,e=e(),n.memoizedState=[e,t],e},useReducer:function(e,t,n){var r=va();return t=void 0!==n?n(t):t,r.memoizedState=r.baseState=t,e={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:e,lastRenderedState:t},r.queue=e,e=e.dispatch=Ga.bind(null,aa,e),[r.memoizedState,e]},useRef:function(e){return e={current:e},va().memoizedState=e},useState:Ia,useDebugValue:za,useDeferredValue:function(e){return va().memoizedState=e},useTransition:function(){var e=Ia(!1),t=e[0];return e=Ha.bind(null,e[1]),va().memoizedState=e,[t,e]},useMutableSource:function(){},useSyncExternalStore:function(e,t,n){var r=aa,i=va();if(is){if(void 0===n)throw Error(s(407));n=n()}else{if(n=t(),null===Rl)throw Error(s(349));0!==(30&sa)||Aa(r,t,n)}i.memoizedState=n;var a={value:n,getSnapshot:t};return i.queue=a,La(xa.bind(null,r,a,e),[e]),r.flags|=2048,Ra(9,ka.bind(null,r,a,n,t),void 0,null),n},useId:function(){var e=va(),t=Rl.identifierPrefix;if(is){var n=Ji;t=":"+t+"R"+(n=(Yi&~(1<<32-at(Yi)-1)).toString(32)+n),0<(n=ha++)&&(t+="H"+n.toString(32)),t+=":"}else t=":"+t+"r"+(n=da++).toString(32)+":";return e.memoizedState=t},unstable_isNewReconciler:!1},Za={readContext:Rs,useCallback:Va,useContext:Rs,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:Fa,useMemo:Ua,useReducer:wa,useRef:Ma,useState:function(){return wa(ba)},useDebugValue:za,useDeferredValue:function(e){return Wa(ya(),oa.memoizedState,e)},useTransition:function(){return[wa(ba)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1},eo={readContext:Rs,useCallback:Va,useContext:Rs,useEffect:Da,useImperativeHandle:Ba,useInsertionEffect:Oa,useLayoutEffect:Fa,useMemo:Ua,useReducer:_a,useRef:Ma,useState:function(){return _a(ba)},useDebugValue:za,useDeferredValue:function(e){var t=ya();return null===oa?t.memoizedState=e:Wa(t,oa.memoizedState,e)},useTransition:function(){return[_a(ba)[0],ya().memoizedState]},useMutableSource:Sa,useSyncExternalStore:Ea,useId:qa,unstable_isNewReconciler:!1};function to(e,t){if(e&&e.defaultProps){for(var n in t=F({},t),e=e.defaultProps)void 0===t[n]&&(t[n]=e[n]);return t}return t}function no(e,t,n,r){n=null===(n=n(r,t=e.memoizedState))||void 0===n?t:F({},t,n),e.memoizedState=n,0===e.lanes&&(e.updateQueue.baseState=n)}var ro={isMounted:function(e){return!!(e=e._reactInternals)&&Ue(e)===e},enqueueSetState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueReplaceState:function(e,t,n){e=e._reactInternals;var r=tc(),i=nc(e),s=js(r,i);s.tag=1,s.payload=t,void 0!==n&&null!==n&&(s.callback=n),null!==(t=Bs(e,s,i))&&(rc(t,e,i,r),zs(t,e,i))},enqueueForceUpdate:function(e,t){e=e._reactInternals;var n=tc(),r=nc(e),i=js(n,r);i.tag=2,void 0!==t&&null!==t&&(i.callback=t),null!==(t=Bs(e,i,r))&&(rc(t,e,r,n),zs(t,e,r))}};function io(e,t,n,r,i,s,a){return"function"===typeof(e=e.stateNode).shouldComponentUpdate?e.shouldComponentUpdate(r,s,a):!t.prototype||!t.prototype.isPureReactComponent||(!lr(n,r)||!lr(i,s))}function ao(e,t,n){var r=!1,i=Ci,s=t.contextType;return"object"===typeof s&&null!==s?s=Rs(s):(i=Pi(t)?Ri:Ti.current,s=(r=null!==(r=t.contextTypes)&&void 0!==r)?Mi(e,i):Ci),t=new t(n,s),e.memoizedState=null!==t.state&&void 0!==t.state?t.state:null,t.updater=ro,e.stateNode=t,t._reactInternals=e,r&&((e=e.stateNode).__reactInternalMemoizedUnmaskedChildContext=i,e.__reactInternalMemoizedMaskedChildContext=s),t}function oo(e,t,n,r){e=t.state,"function"===typeof t.componentWillReceiveProps&&t.componentWillReceiveProps(n,r),"function"===typeof t.UNSAFE_componentWillReceiveProps&&t.UNSAFE_componentWillReceiveProps(n,r),t.state!==e&&ro.enqueueReplaceState(t,t.state,null)}function lo(e,t,n,r){var i=e.stateNode;i.props=n,i.state=e.memoizedState,i.refs={},Os(e);var s=t.contextType;"object"===typeof s&&null!==s?i.context=Rs(s):(s=Pi(t)?Ri:Ti.current,i.context=Mi(e,s)),i.state=e.memoizedState,"function"===typeof(s=t.getDerivedStateFromProps)&&(no(e,t,s,n),i.state=e.memoizedState),"function"===typeof t.getDerivedStateFromProps||"function"===typeof i.getSnapshotBeforeUpdate||"function"!==typeof i.UNSAFE_componentWillMount&&"function"!==typeof i.componentWillMount||(t=i.state,"function"===typeof i.componentWillMount&&i.componentWillMount(),"function"===typeof i.UNSAFE_componentWillMount&&i.UNSAFE_componentWillMount(),t!==i.state&&ro.enqueueReplaceState(i,i.state,null),Us(e,n,i,r),i.state=e.memoizedState),"function"===typeof i.componentDidMount&&(e.flags|=4194308)}function co(e,t){try{var n="",r=t;do{n+=V(r),r=r.return}while(r);var i=n}catch(s){i="\nError generating stack: "+s.message+"\n"+s.stack}return{value:e,source:t,stack:i,digest:null}}function uo(e,t,n){return{value:e,source:null,stack:null!=n?n:null,digest:null!=t?t:null}}function ho(e,t){try{console.error(t.value)}catch(n){setTimeout((function(){throw n}))}}var po="function"===typeof WeakMap?WeakMap:Map;function fo(e,t,n){(n=js(-1,n)).tag=3,n.payload={element:null};var r=t.value;return n.callback=function(){ql||(ql=!0,Gl=r),ho(0,t)},n}function go(e,t,n){(n=js(-1,n)).tag=3;var r=e.type.getDerivedStateFromError;if("function"===typeof r){var i=t.value;n.payload=function(){return r(i)},n.callback=function(){ho(0,t)}}var s=e.stateNode;return null!==s&&"function"===typeof s.componentDidCatch&&(n.callback=function(){ho(0,t),"function"!==typeof r&&(null===Kl?Kl=new Set([this]):Kl.add(this));var e=t.stack;this.componentDidCatch(t.value,{componentStack:null!==e?e:""})}),n}function mo(e,t,n){var r=e.pingCache;if(null===r){r=e.pingCache=new po;var i=new Set;r.set(t,i)}else void 0===(i=r.get(t))&&(i=new Set,r.set(t,i));i.has(n)||(i.add(n),e=xc.bind(null,e,t,n),t.then(e,e))}function vo(e){do{var t;if((t=13===e.tag)&&(t=null===(t=e.memoizedState)||null!==t.dehydrated),t)return e;e=e.return}while(null!==e);return null}function yo(e,t,n,r,i){return 0===(1&e.mode)?(e===t?e.flags|=65536:(e.flags|=128,n.flags|=131072,n.flags&=-52805,1===n.tag&&(null===n.alternate?n.tag=17:((t=js(-1,1)).tag=2,Bs(n,t,1))),n.lanes|=1),e):(e.flags|=65536,e.lanes=i,e)}var bo=w.ReactCurrentOwner,wo=!1;function _o(e,t,n,r){t.child=null===e?_s(t,null,n,r):ws(t,e.child,n,r)}function So(e,t,n,r,i){n=n.render;var s=t.ref;return Is(t,i),r=ga(e,t,n,r,s,i),n=ma(),null===e||wo?(is&&n&&es(t),t.flags|=1,_o(e,t,r,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function Eo(e,t,n,r,i){if(null===e){var s=n.type;return"function"!==typeof s||Nc(s)||void 0!==s.defaultProps||null!==n.compare||void 0!==n.defaultProps?((e=Dc(n.type,null,r,t,t.mode,i)).ref=t.ref,e.return=t,t.child=e):(t.tag=15,t.type=s,Ao(e,t,s,r,i))}if(s=e.child,0===(e.lanes&i)){var a=s.memoizedProps;if((n=null!==(n=n.compare)?n:lr)(a,r)&&e.ref===t.ref)return qo(e,t,i)}return t.flags|=1,(e=Lc(s,r)).ref=t.ref,e.return=t,t.child=e}function Ao(e,t,n,r,i){if(null!==e){var s=e.memoizedProps;if(lr(s,r)&&e.ref===t.ref){if(wo=!1,t.pendingProps=r=s,0===(e.lanes&i))return t.lanes=e.lanes,qo(e,t,i);0!==(131072&e.flags)&&(wo=!0)}}return Co(e,t,n,r,i)}function ko(e,t,n){var r=t.pendingProps,i=r.children,s=null!==e?e.memoizedState:null;if("hidden"===r.mode)if(0===(1&t.mode))t.memoizedState={baseLanes:0,cachePool:null,transitions:null},xi(Ll,Nl),Nl|=n;else{if(0===(1073741824&n))return e=null!==s?s.baseLanes|n:n,t.lanes=t.childLanes=1073741824,t.memoizedState={baseLanes:e,cachePool:null,transitions:null},t.updateQueue=null,xi(Ll,Nl),Nl|=e,null;t.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=null!==s?s.baseLanes:n,xi(Ll,Nl),Nl|=r}else null!==s?(r=s.baseLanes|n,t.memoizedState=null):r=n,xi(Ll,Nl),Nl|=r;return _o(e,t,i,n),t.child}function xo(e,t){var n=t.ref;(null===e&&null!==n||null!==e&&e.ref!==n)&&(t.flags|=512,t.flags|=2097152)}function Co(e,t,n,r,i){var s=Pi(n)?Ri:Ti.current;return s=Mi(t,s),Is(t,i),n=ga(e,t,n,r,s,i),r=ma(),null===e||wo?(is&&r&&es(t),t.flags|=1,_o(e,t,n,i),t.child):(t.updateQueue=e.updateQueue,t.flags&=-2053,e.lanes&=~i,qo(e,t,i))}function To(e,t,n,r,i){if(Pi(n)){var s=!0;Oi(t)}else s=!1;if(Is(t,i),null===t.stateNode)Ho(e,t),ao(t,n,r),lo(t,n,r,i),r=!0;else if(null===e){var a=t.stateNode,o=t.memoizedProps;a.props=o;var l=a.context,c=n.contextType;"object"===typeof c&&null!==c?c=Rs(c):c=Mi(t,c=Pi(n)?Ri:Ti.current);var u=n.getDerivedStateFromProps,h="function"===typeof u||"function"===typeof a.getSnapshotBeforeUpdate;h||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==r||l!==c)&&oo(t,a,r,c),Ds=!1;var d=t.memoizedState;a.state=d,Us(t,r,a,i),l=t.memoizedState,o!==r||d!==l||Ii.current||Ds?("function"===typeof u&&(no(t,n,u,r),l=t.memoizedState),(o=Ds||io(t,n,o,r,d,l,c))?(h||"function"!==typeof a.UNSAFE_componentWillMount&&"function"!==typeof a.componentWillMount||("function"===typeof a.componentWillMount&&a.componentWillMount(),"function"===typeof a.UNSAFE_componentWillMount&&a.UNSAFE_componentWillMount()),"function"===typeof a.componentDidMount&&(t.flags|=4194308)):("function"===typeof a.componentDidMount&&(t.flags|=4194308),t.memoizedProps=r,t.memoizedState=l),a.props=r,a.state=l,a.context=c,r=o):("function"===typeof a.componentDidMount&&(t.flags|=4194308),r=!1)}else{a=t.stateNode,Fs(e,t),o=t.memoizedProps,c=t.type===t.elementType?o:to(t.type,o),a.props=c,h=t.pendingProps,d=a.context,"object"===typeof(l=n.contextType)&&null!==l?l=Rs(l):l=Mi(t,l=Pi(n)?Ri:Ti.current);var p=n.getDerivedStateFromProps;(u="function"===typeof p||"function"===typeof a.getSnapshotBeforeUpdate)||"function"!==typeof a.UNSAFE_componentWillReceiveProps&&"function"!==typeof a.componentWillReceiveProps||(o!==h||d!==l)&&oo(t,a,r,l),Ds=!1,d=t.memoizedState,a.state=d,Us(t,r,a,i);var f=t.memoizedState;o!==h||d!==f||Ii.current||Ds?("function"===typeof p&&(no(t,n,p,r),f=t.memoizedState),(c=Ds||io(t,n,c,r,d,f,l)||!1)?(u||"function"!==typeof a.UNSAFE_componentWillUpdate&&"function"!==typeof a.componentWillUpdate||("function"===typeof a.componentWillUpdate&&a.componentWillUpdate(r,f,l),"function"===typeof a.UNSAFE_componentWillUpdate&&a.UNSAFE_componentWillUpdate(r,f,l)),"function"===typeof a.componentDidUpdate&&(t.flags|=4),"function"===typeof a.getSnapshotBeforeUpdate&&(t.flags|=1024)):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),t.memoizedProps=r,t.memoizedState=f),a.props=r,a.state=f,a.context=l,r=c):("function"!==typeof a.componentDidUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=4),"function"!==typeof a.getSnapshotBeforeUpdate||o===e.memoizedProps&&d===e.memoizedState||(t.flags|=1024),r=!1)}return Io(e,t,n,r,s,i)}function Io(e,t,n,r,i,s){xo(e,t);var a=0!==(128&t.flags);if(!r&&!a)return i&&Fi(t,n,!1),qo(e,t,s);r=t.stateNode,bo.current=t;var o=a&&"function"!==typeof n.getDerivedStateFromError?null:r.render();return t.flags|=1,null!==e&&a?(t.child=ws(t,e.child,null,s),t.child=ws(t,null,o,s)):_o(e,t,o,s),t.memoizedState=r.state,i&&Fi(t,n,!0),t.child}function Ro(e){var t=e.stateNode;t.pendingContext?Li(0,t.pendingContext,t.pendingContext!==t.context):t.context&&Li(0,t.context,!1),Qs(e,t.containerInfo)}function Mo(e,t,n,r,i){return ps(),fs(i),t.flags|=256,_o(e,t,n,r),t.child}var Po,No,Lo,Do,Oo={dehydrated:null,treeContext:null,retryLane:0};function Fo(e){return{baseLanes:e,cachePool:null,transitions:null}}function jo(e,t,n){var r,i=t.pendingProps,a=Zs.current,o=!1,l=0!==(128&t.flags);if((r=l)||(r=(null===e||null!==e.memoizedState)&&0!==(2&a)),r?(o=!0,t.flags&=-129):null!==e&&null===e.memoizedState||(a|=1),xi(Zs,1&a),null===e)return cs(t),null!==(e=t.memoizedState)&&null!==(e=e.dehydrated)?(0===(1&t.mode)?t.lanes=1:"$!"===e.data?t.lanes=8:t.lanes=1073741824,null):(l=i.children,e=i.fallback,o?(i=t.mode,o=t.child,l={mode:"hidden",children:l},0===(1&i)&&null!==o?(o.childLanes=0,o.pendingProps=l):o=Fc(l,i,0,null),e=Oc(e,i,n,null),o.return=t,e.return=t,o.sibling=e,t.child=o,t.child.memoizedState=Fo(n),t.memoizedState=Oo,e):Bo(t,l));if(null!==(a=e.memoizedState)&&null!==(r=a.dehydrated))return function(e,t,n,r,i,a,o){if(n)return 256&t.flags?(t.flags&=-257,zo(e,t,o,r=uo(Error(s(422))))):null!==t.memoizedState?(t.child=e.child,t.flags|=128,null):(a=r.fallback,i=t.mode,r=Fc({mode:"visible",children:r.children},i,0,null),(a=Oc(a,i,o,null)).flags|=2,r.return=t,a.return=t,r.sibling=a,t.child=r,0!==(1&t.mode)&&ws(t,e.child,null,o),t.child.memoizedState=Fo(o),t.memoizedState=Oo,a);if(0===(1&t.mode))return zo(e,t,o,null);if("$!"===i.data){if(r=i.nextSibling&&i.nextSibling.dataset)var l=r.dgst;return r=l,zo(e,t,o,r=uo(a=Error(s(419)),r,void 0))}if(l=0!==(o&e.childLanes),wo||l){if(null!==(r=Rl)){switch(o&-o){case 4:i=2;break;case 16:i=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:i=32;break;case 536870912:i=268435456;break;default:i=0}0!==(i=0!==(i&(r.suspendedLanes|o))?0:i)&&i!==a.retryLane&&(a.retryLane=i,Ls(e,i),rc(r,e,i,-1))}return mc(),zo(e,t,o,r=uo(Error(s(421))))}return"$?"===i.data?(t.flags|=128,t.child=e.child,t=Tc.bind(null,e),i._reactRetry=t,null):(e=a.treeContext,rs=ci(i.nextSibling),ns=t,is=!0,ss=null,null!==e&&(Ki[Xi++]=Yi,Ki[Xi++]=Ji,Ki[Xi++]=Qi,Yi=e.id,Ji=e.overflow,Qi=t),t=Bo(t,r.children),t.flags|=4096,t)}(e,t,l,i,r,a,n);if(o){o=i.fallback,l=t.mode,r=(a=e.child).sibling;var c={mode:"hidden",children:i.children};return 0===(1&l)&&t.child!==a?((i=t.child).childLanes=0,i.pendingProps=c,t.deletions=null):(i=Lc(a,c)).subtreeFlags=14680064&a.subtreeFlags,null!==r?o=Lc(r,o):(o=Oc(o,l,n,null)).flags|=2,o.return=t,i.return=t,i.sibling=o,t.child=i,i=o,o=t.child,l=null===(l=e.child.memoizedState)?Fo(n):{baseLanes:l.baseLanes|n,cachePool:null,transitions:l.transitions},o.memoizedState=l,o.childLanes=e.childLanes&~n,t.memoizedState=Oo,i}return e=(o=e.child).sibling,i=Lc(o,{mode:"visible",children:i.children}),0===(1&t.mode)&&(i.lanes=n),i.return=t,i.sibling=null,null!==e&&(null===(n=t.deletions)?(t.deletions=[e],t.flags|=16):n.push(e)),t.child=i,t.memoizedState=null,i}function Bo(e,t){return(t=Fc({mode:"visible",children:t},e.mode,0,null)).return=e,e.child=t}function zo(e,t,n,r){return null!==r&&fs(r),ws(t,e.child,null,n),(e=Bo(t,t.pendingProps.children)).flags|=2,t.memoizedState=null,e}function Vo(e,t,n){e.lanes|=t;var r=e.alternate;null!==r&&(r.lanes|=t),Ts(e.return,t,n)}function Uo(e,t,n,r,i){var s=e.memoizedState;null===s?e.memoizedState={isBackwards:t,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:i}:(s.isBackwards=t,s.rendering=null,s.renderingStartTime=0,s.last=r,s.tail=n,s.tailMode=i)}function Wo(e,t,n){var r=t.pendingProps,i=r.revealOrder,s=r.tail;if(_o(e,t,r.children,n),0!==(2&(r=Zs.current)))r=1&r|2,t.flags|=128;else{if(null!==e&&0!==(128&e.flags))e:for(e=t.child;null!==e;){if(13===e.tag)null!==e.memoizedState&&Vo(e,n,t);else if(19===e.tag)Vo(e,n,t);else if(null!==e.child){e.child.return=e,e=e.child;continue}if(e===t)break e;for(;null===e.sibling;){if(null===e.return||e.return===t)break e;e=e.return}e.sibling.return=e.return,e=e.sibling}r&=1}if(xi(Zs,r),0===(1&t.mode))t.memoizedState=null;else switch(i){case"forwards":for(n=t.child,i=null;null!==n;)null!==(e=n.alternate)&&null===ea(e)&&(i=n),n=n.sibling;null===(n=i)?(i=t.child,t.child=null):(i=n.sibling,n.sibling=null),Uo(t,!1,i,n,s);break;case"backwards":for(n=null,i=t.child,t.child=null;null!==i;){if(null!==(e=i.alternate)&&null===ea(e)){t.child=i;break}e=i.sibling,i.sibling=n,n=i,i=e}Uo(t,!0,n,null,s);break;case"together":Uo(t,!1,null,null,void 0);break;default:t.memoizedState=null}return t.child}function Ho(e,t){0===(1&t.mode)&&null!==e&&(e.alternate=null,t.alternate=null,t.flags|=2)}function qo(e,t,n){if(null!==e&&(t.dependencies=e.dependencies),Fl|=t.lanes,0===(n&t.childLanes))return null;if(null!==e&&t.child!==e.child)throw Error(s(153));if(null!==t.child){for(n=Lc(e=t.child,e.pendingProps),t.child=n,n.return=t;null!==e.sibling;)e=e.sibling,(n=n.sibling=Lc(e,e.pendingProps)).return=t;n.sibling=null}return t.child}function Go(e,t){if(!is)switch(e.tailMode){case"hidden":t=e.tail;for(var n=null;null!==t;)null!==t.alternate&&(n=t),t=t.sibling;null===n?e.tail=null:n.sibling=null;break;case"collapsed":n=e.tail;for(var r=null;null!==n;)null!==n.alternate&&(r=n),n=n.sibling;null===r?t||null===e.tail?e.tail=null:e.tail.sibling=null:r.sibling=null}}function Ko(e){var t=null!==e.alternate&&e.alternate.child===e.child,n=0,r=0;if(t)for(var i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=14680064&i.subtreeFlags,r|=14680064&i.flags,i.return=e,i=i.sibling;else for(i=e.child;null!==i;)n|=i.lanes|i.childLanes,r|=i.subtreeFlags,r|=i.flags,i.return=e,i=i.sibling;return e.subtreeFlags|=r,e.childLanes=n,t}function Xo(e,t,n){var r=t.pendingProps;switch(ts(t),t.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ko(t),null;case 1:case 17:return Pi(t.type)&&Ni(),Ko(t),null;case 3:return r=t.stateNode,Ys(),ki(Ii),ki(Ti),na(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),null!==e&&null!==e.child||(hs(t)?t.flags|=4:null===e||e.memoizedState.isDehydrated&&0===(256&t.flags)||(t.flags|=1024,null!==ss&&(oc(ss),ss=null))),No(e,t),Ko(t),null;case 5:$s(t);var i=Xs(Ks.current);if(n=t.type,null!==e&&null!=t.stateNode)Lo(e,t,n,r,i),e.ref!==t.ref&&(t.flags|=512,t.flags|=2097152);else{if(!r){if(null===t.stateNode)throw Error(s(166));return Ko(t),null}if(e=Xs(qs.current),hs(t)){r=t.stateNode,n=t.type;var a=t.memoizedProps;switch(r[di]=t,r[pi]=a,e=0!==(1&t.mode),n){case"dialog":Br("cancel",r),Br("close",r);break;case"iframe":case"object":case"embed":Br("load",r);break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],r);break;case"source":Br("error",r);break;case"img":case"image":case"link":Br("error",r),Br("load",r);break;case"details":Br("toggle",r);break;case"input":Y(r,a),Br("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!a.multiple},Br("invalid",r);break;case"textarea":ie(r,a),Br("invalid",r)}for(var l in ye(n,a),i=null,a)if(a.hasOwnProperty(l)){var c=a[l];"children"===l?"string"===typeof c?r.textContent!==c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",c]):"number"===typeof c&&r.textContent!==""+c&&(!0!==a.suppressHydrationWarning&&$r(r.textContent,c,e),i=["children",""+c]):o.hasOwnProperty(l)&&null!=c&&"onScroll"===l&&Br("scroll",r)}switch(n){case"input":G(r),Z(r,a,!0);break;case"textarea":G(r),ae(r);break;case"select":case"option":break;default:"function"===typeof a.onClick&&(r.onclick=Zr)}r=i,t.updateQueue=r,null!==r&&(t.flags|=4)}else{l=9===i.nodeType?i:i.ownerDocument,"http://www.w3.org/1999/xhtml"===e&&(e=oe(n)),"http://www.w3.org/1999/xhtml"===e?"script"===n?((e=l.createElement("div")).innerHTML="<script><\/script>",e=e.removeChild(e.firstChild)):"string"===typeof r.is?e=l.createElement(n,{is:r.is}):(e=l.createElement(n),"select"===n&&(l=e,r.multiple?l.multiple=!0:r.size&&(l.size=r.size))):e=l.createElementNS(e,n),e[di]=t,e[pi]=r,Po(e,t,!1,!1),t.stateNode=e;e:{switch(l=be(n,r),n){case"dialog":Br("cancel",e),Br("close",e),i=r;break;case"iframe":case"object":case"embed":Br("load",e),i=r;break;case"video":case"audio":for(i=0;i<Dr.length;i++)Br(Dr[i],e);i=r;break;case"source":Br("error",e),i=r;break;case"img":case"image":case"link":Br("error",e),Br("load",e),i=r;break;case"details":Br("toggle",e),i=r;break;case"input":Y(e,r),i=Q(e,r),Br("invalid",e);break;case"option":default:i=r;break;case"select":e._wrapperState={wasMultiple:!!r.multiple},i=F({},r,{value:void 0}),Br("invalid",e);break;case"textarea":ie(e,r),i=re(e,r),Br("invalid",e)}for(a in ye(n,i),c=i)if(c.hasOwnProperty(a)){var u=c[a];"style"===a?me(e,u):"dangerouslySetInnerHTML"===a?null!=(u=u?u.__html:void 0)&&he(e,u):"children"===a?"string"===typeof u?("textarea"!==n||""!==u)&&de(e,u):"number"===typeof u&&de(e,""+u):"suppressContentEditableWarning"!==a&&"suppressHydrationWarning"!==a&&"autoFocus"!==a&&(o.hasOwnProperty(a)?null!=u&&"onScroll"===a&&Br("scroll",e):null!=u&&b(e,a,u,l))}switch(n){case"input":G(e),Z(e,r,!1);break;case"textarea":G(e),ae(e);break;case"option":null!=r.value&&e.setAttribute("value",""+H(r.value));break;case"select":e.multiple=!!r.multiple,null!=(a=r.value)?ne(e,!!r.multiple,a,!1):null!=r.defaultValue&&ne(e,!!r.multiple,r.defaultValue,!0);break;default:"function"===typeof i.onClick&&(e.onclick=Zr)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(t.flags|=4)}null!==t.ref&&(t.flags|=512,t.flags|=2097152)}return Ko(t),null;case 6:if(e&&null!=t.stateNode)Do(e,t,e.memoizedProps,r);else{if("string"!==typeof r&&null===t.stateNode)throw Error(s(166));if(n=Xs(Ks.current),Xs(qs.current),hs(t)){if(r=t.stateNode,n=t.memoizedProps,r[di]=t,(a=r.nodeValue!==n)&&null!==(e=ns))switch(e.tag){case 3:$r(r.nodeValue,n,0!==(1&e.mode));break;case 5:!0!==e.memoizedProps.suppressHydrationWarning&&$r(r.nodeValue,n,0!==(1&e.mode))}a&&(t.flags|=4)}else(r=(9===n.nodeType?n:n.ownerDocument).createTextNode(r))[di]=t,t.stateNode=r}return Ko(t),null;case 13:if(ki(Zs),r=t.memoizedState,null===e||null!==e.memoizedState&&null!==e.memoizedState.dehydrated){if(is&&null!==rs&&0!==(1&t.mode)&&0===(128&t.flags))ds(),ps(),t.flags|=98560,a=!1;else if(a=hs(t),null!==r&&null!==r.dehydrated){if(null===e){if(!a)throw Error(s(318));if(!(a=null!==(a=t.memoizedState)?a.dehydrated:null))throw Error(s(317));a[di]=t}else ps(),0===(128&t.flags)&&(t.memoizedState=null),t.flags|=4;Ko(t),a=!1}else null!==ss&&(oc(ss),ss=null),a=!0;if(!a)return 65536&t.flags?t:null}return 0!==(128&t.flags)?(t.lanes=n,t):((r=null!==r)!==(null!==e&&null!==e.memoizedState)&&r&&(t.child.flags|=8192,0!==(1&t.mode)&&(null===e||0!==(1&Zs.current)?0===Dl&&(Dl=3):mc())),null!==t.updateQueue&&(t.flags|=4),Ko(t),null);case 4:return Ys(),No(e,t),null===e&&Ur(t.stateNode.containerInfo),Ko(t),null;case 10:return Cs(t.type._context),Ko(t),null;case 19:if(ki(Zs),null===(a=t.memoizedState))return Ko(t),null;if(r=0!==(128&t.flags),null===(l=a.rendering))if(r)Go(a,!1);else{if(0!==Dl||null!==e&&0!==(128&e.flags))for(e=t.child;null!==e;){if(null!==(l=ea(e))){for(t.flags|=128,Go(a,!1),null!==(r=l.updateQueue)&&(t.updateQueue=r,t.flags|=4),t.subtreeFlags=0,r=n,n=t.child;null!==n;)e=r,(a=n).flags&=14680066,null===(l=a.alternate)?(a.childLanes=0,a.lanes=e,a.child=null,a.subtreeFlags=0,a.memoizedProps=null,a.memoizedState=null,a.updateQueue=null,a.dependencies=null,a.stateNode=null):(a.childLanes=l.childLanes,a.lanes=l.lanes,a.child=l.child,a.subtreeFlags=0,a.deletions=null,a.memoizedProps=l.memoizedProps,a.memoizedState=l.memoizedState,a.updateQueue=l.updateQueue,a.type=l.type,e=l.dependencies,a.dependencies=null===e?null:{lanes:e.lanes,firstContext:e.firstContext}),n=n.sibling;return xi(Zs,1&Zs.current|2),t.child}e=e.sibling}null!==a.tail&&Je()>Wl&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304)}else{if(!r)if(null!==(e=ea(l))){if(t.flags|=128,r=!0,null!==(n=e.updateQueue)&&(t.updateQueue=n,t.flags|=4),Go(a,!0),null===a.tail&&"hidden"===a.tailMode&&!l.alternate&&!is)return Ko(t),null}else 2*Je()-a.renderingStartTime>Wl&&1073741824!==n&&(t.flags|=128,r=!0,Go(a,!1),t.lanes=4194304);a.isBackwards?(l.sibling=t.child,t.child=l):(null!==(n=a.last)?n.sibling=l:t.child=l,a.last=l)}return null!==a.tail?(t=a.tail,a.rendering=t,a.tail=t.sibling,a.renderingStartTime=Je(),t.sibling=null,n=Zs.current,xi(Zs,r?1&n|2:1&n),t):(Ko(t),null);case 22:case 23:return dc(),r=null!==t.memoizedState,null!==e&&null!==e.memoizedState!==r&&(t.flags|=8192),r&&0!==(1&t.mode)?0!==(1073741824&Nl)&&(Ko(t),6&t.subtreeFlags&&(t.flags|=8192)):Ko(t),null;case 24:case 25:return null}throw Error(s(156,t.tag))}function Qo(e,t){switch(ts(t),t.tag){case 1:return Pi(t.type)&&Ni(),65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 3:return Ys(),ki(Ii),ki(Ti),na(),0!==(65536&(e=t.flags))&&0===(128&e)?(t.flags=-65537&e|128,t):null;case 5:return $s(t),null;case 13:if(ki(Zs),null!==(e=t.memoizedState)&&null!==e.dehydrated){if(null===t.alternate)throw Error(s(340));ps()}return 65536&(e=t.flags)?(t.flags=-65537&e|128,t):null;case 19:return ki(Zs),null;case 4:return Ys(),null;case 10:return Cs(t.type._context),null;case 22:case 23:return dc(),null;default:return null}}Po=function(e,t){for(var n=t.child;null!==n;){if(5===n.tag||6===n.tag)e.appendChild(n.stateNode);else if(4!==n.tag&&null!==n.child){n.child.return=n,n=n.child;continue}if(n===t)break;for(;null===n.sibling;){if(null===n.return||n.return===t)return;n=n.return}n.sibling.return=n.return,n=n.sibling}},No=function(){},Lo=function(e,t,n,r){var i=e.memoizedProps;if(i!==r){e=t.stateNode,Xs(qs.current);var s,a=null;switch(n){case"input":i=Q(e,i),r=Q(e,r),a=[];break;case"select":i=F({},i,{value:void 0}),r=F({},r,{value:void 0}),a=[];break;case"textarea":i=re(e,i),r=re(e,r),a=[];break;default:"function"!==typeof i.onClick&&"function"===typeof r.onClick&&(e.onclick=Zr)}for(u in ye(n,r),n=null,i)if(!r.hasOwnProperty(u)&&i.hasOwnProperty(u)&&null!=i[u])if("style"===u){var l=i[u];for(s in l)l.hasOwnProperty(s)&&(n||(n={}),n[s]="")}else"dangerouslySetInnerHTML"!==u&&"children"!==u&&"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&"autoFocus"!==u&&(o.hasOwnProperty(u)?a||(a=[]):(a=a||[]).push(u,null));for(u in r){var c=r[u];if(l=null!=i?i[u]:void 0,r.hasOwnProperty(u)&&c!==l&&(null!=c||null!=l))if("style"===u)if(l){for(s in l)!l.hasOwnProperty(s)||c&&c.hasOwnProperty(s)||(n||(n={}),n[s]="");for(s in c)c.hasOwnProperty(s)&&l[s]!==c[s]&&(n||(n={}),n[s]=c[s])}else n||(a||(a=[]),a.push(u,n)),n=c;else"dangerouslySetInnerHTML"===u?(c=c?c.__html:void 0,l=l?l.__html:void 0,null!=c&&l!==c&&(a=a||[]).push(u,c)):"children"===u?"string"!==typeof c&&"number"!==typeof c||(a=a||[]).push(u,""+c):"suppressContentEditableWarning"!==u&&"suppressHydrationWarning"!==u&&(o.hasOwnProperty(u)?(null!=c&&"onScroll"===u&&Br("scroll",e),a||l===c||(a=[])):(a=a||[]).push(u,c))}n&&(a=a||[]).push("style",n);var u=a;(t.updateQueue=u)&&(t.flags|=4)}},Do=function(e,t,n,r){n!==r&&(t.flags|=4)};var Yo=!1,Jo=!1,$o="function"===typeof WeakSet?WeakSet:Set,Zo=null;function el(e,t){var n=e.ref;if(null!==n)if("function"===typeof n)try{n(null)}catch(r){kc(e,t,r)}else n.current=null}function tl(e,t,n){try{n()}catch(r){kc(e,t,r)}}var nl=!1;function rl(e,t,n){var r=t.updateQueue;if(null!==(r=null!==r?r.lastEffect:null)){var i=r=r.next;do{if((i.tag&e)===e){var s=i.destroy;i.destroy=void 0,void 0!==s&&tl(t,n,s)}i=i.next}while(i!==r)}}function il(e,t){if(null!==(t=null!==(t=t.updateQueue)?t.lastEffect:null)){var n=t=t.next;do{if((n.tag&e)===e){var r=n.create;n.destroy=r()}n=n.next}while(n!==t)}}function sl(e){var t=e.ref;if(null!==t){var n=e.stateNode;e.tag,e=n,"function"===typeof t?t(e):t.current=e}}function al(e){var t=e.alternate;null!==t&&(e.alternate=null,al(t)),e.child=null,e.deletions=null,e.sibling=null,5===e.tag&&(null!==(t=e.stateNode)&&(delete t[di],delete t[pi],delete t[gi],delete t[mi],delete t[vi])),e.stateNode=null,e.return=null,e.dependencies=null,e.memoizedProps=null,e.memoizedState=null,e.pendingProps=null,e.stateNode=null,e.updateQueue=null}function ol(e){return 5===e.tag||3===e.tag||4===e.tag}function ll(e){e:for(;;){for(;null===e.sibling;){if(null===e.return||ol(e.return))return null;e=e.return}for(e.sibling.return=e.return,e=e.sibling;5!==e.tag&&6!==e.tag&&18!==e.tag;){if(2&e.flags)continue e;if(null===e.child||4===e.tag)continue e;e.child.return=e,e=e.child}if(!(2&e.flags))return e.stateNode}}function cl(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?8===n.nodeType?n.parentNode.insertBefore(e,t):n.insertBefore(e,t):(8===n.nodeType?(t=n.parentNode).insertBefore(e,n):(t=n).appendChild(e),null!==(n=n._reactRootContainer)&&void 0!==n||null!==t.onclick||(t.onclick=Zr));else if(4!==r&&null!==(e=e.child))for(cl(e,t,n),e=e.sibling;null!==e;)cl(e,t,n),e=e.sibling}function ul(e,t,n){var r=e.tag;if(5===r||6===r)e=e.stateNode,t?n.insertBefore(e,t):n.appendChild(e);else if(4!==r&&null!==(e=e.child))for(ul(e,t,n),e=e.sibling;null!==e;)ul(e,t,n),e=e.sibling}var hl=null,dl=!1;function pl(e,t,n){for(n=n.child;null!==n;)fl(e,t,n),n=n.sibling}function fl(e,t,n){if(st&&"function"===typeof st.onCommitFiberUnmount)try{st.onCommitFiberUnmount(it,n)}catch(o){}switch(n.tag){case 5:Jo||el(n,t);case 6:var r=hl,i=dl;hl=null,pl(e,t,n),dl=i,null!==(hl=r)&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?e.parentNode.removeChild(n):e.removeChild(n)):hl.removeChild(n.stateNode));break;case 18:null!==hl&&(dl?(e=hl,n=n.stateNode,8===e.nodeType?li(e.parentNode,n):1===e.nodeType&&li(e,n),Ut(e)):li(hl,n.stateNode));break;case 4:r=hl,i=dl,hl=n.stateNode.containerInfo,dl=!0,pl(e,t,n),hl=r,dl=i;break;case 0:case 11:case 14:case 15:if(!Jo&&(null!==(r=n.updateQueue)&&null!==(r=r.lastEffect))){i=r=r.next;do{var s=i,a=s.destroy;s=s.tag,void 0!==a&&(0!==(2&s)||0!==(4&s))&&tl(n,t,a),i=i.next}while(i!==r)}pl(e,t,n);break;case 1:if(!Jo&&(el(n,t),"function"===typeof(r=n.stateNode).componentWillUnmount))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(o){kc(n,t,o)}pl(e,t,n);break;case 21:pl(e,t,n);break;case 22:1&n.mode?(Jo=(r=Jo)||null!==n.memoizedState,pl(e,t,n),Jo=r):pl(e,t,n);break;default:pl(e,t,n)}}function gl(e){var t=e.updateQueue;if(null!==t){e.updateQueue=null;var n=e.stateNode;null===n&&(n=e.stateNode=new $o),t.forEach((function(t){var r=Ic.bind(null,e,t);n.has(t)||(n.add(t),t.then(r,r))}))}}function ml(e,t){var n=t.deletions;if(null!==n)for(var r=0;r<n.length;r++){var i=n[r];try{var a=e,o=t,l=o;e:for(;null!==l;){switch(l.tag){case 5:hl=l.stateNode,dl=!1;break e;case 3:case 4:hl=l.stateNode.containerInfo,dl=!0;break e}l=l.return}if(null===hl)throw Error(s(160));fl(a,o,i),hl=null,dl=!1;var c=i.alternate;null!==c&&(c.return=null),i.return=null}catch(u){kc(i,t,u)}}if(12854&t.subtreeFlags)for(t=t.child;null!==t;)vl(t,e),t=t.sibling}function vl(e,t){var n=e.alternate,r=e.flags;switch(e.tag){case 0:case 11:case 14:case 15:if(ml(t,e),yl(e),4&r){try{rl(3,e,e.return),il(3,e)}catch(m){kc(e,e.return,m)}try{rl(5,e,e.return)}catch(m){kc(e,e.return,m)}}break;case 1:ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return);break;case 5:if(ml(t,e),yl(e),512&r&&null!==n&&el(n,n.return),32&e.flags){var i=e.stateNode;try{de(i,"")}catch(m){kc(e,e.return,m)}}if(4&r&&null!=(i=e.stateNode)){var a=e.memoizedProps,o=null!==n?n.memoizedProps:a,l=e.type,c=e.updateQueue;if(e.updateQueue=null,null!==c)try{"input"===l&&"radio"===a.type&&null!=a.name&&J(i,a),be(l,o);var u=be(l,a);for(o=0;o<c.length;o+=2){var h=c[o],d=c[o+1];"style"===h?me(i,d):"dangerouslySetInnerHTML"===h?he(i,d):"children"===h?de(i,d):b(i,h,d,u)}switch(l){case"input":$(i,a);break;case"textarea":se(i,a);break;case"select":var p=i._wrapperState.wasMultiple;i._wrapperState.wasMultiple=!!a.multiple;var f=a.value;null!=f?ne(i,!!a.multiple,f,!1):p!==!!a.multiple&&(null!=a.defaultValue?ne(i,!!a.multiple,a.defaultValue,!0):ne(i,!!a.multiple,a.multiple?[]:"",!1))}i[pi]=a}catch(m){kc(e,e.return,m)}}break;case 6:if(ml(t,e),yl(e),4&r){if(null===e.stateNode)throw Error(s(162));i=e.stateNode,a=e.memoizedProps;try{i.nodeValue=a}catch(m){kc(e,e.return,m)}}break;case 3:if(ml(t,e),yl(e),4&r&&null!==n&&n.memoizedState.isDehydrated)try{Ut(t.containerInfo)}catch(m){kc(e,e.return,m)}break;case 4:default:ml(t,e),yl(e);break;case 13:ml(t,e),yl(e),8192&(i=e.child).flags&&(a=null!==i.memoizedState,i.stateNode.isHidden=a,!a||null!==i.alternate&&null!==i.alternate.memoizedState||(Ul=Je())),4&r&&gl(e);break;case 22:if(h=null!==n&&null!==n.memoizedState,1&e.mode?(Jo=(u=Jo)||h,ml(t,e),Jo=u):ml(t,e),yl(e),8192&r){if(u=null!==e.memoizedState,(e.stateNode.isHidden=u)&&!h&&0!==(1&e.mode))for(Zo=e,h=e.child;null!==h;){for(d=Zo=h;null!==Zo;){switch(f=(p=Zo).child,p.tag){case 0:case 11:case 14:case 15:rl(4,p,p.return);break;case 1:el(p,p.return);var g=p.stateNode;if("function"===typeof g.componentWillUnmount){r=p,n=p.return;try{t=r,g.props=t.memoizedProps,g.state=t.memoizedState,g.componentWillUnmount()}catch(m){kc(r,n,m)}}break;case 5:el(p,p.return);break;case 22:if(null!==p.memoizedState){Sl(d);continue}}null!==f?(f.return=p,Zo=f):Sl(d)}h=h.sibling}e:for(h=null,d=e;;){if(5===d.tag){if(null===h){h=d;try{i=d.stateNode,u?"function"===typeof(a=i.style).setProperty?a.setProperty("display","none","important"):a.display="none":(l=d.stateNode,o=void 0!==(c=d.memoizedProps.style)&&null!==c&&c.hasOwnProperty("display")?c.display:null,l.style.display=ge("display",o))}catch(m){kc(e,e.return,m)}}}else if(6===d.tag){if(null===h)try{d.stateNode.nodeValue=u?"":d.memoizedProps}catch(m){kc(e,e.return,m)}}else if((22!==d.tag&&23!==d.tag||null===d.memoizedState||d===e)&&null!==d.child){d.child.return=d,d=d.child;continue}if(d===e)break e;for(;null===d.sibling;){if(null===d.return||d.return===e)break e;h===d&&(h=null),d=d.return}h===d&&(h=null),d.sibling.return=d.return,d=d.sibling}}break;case 19:ml(t,e),yl(e),4&r&&gl(e);case 21:}}function yl(e){var t=e.flags;if(2&t){try{e:{for(var n=e.return;null!==n;){if(ol(n)){var r=n;break e}n=n.return}throw Error(s(160))}switch(r.tag){case 5:var i=r.stateNode;32&r.flags&&(de(i,""),r.flags&=-33),ul(e,ll(e),i);break;case 3:case 4:var a=r.stateNode.containerInfo;cl(e,ll(e),a);break;default:throw Error(s(161))}}catch(o){kc(e,e.return,o)}e.flags&=-3}4096&t&&(e.flags&=-4097)}function bl(e,t,n){Zo=e,wl(e,t,n)}function wl(e,t,n){for(var r=0!==(1&e.mode);null!==Zo;){var i=Zo,s=i.child;if(22===i.tag&&r){var a=null!==i.memoizedState||Yo;if(!a){var o=i.alternate,l=null!==o&&null!==o.memoizedState||Jo;o=Yo;var c=Jo;if(Yo=a,(Jo=l)&&!c)for(Zo=i;null!==Zo;)l=(a=Zo).child,22===a.tag&&null!==a.memoizedState?El(i):null!==l?(l.return=a,Zo=l):El(i);for(;null!==s;)Zo=s,wl(s,t,n),s=s.sibling;Zo=i,Yo=o,Jo=c}_l(e)}else 0!==(8772&i.subtreeFlags)&&null!==s?(s.return=i,Zo=s):_l(e)}}function _l(e){for(;null!==Zo;){var t=Zo;if(0!==(8772&t.flags)){var n=t.alternate;try{if(0!==(8772&t.flags))switch(t.tag){case 0:case 11:case 15:Jo||il(5,t);break;case 1:var r=t.stateNode;if(4&t.flags&&!Jo)if(null===n)r.componentDidMount();else{var i=t.elementType===t.type?n.memoizedProps:to(t.type,n.memoizedProps);r.componentDidUpdate(i,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var a=t.updateQueue;null!==a&&Ws(t,a,r);break;case 3:var o=t.updateQueue;if(null!==o){if(n=null,null!==t.child)switch(t.child.tag){case 5:case 1:n=t.child.stateNode}Ws(t,o,n)}break;case 5:var l=t.stateNode;if(null===n&&4&t.flags){n=l;var c=t.memoizedProps;switch(t.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:case 4:case 12:case 19:case 17:case 21:case 22:case 23:case 25:break;case 13:if(null===t.memoizedState){var u=t.alternate;if(null!==u){var h=u.memoizedState;if(null!==h){var d=h.dehydrated;null!==d&&Ut(d)}}}break;default:throw Error(s(163))}Jo||512&t.flags&&sl(t)}catch(Sf){kc(t,t.return,Sf)}}if(t===e){Zo=null;break}if(null!==(n=t.sibling)){n.return=t.return,Zo=n;break}Zo=t.return}}function Sl(e){for(;null!==Zo;){var t=Zo;if(t===e){Zo=null;break}var n=t.sibling;if(null!==n){n.return=t.return,Zo=n;break}Zo=t.return}}function El(e){for(;null!==Zo;){var t=Zo;try{switch(t.tag){case 0:case 11:case 15:var n=t.return;try{il(4,t)}catch(l){kc(t,n,l)}break;case 1:var r=t.stateNode;if("function"===typeof r.componentDidMount){var i=t.return;try{r.componentDidMount()}catch(l){kc(t,i,l)}}var s=t.return;try{sl(t)}catch(l){kc(t,s,l)}break;case 5:var a=t.return;try{sl(t)}catch(l){kc(t,a,l)}}}catch(l){kc(t,t.return,l)}if(t===e){Zo=null;break}var o=t.sibling;if(null!==o){o.return=t.return,Zo=o;break}Zo=t.return}}var Al,kl=Math.ceil,xl=w.ReactCurrentDispatcher,Cl=w.ReactCurrentOwner,Tl=w.ReactCurrentBatchConfig,Il=0,Rl=null,Ml=null,Pl=0,Nl=0,Ll=Ai(0),Dl=0,Ol=null,Fl=0,jl=0,Bl=0,zl=null,Vl=null,Ul=0,Wl=1/0,Hl=null,ql=!1,Gl=null,Kl=null,Xl=!1,Ql=null,Yl=0,Jl=0,$l=null,Zl=-1,ec=0;function tc(){return 0!==(6&Il)?Je():-1!==Zl?Zl:Zl=Je()}function nc(e){return 0===(1&e.mode)?1:0!==(2&Il)&&0!==Pl?Pl&-Pl:null!==gs.transition?(0===ec&&(ec=gt()),ec):0!==(e=bt)?e:e=void 0===(e=window.event)?16:Yt(e.type)}function rc(e,t,n,r){if(50<Jl)throw Jl=0,$l=null,Error(s(185));vt(e,n,r),0!==(2&Il)&&e===Rl||(e===Rl&&(0===(2&Il)&&(jl|=n),4===Dl&&lc(e,Pl)),ic(e,r),1===n&&0===Il&&0===(1&t.mode)&&(Wl=Je()+500,Bi&&Ui()))}function ic(e,t){var n=e.callbackNode;!function(e,t){for(var n=e.suspendedLanes,r=e.pingedLanes,i=e.expirationTimes,s=e.pendingLanes;0<s;){var a=31-at(s),o=1<<a,l=i[a];-1===l?0!==(o&n)&&0===(o&r)||(i[a]=pt(o,t)):l<=t&&(e.expiredLanes|=o),s&=~o}}(e,t);var r=dt(e,e===Rl?Pl:0);if(0===r)null!==n&&Xe(n),e.callbackNode=null,e.callbackPriority=0;else if(t=r&-r,e.callbackPriority!==t){if(null!=n&&Xe(n),1===t)0===e.tag?function(e){Bi=!0,Vi(e)}(cc.bind(null,e)):Vi(cc.bind(null,e)),ai((function(){0===(6&Il)&&Ui()})),n=null;else{switch(wt(r)){case 1:n=Ze;break;case 4:n=et;break;case 16:default:n=tt;break;case 536870912:n=rt}n=Rc(n,sc.bind(null,e))}e.callbackPriority=t,e.callbackNode=n}}function sc(e,t){if(Zl=-1,ec=0,0!==(6&Il))throw Error(s(327));var n=e.callbackNode;if(Ec()&&e.callbackNode!==n)return null;var r=dt(e,e===Rl?Pl:0);if(0===r)return null;if(0!==(30&r)||0!==(r&e.expiredLanes)||t)t=vc(e,r);else{t=r;var i=Il;Il|=2;var a=gc();for(Rl===e&&Pl===t||(Hl=null,Wl=Je()+500,pc(e,t));;)try{bc();break}catch(l){fc(e,l)}xs(),xl.current=a,Il=i,null!==Ml?t=0:(Rl=null,Pl=0,t=Dl)}if(0!==t){if(2===t&&(0!==(i=ft(e))&&(r=i,t=ac(e,i))),1===t)throw n=Ol,pc(e,0),lc(e,r),ic(e,Je()),n;if(6===t)lc(e,r);else{if(i=e.current.alternate,0===(30&r)&&!function(e){for(var t=e;;){if(16384&t.flags){var n=t.updateQueue;if(null!==n&&null!==(n=n.stores))for(var r=0;r<n.length;r++){var i=n[r],s=i.getSnapshot;i=i.value;try{if(!or(s(),i))return!1}catch(o){return!1}}}if(n=t.child,16384&t.subtreeFlags&&null!==n)n.return=t,t=n;else{if(t===e)break;for(;null===t.sibling;){if(null===t.return||t.return===e)return!0;t=t.return}t.sibling.return=t.return,t=t.sibling}}return!0}(i)&&(2===(t=vc(e,r))&&(0!==(a=ft(e))&&(r=a,t=ac(e,a))),1===t))throw n=Ol,pc(e,0),lc(e,r),ic(e,Je()),n;switch(e.finishedWork=i,e.finishedLanes=r,t){case 0:case 1:throw Error(s(345));case 2:case 5:Sc(e,Vl,Hl);break;case 3:if(lc(e,r),(130023424&r)===r&&10<(t=Ul+500-Je())){if(0!==dt(e,0))break;if(((i=e.suspendedLanes)&r)!==r){tc(),e.pingedLanes|=e.suspendedLanes&i;break}e.timeoutHandle=ri(Sc.bind(null,e,Vl,Hl),t);break}Sc(e,Vl,Hl);break;case 4:if(lc(e,r),(4194240&r)===r)break;for(t=e.eventTimes,i=-1;0<r;){var o=31-at(r);a=1<<o,(o=t[o])>i&&(i=o),r&=~a}if(r=i,10<(r=(120>(r=Je()-r)?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*kl(r/1960))-r)){e.timeoutHandle=ri(Sc.bind(null,e,Vl,Hl),r);break}Sc(e,Vl,Hl);break;default:throw Error(s(329))}}}return ic(e,Je()),e.callbackNode===n?sc.bind(null,e):null}function ac(e,t){var n=zl;return e.current.memoizedState.isDehydrated&&(pc(e,t).flags|=256),2!==(e=vc(e,t))&&(t=Vl,Vl=n,null!==t&&oc(t)),e}function oc(e){null===Vl?Vl=e:Vl.push.apply(Vl,e)}function lc(e,t){for(t&=~Bl,t&=~jl,e.suspendedLanes|=t,e.pingedLanes&=~t,e=e.expirationTimes;0<t;){var n=31-at(t),r=1<<n;e[n]=-1,t&=~r}}function cc(e){if(0!==(6&Il))throw Error(s(327));Ec();var t=dt(e,0);if(0===(1&t))return ic(e,Je()),null;var n=vc(e,t);if(0!==e.tag&&2===n){var r=ft(e);0!==r&&(t=r,n=ac(e,r))}if(1===n)throw n=Ol,pc(e,0),lc(e,t),ic(e,Je()),n;if(6===n)throw Error(s(345));return e.finishedWork=e.current.alternate,e.finishedLanes=t,Sc(e,Vl,Hl),ic(e,Je()),null}function uc(e,t){var n=Il;Il|=1;try{return e(t)}finally{0===(Il=n)&&(Wl=Je()+500,Bi&&Ui())}}function hc(e){null!==Ql&&0===Ql.tag&&0===(6&Il)&&Ec();var t=Il;Il|=1;var n=Tl.transition,r=bt;try{if(Tl.transition=null,bt=1,e)return e()}finally{bt=r,Tl.transition=n,0===(6&(Il=t))&&Ui()}}function dc(){Nl=Ll.current,ki(Ll)}function pc(e,t){e.finishedWork=null,e.finishedLanes=0;var n=e.timeoutHandle;if(-1!==n&&(e.timeoutHandle=-1,ii(n)),null!==Ml)for(n=Ml.return;null!==n;){var r=n;switch(ts(r),r.tag){case 1:null!==(r=r.type.childContextTypes)&&void 0!==r&&Ni();break;case 3:Ys(),ki(Ii),ki(Ti),na();break;case 5:$s(r);break;case 4:Ys();break;case 13:case 19:ki(Zs);break;case 10:Cs(r.type._context);break;case 22:case 23:dc()}n=n.return}if(Rl=e,Ml=e=Lc(e.current,null),Pl=Nl=t,Dl=0,Ol=null,Bl=jl=Fl=0,Vl=zl=null,null!==Ms){for(t=0;t<Ms.length;t++)if(null!==(r=(n=Ms[t]).interleaved)){n.interleaved=null;var i=r.next,s=n.pending;if(null!==s){var a=s.next;s.next=i,r.next=a}n.pending=r}Ms=null}return e}function fc(e,t){for(;;){var n=Ml;try{if(xs(),ra.current=Ja,ca){for(var r=aa.memoizedState;null!==r;){var i=r.queue;null!==i&&(i.pending=null),r=r.next}ca=!1}if(sa=0,la=oa=aa=null,ua=!1,ha=0,Cl.current=null,null===n||null===n.return){Dl=1,Ol=t,Ml=null;break}e:{var a=e,o=n.return,l=n,c=t;if(t=Pl,l.flags|=32768,null!==c&&"object"===typeof c&&"function"===typeof c.then){var u=c,h=l,d=h.tag;if(0===(1&h.mode)&&(0===d||11===d||15===d)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var f=vo(o);if(null!==f){f.flags&=-257,yo(f,o,l,0,t),1&f.mode&&mo(a,u,t),c=u;var g=(t=f).updateQueue;if(null===g){var m=new Set;m.add(c),t.updateQueue=m}else g.add(c);break e}if(0===(1&t)){mo(a,u,t),mc();break e}c=Error(s(426))}else if(is&&1&l.mode){var v=vo(o);if(null!==v){0===(65536&v.flags)&&(v.flags|=256),yo(v,o,l,0,t),fs(co(c,l));break e}}a=c=co(c,l),4!==Dl&&(Dl=2),null===zl?zl=[a]:zl.push(a),a=o;do{switch(a.tag){case 3:a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,fo(0,c,t));break e;case 1:l=c;var y=a.type,b=a.stateNode;if(0===(128&a.flags)&&("function"===typeof y.getDerivedStateFromError||null!==b&&"function"===typeof b.componentDidCatch&&(null===Kl||!Kl.has(b)))){a.flags|=65536,t&=-t,a.lanes|=t,Vs(a,go(a,l,t));break e}}a=a.return}while(null!==a)}_c(n)}catch(w){t=w,Ml===n&&null!==n&&(Ml=n=n.return);continue}break}}function gc(){var e=xl.current;return xl.current=Ja,null===e?Ja:e}function mc(){0!==Dl&&3!==Dl&&2!==Dl||(Dl=4),null===Rl||0===(268435455&Fl)&&0===(268435455&jl)||lc(Rl,Pl)}function vc(e,t){var n=Il;Il|=2;var r=gc();for(Rl===e&&Pl===t||(Hl=null,pc(e,t));;)try{yc();break}catch(i){fc(e,i)}if(xs(),Il=n,xl.current=r,null!==Ml)throw Error(s(261));return Rl=null,Pl=0,Dl}function yc(){for(;null!==Ml;)wc(Ml)}function bc(){for(;null!==Ml&&!Qe();)wc(Ml)}function wc(e){var t=Al(e.alternate,e,Nl);e.memoizedProps=e.pendingProps,null===t?_c(e):Ml=t,Cl.current=null}function _c(e){var t=e;do{var n=t.alternate;if(e=t.return,0===(32768&t.flags)){if(null!==(n=Xo(n,t,Nl)))return void(Ml=n)}else{if(null!==(n=Qo(n,t)))return n.flags&=32767,void(Ml=n);if(null===e)return Dl=6,void(Ml=null);e.flags|=32768,e.subtreeFlags=0,e.deletions=null}if(null!==(t=t.sibling))return void(Ml=t);Ml=t=e}while(null!==t);0===Dl&&(Dl=5)}function Sc(e,t,n){var r=bt,i=Tl.transition;try{Tl.transition=null,bt=1,function(e,t,n,r){do{Ec()}while(null!==Ql);if(0!==(6&Il))throw Error(s(327));n=e.finishedWork;var i=e.finishedLanes;if(null===n)return null;if(e.finishedWork=null,e.finishedLanes=0,n===e.current)throw Error(s(177));e.callbackNode=null,e.callbackPriority=0;var a=n.lanes|n.childLanes;if(function(e,t){var n=e.pendingLanes&~t;e.pendingLanes=t,e.suspendedLanes=0,e.pingedLanes=0,e.expiredLanes&=t,e.mutableReadLanes&=t,e.entangledLanes&=t,t=e.entanglements;var r=e.eventTimes;for(e=e.expirationTimes;0<n;){var i=31-at(n),s=1<<i;t[i]=0,r[i]=-1,e[i]=-1,n&=~s}}(e,a),e===Rl&&(Ml=Rl=null,Pl=0),0===(2064&n.subtreeFlags)&&0===(2064&n.flags)||Xl||(Xl=!0,Rc(tt,(function(){return Ec(),null}))),a=0!==(15990&n.flags),0!==(15990&n.subtreeFlags)||a){a=Tl.transition,Tl.transition=null;var o=bt;bt=1;var l=Il;Il|=4,Cl.current=null,function(e,t){if(ei=Ht,pr(e=dr())){if("selectionStart"in e)var n={start:e.selectionStart,end:e.selectionEnd};else e:{var r=(n=(n=e.ownerDocument)&&n.defaultView||window).getSelection&&n.getSelection();if(r&&0!==r.rangeCount){n=r.anchorNode;var i=r.anchorOffset,a=r.focusNode;r=r.focusOffset;try{n.nodeType,a.nodeType}catch(_){n=null;break e}var o=0,l=-1,c=-1,u=0,h=0,d=e,p=null;t:for(;;){for(var f;d!==n||0!==i&&3!==d.nodeType||(l=o+i),d!==a||0!==r&&3!==d.nodeType||(c=o+r),3===d.nodeType&&(o+=d.nodeValue.length),null!==(f=d.firstChild);)p=d,d=f;for(;;){if(d===e)break t;if(p===n&&++u===i&&(l=o),p===a&&++h===r&&(c=o),null!==(f=d.nextSibling))break;p=(d=p).parentNode}d=f}n=-1===l||-1===c?null:{start:l,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(ti={focusedElem:e,selectionRange:n},Ht=!1,Zo=t;null!==Zo;)if(e=(t=Zo).child,0!==(1028&t.subtreeFlags)&&null!==e)e.return=t,Zo=e;else for(;null!==Zo;){t=Zo;try{var g=t.alternate;if(0!==(1024&t.flags))switch(t.tag){case 0:case 11:case 15:case 5:case 6:case 4:case 17:break;case 1:if(null!==g){var m=g.memoizedProps,v=g.memoizedState,y=t.stateNode,b=y.getSnapshotBeforeUpdate(t.elementType===t.type?m:to(t.type,m),v);y.__reactInternalSnapshotBeforeUpdate=b}break;case 3:var w=t.stateNode.containerInfo;1===w.nodeType?w.textContent="":9===w.nodeType&&w.documentElement&&w.removeChild(w.documentElement);break;default:throw Error(s(163))}}catch(_){kc(t,t.return,_)}if(null!==(e=t.sibling)){e.return=t.return,Zo=e;break}Zo=t.return}g=nl,nl=!1}(e,n),vl(n,e),fr(ti),Ht=!!ei,ti=ei=null,e.current=n,bl(n,e,i),Ye(),Il=l,bt=o,Tl.transition=a}else e.current=n;if(Xl&&(Xl=!1,Ql=e,Yl=i),a=e.pendingLanes,0===a&&(Kl=null),function(e){if(st&&"function"===typeof st.onCommitFiberRoot)try{st.onCommitFiberRoot(it,e,void 0,128===(128&e.current.flags))}catch(t){}}(n.stateNode),ic(e,Je()),null!==t)for(r=e.onRecoverableError,n=0;n<t.length;n++)i=t[n],r(i.value,{componentStack:i.stack,digest:i.digest});if(ql)throw ql=!1,e=Gl,Gl=null,e;0!==(1&Yl)&&0!==e.tag&&Ec(),a=e.pendingLanes,0!==(1&a)?e===$l?Jl++:(Jl=0,$l=e):Jl=0,Ui()}(e,t,n,r)}finally{Tl.transition=i,bt=r}return null}function Ec(){if(null!==Ql){var e=wt(Yl),t=Tl.transition,n=bt;try{if(Tl.transition=null,bt=16>e?16:e,null===Ql)var r=!1;else{if(e=Ql,Ql=null,Yl=0,0!==(6&Il))throw Error(s(331));var i=Il;for(Il|=4,Zo=e.current;null!==Zo;){var a=Zo,o=a.child;if(0!==(16&Zo.flags)){var l=a.deletions;if(null!==l){for(var c=0;c<l.length;c++){var u=l[c];for(Zo=u;null!==Zo;){var h=Zo;switch(h.tag){case 0:case 11:case 15:rl(8,h,a)}var d=h.child;if(null!==d)d.return=h,Zo=d;else for(;null!==Zo;){var p=(h=Zo).sibling,f=h.return;if(al(h),h===u){Zo=null;break}if(null!==p){p.return=f,Zo=p;break}Zo=f}}}var g=a.alternate;if(null!==g){var m=g.child;if(null!==m){g.child=null;do{var v=m.sibling;m.sibling=null,m=v}while(null!==m)}}Zo=a}}if(0!==(2064&a.subtreeFlags)&&null!==o)o.return=a,Zo=o;else e:for(;null!==Zo;){if(0!==(2048&(a=Zo).flags))switch(a.tag){case 0:case 11:case 15:rl(9,a,a.return)}var y=a.sibling;if(null!==y){y.return=a.return,Zo=y;break e}Zo=a.return}}var b=e.current;for(Zo=b;null!==Zo;){var w=(o=Zo).child;if(0!==(2064&o.subtreeFlags)&&null!==w)w.return=o,Zo=w;else e:for(o=b;null!==Zo;){if(0!==(2048&(l=Zo).flags))try{switch(l.tag){case 0:case 11:case 15:il(9,l)}}catch(S){kc(l,l.return,S)}if(l===o){Zo=null;break e}var _=l.sibling;if(null!==_){_.return=l.return,Zo=_;break e}Zo=l.return}}if(Il=i,Ui(),st&&"function"===typeof st.onPostCommitFiberRoot)try{st.onPostCommitFiberRoot(it,e)}catch(S){}r=!0}return r}finally{bt=n,Tl.transition=t}}return!1}function Ac(e,t,n){e=Bs(e,t=fo(0,t=co(n,t),1),1),t=tc(),null!==e&&(vt(e,1,t),ic(e,t))}function kc(e,t,n){if(3===e.tag)Ac(e,e,n);else for(;null!==t;){if(3===t.tag){Ac(t,e,n);break}if(1===t.tag){var r=t.stateNode;if("function"===typeof t.type.getDerivedStateFromError||"function"===typeof r.componentDidCatch&&(null===Kl||!Kl.has(r))){t=Bs(t,e=go(t,e=co(n,e),1),1),e=tc(),null!==t&&(vt(t,1,e),ic(t,e));break}}t=t.return}}function xc(e,t,n){var r=e.pingCache;null!==r&&r.delete(t),t=tc(),e.pingedLanes|=e.suspendedLanes&n,Rl===e&&(Pl&n)===n&&(4===Dl||3===Dl&&(130023424&Pl)===Pl&&500>Je()-Ul?pc(e,0):Bl|=n),ic(e,t)}function Cc(e,t){0===t&&(0===(1&e.mode)?t=1:(t=ut,0===(130023424&(ut<<=1))&&(ut=4194304)));var n=tc();null!==(e=Ls(e,t))&&(vt(e,t,n),ic(e,n))}function Tc(e){var t=e.memoizedState,n=0;null!==t&&(n=t.retryLane),Cc(e,n)}function Ic(e,t){var n=0;switch(e.tag){case 13:var r=e.stateNode,i=e.memoizedState;null!==i&&(n=i.retryLane);break;case 19:r=e.stateNode;break;default:throw Error(s(314))}null!==r&&r.delete(t),Cc(e,n)}function Rc(e,t){return Ke(e,t)}function Mc(e,t,n,r){this.tag=e,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=t,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Pc(e,t,n,r){return new Mc(e,t,n,r)}function Nc(e){return!(!(e=e.prototype)||!e.isReactComponent)}function Lc(e,t){var n=e.alternate;return null===n?((n=Pc(e.tag,t,e.key,e.mode)).elementType=e.elementType,n.type=e.type,n.stateNode=e.stateNode,n.alternate=e,e.alternate=n):(n.pendingProps=t,n.type=e.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=14680064&e.flags,n.childLanes=e.childLanes,n.lanes=e.lanes,n.child=e.child,n.memoizedProps=e.memoizedProps,n.memoizedState=e.memoizedState,n.updateQueue=e.updateQueue,t=e.dependencies,n.dependencies=null===t?null:{lanes:t.lanes,firstContext:t.firstContext},n.sibling=e.sibling,n.index=e.index,n.ref=e.ref,n}function Dc(e,t,n,r,i,a){var o=2;if(r=e,"function"===typeof e)Nc(e)&&(o=1);else if("string"===typeof e)o=5;else e:switch(e){case E:return Oc(n.children,i,a,t);case A:o=8,i|=8;break;case k:return(e=Pc(12,n,t,2|i)).elementType=k,e.lanes=a,e;case I:return(e=Pc(13,n,t,i)).elementType=I,e.lanes=a,e;case R:return(e=Pc(19,n,t,i)).elementType=R,e.lanes=a,e;case N:return Fc(n,i,a,t);default:if("object"===typeof e&&null!==e)switch(e.$$typeof){case x:o=10;break e;case C:o=9;break e;case T:o=11;break e;case M:o=14;break e;case P:o=16,r=null;break e}throw Error(s(130,null==e?e:typeof e,""))}return(t=Pc(o,n,t,i)).elementType=e,t.type=r,t.lanes=a,t}function Oc(e,t,n,r){return(e=Pc(7,e,r,t)).lanes=n,e}function Fc(e,t,n,r){return(e=Pc(22,e,r,t)).elementType=N,e.lanes=n,e.stateNode={isHidden:!1},e}function jc(e,t,n){return(e=Pc(6,e,null,t)).lanes=n,e}function Bc(e,t,n){return(t=Pc(4,null!==e.children?e.children:[],e.key,t)).lanes=n,t.stateNode={containerInfo:e.containerInfo,pendingChildren:null,implementation:e.implementation},t}function zc(e,t,n,r,i){this.tag=t,this.containerInfo=e,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=mt(0),this.expirationTimes=mt(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=mt(0),this.identifierPrefix=r,this.onRecoverableError=i,this.mutableSourceEagerHydrationData=null}function Vc(e,t,n,r,i,s,a,o,l){return e=new zc(e,t,n,o,l),1===t?(t=1,!0===s&&(t|=8)):t=0,s=Pc(3,null,null,t),e.current=s,s.stateNode=e,s.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Os(s),e}function Uc(e){if(!e)return Ci;e:{if(Ue(e=e._reactInternals)!==e||1!==e.tag)throw Error(s(170));var t=e;do{switch(t.tag){case 3:t=t.stateNode.context;break e;case 1:if(Pi(t.type)){t=t.stateNode.__reactInternalMemoizedMergedChildContext;break e}}t=t.return}while(null!==t);throw Error(s(171))}if(1===e.tag){var n=e.type;if(Pi(n))return Di(e,n,t)}return t}function Wc(e,t,n,r,i,s,a,o,l){return(e=Vc(n,r,!0,e,0,s,0,o,l)).context=Uc(null),n=e.current,(s=js(r=tc(),i=nc(n))).callback=void 0!==t&&null!==t?t:null,Bs(n,s,i),e.current.lanes=i,vt(e,i,r),ic(e,r),e}function Hc(e,t,n,r){var i=t.current,s=tc(),a=nc(i);return n=Uc(n),null===t.context?t.context=n:t.pendingContext=n,(t=js(s,a)).payload={element:e},null!==(r=void 0===r?null:r)&&(t.callback=r),null!==(e=Bs(i,t,a))&&(rc(e,i,a,s),zs(e,i,a)),a}function qc(e){return(e=e.current).child?(e.child.tag,e.child.stateNode):null}function Gc(e,t){if(null!==(e=e.memoizedState)&&null!==e.dehydrated){var n=e.retryLane;e.retryLane=0!==n&&n<t?n:t}}function Kc(e,t){Gc(e,t),(e=e.alternate)&&Gc(e,t)}Al=function(e,t,n){if(null!==e)if(e.memoizedProps!==t.pendingProps||Ii.current)wo=!0;else{if(0===(e.lanes&n)&&0===(128&t.flags))return wo=!1,function(e,t,n){switch(t.tag){case 3:Ro(t),ps();break;case 5:Js(t);break;case 1:Pi(t.type)&&Oi(t);break;case 4:Qs(t,t.stateNode.containerInfo);break;case 10:var r=t.type._context,i=t.memoizedProps.value;xi(Ss,r._currentValue),r._currentValue=i;break;case 13:if(null!==(r=t.memoizedState))return null!==r.dehydrated?(xi(Zs,1&Zs.current),t.flags|=128,null):0!==(n&t.child.childLanes)?jo(e,t,n):(xi(Zs,1&Zs.current),null!==(e=qo(e,t,n))?e.sibling:null);xi(Zs,1&Zs.current);break;case 19:if(r=0!==(n&t.childLanes),0!==(128&e.flags)){if(r)return Wo(e,t,n);t.flags|=128}if(null!==(i=t.memoizedState)&&(i.rendering=null,i.tail=null,i.lastEffect=null),xi(Zs,Zs.current),r)break;return null;case 22:case 23:return t.lanes=0,ko(e,t,n)}return qo(e,t,n)}(e,t,n);wo=0!==(131072&e.flags)}else wo=!1,is&&0!==(1048576&t.flags)&&Zi(t,Gi,t.index);switch(t.lanes=0,t.tag){case 2:var r=t.type;Ho(e,t),e=t.pendingProps;var i=Mi(t,Ti.current);Is(t,n),i=ga(null,t,r,e,i,n);var a=ma();return t.flags|=1,"object"===typeof i&&null!==i&&"function"===typeof i.render&&void 0===i.$$typeof?(t.tag=1,t.memoizedState=null,t.updateQueue=null,Pi(r)?(a=!0,Oi(t)):a=!1,t.memoizedState=null!==i.state&&void 0!==i.state?i.state:null,Os(t),i.updater=ro,t.stateNode=i,i._reactInternals=t,lo(t,r,e,n),t=Io(null,t,r,!0,a,n)):(t.tag=0,is&&a&&es(t),_o(null,t,i,n),t=t.child),t;case 16:r=t.elementType;e:{switch(Ho(e,t),e=t.pendingProps,r=(i=r._init)(r._payload),t.type=r,i=t.tag=function(e){if("function"===typeof e)return Nc(e)?1:0;if(void 0!==e&&null!==e){if((e=e.$$typeof)===T)return 11;if(e===M)return 14}return 2}(r),e=to(r,e),i){case 0:t=Co(null,t,r,e,n);break e;case 1:t=To(null,t,r,e,n);break e;case 11:t=So(null,t,r,e,n);break e;case 14:t=Eo(null,t,r,to(r.type,e),n);break e}throw Error(s(306,r,""))}return t;case 0:return r=t.type,i=t.pendingProps,Co(e,t,r,i=t.elementType===r?i:to(r,i),n);case 1:return r=t.type,i=t.pendingProps,To(e,t,r,i=t.elementType===r?i:to(r,i),n);case 3:e:{if(Ro(t),null===e)throw Error(s(387));r=t.pendingProps,i=(a=t.memoizedState).element,Fs(e,t),Us(t,r,null,n);var o=t.memoizedState;if(r=o.element,a.isDehydrated){if(a={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},t.updateQueue.baseState=a,t.memoizedState=a,256&t.flags){t=Mo(e,t,r,n,i=co(Error(s(423)),t));break e}if(r!==i){t=Mo(e,t,r,n,i=co(Error(s(424)),t));break e}for(rs=ci(t.stateNode.containerInfo.firstChild),ns=t,is=!0,ss=null,n=_s(t,null,r,n),t.child=n;n;)n.flags=-3&n.flags|4096,n=n.sibling}else{if(ps(),r===i){t=qo(e,t,n);break e}_o(e,t,r,n)}t=t.child}return t;case 5:return Js(t),null===e&&cs(t),r=t.type,i=t.pendingProps,a=null!==e?e.memoizedProps:null,o=i.children,ni(r,i)?o=null:null!==a&&ni(r,a)&&(t.flags|=32),xo(e,t),_o(e,t,o,n),t.child;case 6:return null===e&&cs(t),null;case 13:return jo(e,t,n);case 4:return Qs(t,t.stateNode.containerInfo),r=t.pendingProps,null===e?t.child=ws(t,null,r,n):_o(e,t,r,n),t.child;case 11:return r=t.type,i=t.pendingProps,So(e,t,r,i=t.elementType===r?i:to(r,i),n);case 7:return _o(e,t,t.pendingProps,n),t.child;case 8:case 12:return _o(e,t,t.pendingProps.children,n),t.child;case 10:e:{if(r=t.type._context,i=t.pendingProps,a=t.memoizedProps,o=i.value,xi(Ss,r._currentValue),r._currentValue=o,null!==a)if(or(a.value,o)){if(a.children===i.children&&!Ii.current){t=qo(e,t,n);break e}}else for(null!==(a=t.child)&&(a.return=t);null!==a;){var l=a.dependencies;if(null!==l){o=a.child;for(var c=l.firstContext;null!==c;){if(c.context===r){if(1===a.tag){(c=js(-1,n&-n)).tag=2;var u=a.updateQueue;if(null!==u){var h=(u=u.shared).pending;null===h?c.next=c:(c.next=h.next,h.next=c),u.pending=c}}a.lanes|=n,null!==(c=a.alternate)&&(c.lanes|=n),Ts(a.return,n,t),l.lanes|=n;break}c=c.next}}else if(10===a.tag)o=a.type===t.type?null:a.child;else if(18===a.tag){if(null===(o=a.return))throw Error(s(341));o.lanes|=n,null!==(l=o.alternate)&&(l.lanes|=n),Ts(o,n,t),o=a.sibling}else o=a.child;if(null!==o)o.return=a;else for(o=a;null!==o;){if(o===t){o=null;break}if(null!==(a=o.sibling)){a.return=o.return,o=a;break}o=o.return}a=o}_o(e,t,i.children,n),t=t.child}return t;case 9:return i=t.type,r=t.pendingProps.children,Is(t,n),r=r(i=Rs(i)),t.flags|=1,_o(e,t,r,n),t.child;case 14:return i=to(r=t.type,t.pendingProps),Eo(e,t,r,i=to(r.type,i),n);case 15:return Ao(e,t,t.type,t.pendingProps,n);case 17:return r=t.type,i=t.pendingProps,i=t.elementType===r?i:to(r,i),Ho(e,t),t.tag=1,Pi(r)?(e=!0,Oi(t)):e=!1,Is(t,n),ao(t,r,i),lo(t,r,i,n),Io(null,t,r,!0,e,n);case 19:return Wo(e,t,n);case 22:return ko(e,t,n)}throw Error(s(156,t.tag))};var Xc="function"===typeof reportError?reportError:function(e){console.error(e)};function Qc(e){this._internalRoot=e}function Yc(e){this._internalRoot=e}function Jc(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType)}function $c(e){return!(!e||1!==e.nodeType&&9!==e.nodeType&&11!==e.nodeType&&(8!==e.nodeType||" react-mount-point-unstable "!==e.nodeValue))}function Zc(){}function eu(e,t,n,r,i){var s=n._reactRootContainer;if(s){var a=s;if("function"===typeof i){var o=i;i=function(){var e=qc(a);o.call(e)}}Hc(t,a,e,i)}else a=function(e,t,n,r,i){if(i){if("function"===typeof r){var s=r;r=function(){var e=qc(a);s.call(e)}}var a=Wc(t,r,e,0,null,!1,0,"",Zc);return e._reactRootContainer=a,e[fi]=a.current,Ur(8===e.nodeType?e.parentNode:e),hc(),a}for(;i=e.lastChild;)e.removeChild(i);if("function"===typeof r){var o=r;r=function(){var e=qc(l);o.call(e)}}var l=Vc(e,0,!1,null,0,!1,0,"",Zc);return e._reactRootContainer=l,e[fi]=l.current,Ur(8===e.nodeType?e.parentNode:e),hc((function(){Hc(t,l,n,r)})),l}(n,t,e,i,r);return qc(a)}Yc.prototype.render=Qc.prototype.render=function(e){var t=this._internalRoot;if(null===t)throw Error(s(409));Hc(e,t,null,null)},Yc.prototype.unmount=Qc.prototype.unmount=function(){var e=this._internalRoot;if(null!==e){this._internalRoot=null;var t=e.containerInfo;hc((function(){Hc(null,e,null,null)})),t[fi]=null}},Yc.prototype.unstable_scheduleHydration=function(e){if(e){var t=At();e={blockedOn:null,target:e,priority:t};for(var n=0;n<Nt.length&&0!==t&&t<Nt[n].priority;n++);Nt.splice(n,0,e),0===n&&Ft(e)}},_t=function(e){switch(e.tag){case 3:var t=e.stateNode;if(t.current.memoizedState.isDehydrated){var n=ht(t.pendingLanes);0!==n&&(yt(t,1|n),ic(t,Je()),0===(6&Il)&&(Wl=Je()+500,Ui()))}break;case 13:hc((function(){var t=Ls(e,1);if(null!==t){var n=tc();rc(t,e,1,n)}})),Kc(e,1)}},St=function(e){if(13===e.tag){var t=Ls(e,134217728);if(null!==t)rc(t,e,134217728,tc());Kc(e,134217728)}},Et=function(e){if(13===e.tag){var t=nc(e),n=Ls(e,t);if(null!==n)rc(n,e,t,tc());Kc(e,t)}},At=function(){return bt},kt=function(e,t){var n=bt;try{return bt=e,t()}finally{bt=n}},Se=function(e,t,n){switch(t){case"input":if($(e,n),t=n.name,"radio"===n.type&&null!=t){for(n=e;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+t)+'][type="radio"]'),t=0;t<n.length;t++){var r=n[t];if(r!==e&&r.form===e.form){var i=_i(r);if(!i)throw Error(s(90));K(r),$(r,i)}}}break;case"textarea":se(e,n);break;case"select":null!=(t=n.value)&&ne(e,!!n.multiple,t,!1)}},Te=uc,Ie=hc;var tu={usingClientEntryPoint:!1,Events:[bi,wi,_i,xe,Ce,uc]},nu={findFiberByHostInstance:yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ru={bundleType:nu.bundleType,version:nu.version,rendererPackageName:nu.rendererPackageName,rendererConfig:nu.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:w.ReactCurrentDispatcher,findHostInstanceByFiber:function(e){return null===(e=qe(e))?null:e.stateNode},findFiberByHostInstance:nu.findFiberByHostInstance||function(){return null},findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__){var iu=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!iu.isDisabled&&iu.supportsFiber)try{it=iu.inject(ru),st=iu}catch(ue){}}t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=tu,t.createPortal=function(e,t){var n=2<arguments.length&&void 0!==arguments[2]?arguments[2]:null;if(!Jc(t))throw Error(s(200));return function(e,t,n){var r=3<arguments.length&&void 0!==arguments[3]?arguments[3]:null;return{$$typeof:S,key:null==r?null:""+r,children:e,containerInfo:t,implementation:n}}(e,t,null,n)},t.createRoot=function(e,t){if(!Jc(e))throw Error(s(299));var n=!1,r="",i=Xc;return null!==t&&void 0!==t&&(!0===t.unstable_strictMode&&(n=!0),void 0!==t.identifierPrefix&&(r=t.identifierPrefix),void 0!==t.onRecoverableError&&(i=t.onRecoverableError)),t=Vc(e,1,!1,null,0,n,0,r,i),e[fi]=t.current,Ur(8===e.nodeType?e.parentNode:e),new Qc(t)},t.findDOMNode=function(e){if(null==e)return null;if(1===e.nodeType)return e;var t=e._reactInternals;if(void 0===t){if("function"===typeof e.render)throw Error(s(188));throw e=Object.keys(e).join(","),Error(s(268,e))}return e=null===(e=qe(t))?null:e.stateNode},t.flushSync=function(e){return hc(e)},t.hydrate=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!0,n)},t.hydrateRoot=function(e,t,n){if(!Jc(e))throw Error(s(405));var r=null!=n&&n.hydratedSources||null,i=!1,a="",o=Xc;if(null!==n&&void 0!==n&&(!0===n.unstable_strictMode&&(i=!0),void 0!==n.identifierPrefix&&(a=n.identifierPrefix),void 0!==n.onRecoverableError&&(o=n.onRecoverableError)),t=Wc(t,null,e,1,null!=n?n:null,i,0,a,o),e[fi]=t.current,Ur(e),r)for(e=0;e<r.length;e++)i=(i=(n=r[e])._getVersion)(n._source),null==t.mutableSourceEagerHydrationData?t.mutableSourceEagerHydrationData=[n,i]:t.mutableSourceEagerHydrationData.push(n,i);return new Yc(t)},t.render=function(e,t,n){if(!$c(t))throw Error(s(200));return eu(null,e,t,!1,n)},t.unmountComponentAtNode=function(e){if(!$c(e))throw Error(s(40));return!!e._reactRootContainer&&(hc((function(){eu(null,null,e,!1,(function(){e._reactRootContainer=null,e[fi]=null}))})),!0)},t.unstable_batchedUpdates=uc,t.unstable_renderSubtreeIntoContainer=function(e,t,n,r){if(!$c(n))throw Error(s(200));if(null==e||void 0===e._reactInternals)throw Error(s(38));return eu(e,t,n,!1,r)},t.version="18.3.1-next-f1338f8080-20240426"},391:(e,t,n)=>{var r=n(950);t.createRoot=r.createRoot,t.hydrateRoot=r.hydrateRoot},950:(e,t,n)=>{!function e(){if("undefined"!==typeof __REACT_DEVTOOLS_GLOBAL_HOOK__&&"function"===typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE)try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(e)}catch(t){console.error(t)}}(),e.exports=n(730)},153:(e,t,n)=>{var r=n(43),i=Symbol.for("react.element"),s=Symbol.for("react.fragment"),a=Object.prototype.hasOwnProperty,o=r.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,l={key:!0,ref:!0,__self:!0,__source:!0};function c(e,t,n){var r,s={},c=null,u=null;for(r in void 0!==n&&(c=""+n),void 0!==t.key&&(c=""+t.key),void 0!==t.ref&&(u=t.ref),t)a.call(t,r)&&!l.hasOwnProperty(r)&&(s[r]=t[r]);if(e&&e.defaultProps)for(r in t=e.defaultProps)void 0===s[r]&&(s[r]=t[r]);return{$$typeof:i,type:e,key:c,ref:u,props:s,_owner:o.current}}t.jsx=c,t.jsxs=c},202:(e,t)=>{var n=Symbol.for("react.element"),r=Symbol.for("react.portal"),i=Symbol.for("react.fragment"),s=Symbol.for("react.strict_mode"),a=Symbol.for("react.profiler"),o=Symbol.for("react.provider"),l=Symbol.for("react.context"),c=Symbol.for("react.forward_ref"),u=Symbol.for("react.suspense"),h=Symbol.for("react.memo"),d=Symbol.for("react.lazy"),p=Symbol.iterator;var f={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},g=Object.assign,m={};function v(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}function y(){}function b(e,t,n){this.props=e,this.context=t,this.refs=m,this.updater=n||f}v.prototype.isReactComponent={},v.prototype.setState=function(e,t){if("object"!==typeof e&&"function"!==typeof e&&null!=e)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,e,t,"setState")},v.prototype.forceUpdate=function(e){this.updater.enqueueForceUpdate(this,e,"forceUpdate")},y.prototype=v.prototype;var w=b.prototype=new y;w.constructor=b,g(w,v.prototype),w.isPureReactComponent=!0;var _=Array.isArray,S=Object.prototype.hasOwnProperty,E={current:null},A={key:!0,ref:!0,__self:!0,__source:!0};function k(e,t,r){var i,s={},a=null,o=null;if(null!=t)for(i in void 0!==t.ref&&(o=t.ref),void 0!==t.key&&(a=""+t.key),t)S.call(t,i)&&!A.hasOwnProperty(i)&&(s[i]=t[i]);var l=arguments.length-2;if(1===l)s.children=r;else if(1<l){for(var c=Array(l),u=0;u<l;u++)c[u]=arguments[u+2];s.children=c}if(e&&e.defaultProps)for(i in l=e.defaultProps)void 0===s[i]&&(s[i]=l[i]);return{$$typeof:n,type:e,key:a,ref:o,props:s,_owner:E.current}}function x(e){return"object"===typeof e&&null!==e&&e.$$typeof===n}var C=/\/+/g;function T(e,t){return"object"===typeof e&&null!==e&&null!=e.key?function(e){var t={"=":"=0",":":"=2"};return"$"+e.replace(/[=:]/g,(function(e){return t[e]}))}(""+e.key):t.toString(36)}function I(e,t,i,s,a){var o=typeof e;"undefined"!==o&&"boolean"!==o||(e=null);var l=!1;if(null===e)l=!0;else switch(o){case"string":case"number":l=!0;break;case"object":switch(e.$$typeof){case n:case r:l=!0}}if(l)return a=a(l=e),e=""===s?"."+T(l,0):s,_(a)?(i="",null!=e&&(i=e.replace(C,"$&/")+"/"),I(a,t,i,"",(function(e){return e}))):null!=a&&(x(a)&&(a=function(e,t){return{$$typeof:n,type:e.type,key:t,ref:e.ref,props:e.props,_owner:e._owner}}(a,i+(!a.key||l&&l.key===a.key?"":(""+a.key).replace(C,"$&/")+"/")+e)),t.push(a)),1;if(l=0,s=""===s?".":s+":",_(e))for(var c=0;c<e.length;c++){var u=s+T(o=e[c],c);l+=I(o,t,i,u,a)}else if(u=function(e){return null===e||"object"!==typeof e?null:"function"===typeof(e=p&&e[p]||e["@@iterator"])?e:null}(e),"function"===typeof u)for(e=u.call(e),c=0;!(o=e.next()).done;)l+=I(o=o.value,t,i,u=s+T(o,c++),a);else if("object"===o)throw t=String(e),Error("Objects are not valid as a React child (found: "+("[object Object]"===t?"object with keys {"+Object.keys(e).join(", ")+"}":t)+"). If you meant to render a collection of children, use an array instead.");return l}function R(e,t,n){if(null==e)return e;var r=[],i=0;return I(e,r,"","",(function(e){return t.call(n,e,i++)})),r}function M(e){if(-1===e._status){var t=e._result;(t=t()).then((function(t){0!==e._status&&-1!==e._status||(e._status=1,e._result=t)}),(function(t){0!==e._status&&-1!==e._status||(e._status=2,e._result=t)})),-1===e._status&&(e._status=0,e._result=t)}if(1===e._status)return e._result.default;throw e._result}var P={current:null},N={transition:null},L={ReactCurrentDispatcher:P,ReactCurrentBatchConfig:N,ReactCurrentOwner:E};function D(){throw Error("act(...) is not supported in production builds of React.")}t.Children={map:R,forEach:function(e,t,n){R(e,(function(){t.apply(this,arguments)}),n)},count:function(e){var t=0;return R(e,(function(){t++})),t},toArray:function(e){return R(e,(function(e){return e}))||[]},only:function(e){if(!x(e))throw Error("React.Children.only expected to receive a single React element child.");return e}},t.Component=v,t.Fragment=i,t.Profiler=a,t.PureComponent=b,t.StrictMode=s,t.Suspense=u,t.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=L,t.act=D,t.cloneElement=function(e,t,r){if(null===e||void 0===e)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+e+".");var i=g({},e.props),s=e.key,a=e.ref,o=e._owner;if(null!=t){if(void 0!==t.ref&&(a=t.ref,o=E.current),void 0!==t.key&&(s=""+t.key),e.type&&e.type.defaultProps)var l=e.type.defaultProps;for(c in t)S.call(t,c)&&!A.hasOwnProperty(c)&&(i[c]=void 0===t[c]&&void 0!==l?l[c]:t[c])}var c=arguments.length-2;if(1===c)i.children=r;else if(1<c){l=Array(c);for(var u=0;u<c;u++)l[u]=arguments[u+2];i.children=l}return{$$typeof:n,type:e.type,key:s,ref:a,props:i,_owner:o}},t.createContext=function(e){return(e={$$typeof:l,_currentValue:e,_currentValue2:e,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null}).Provider={$$typeof:o,_context:e},e.Consumer=e},t.createElement=k,t.createFactory=function(e){var t=k.bind(null,e);return t.type=e,t},t.createRef=function(){return{current:null}},t.forwardRef=function(e){return{$$typeof:c,render:e}},t.isValidElement=x,t.lazy=function(e){return{$$typeof:d,_payload:{_status:-1,_result:e},_init:M}},t.memo=function(e,t){return{$$typeof:h,type:e,compare:void 0===t?null:t}},t.startTransition=function(e){var t=N.transition;N.transition={};try{e()}finally{N.transition=t}},t.unstable_act=D,t.useCallback=function(e,t){return P.current.useCallback(e,t)},t.useContext=function(e){return P.current.useContext(e)},t.useDebugValue=function(){},t.useDeferredValue=function(e){return P.current.useDeferredValue(e)},t.useEffect=function(e,t){return P.current.useEffect(e,t)},t.useId=function(){return P.current.useId()},t.useImperativeHandle=function(e,t,n){return P.current.useImperativeHandle(e,t,n)},t.useInsertionEffect=function(e,t){return P.current.useInsertionEffect(e,t)},t.useLayoutEffect=function(e,t){return P.current.useLayoutEffect(e,t)},t.useMemo=function(e,t){return P.current.useMemo(e,t)},t.useReducer=function(e,t,n){return P.current.useReducer(e,t,n)},t.useRef=function(e){return P.current.useRef(e)},t.useState=function(e){return P.current.useState(e)},t.useSyncExternalStore=function(e,t,n){return P.current.useSyncExternalStore(e,t,n)},t.useTransition=function(){return P.current.useTransition()},t.version="18.3.1"},43:(e,t,n)=>{e.exports=n(202)},579:(e,t,n)=>{e.exports=n(153)},234:(e,t)=>{function n(e,t){var n=e.length;e.push(t);e:for(;0<n;){var r=n-1>>>1,i=e[r];if(!(0<s(i,t)))break e;e[r]=t,e[n]=i,n=r}}function r(e){return 0===e.length?null:e[0]}function i(e){if(0===e.length)return null;var t=e[0],n=e.pop();if(n!==t){e[0]=n;e:for(var r=0,i=e.length,a=i>>>1;r<a;){var o=2*(r+1)-1,l=e[o],c=o+1,u=e[c];if(0>s(l,n))c<i&&0>s(u,l)?(e[r]=u,e[c]=n,r=c):(e[r]=l,e[o]=n,r=o);else{if(!(c<i&&0>s(u,n)))break e;e[r]=u,e[c]=n,r=c}}}return t}function s(e,t){var n=e.sortIndex-t.sortIndex;return 0!==n?n:e.id-t.id}if("object"===typeof performance&&"function"===typeof performance.now){var a=performance;t.unstable_now=function(){return a.now()}}else{var o=Date,l=o.now();t.unstable_now=function(){return o.now()-l}}var c=[],u=[],h=1,d=null,p=3,f=!1,g=!1,m=!1,v="function"===typeof setTimeout?setTimeout:null,y="function"===typeof clearTimeout?clearTimeout:null,b="undefined"!==typeof setImmediate?setImmediate:null;function w(e){for(var t=r(u);null!==t;){if(null===t.callback)i(u);else{if(!(t.startTime<=e))break;i(u),t.sortIndex=t.expirationTime,n(c,t)}t=r(u)}}function _(e){if(m=!1,w(e),!g)if(null!==r(c))g=!0,N(S);else{var t=r(u);null!==t&&L(_,t.startTime-e)}}function S(e,n){g=!1,m&&(m=!1,y(x),x=-1),f=!0;var s=p;try{for(w(n),d=r(c);null!==d&&(!(d.expirationTime>n)||e&&!I());){var a=d.callback;if("function"===typeof a){d.callback=null,p=d.priorityLevel;var o=a(d.expirationTime<=n);n=t.unstable_now(),"function"===typeof o?d.callback=o:d===r(c)&&i(c),w(n)}else i(c);d=r(c)}if(null!==d)var l=!0;else{var h=r(u);null!==h&&L(_,h.startTime-n),l=!1}return l}finally{d=null,p=s,f=!1}}"undefined"!==typeof navigator&&void 0!==navigator.scheduling&&void 0!==navigator.scheduling.isInputPending&&navigator.scheduling.isInputPending.bind(navigator.scheduling);var E,A=!1,k=null,x=-1,C=5,T=-1;function I(){return!(t.unstable_now()-T<C)}function R(){if(null!==k){var e=t.unstable_now();T=e;var n=!0;try{n=k(!0,e)}finally{n?E():(A=!1,k=null)}}else A=!1}if("function"===typeof b)E=function(){b(R)};else if("undefined"!==typeof MessageChannel){var M=new MessageChannel,P=M.port2;M.port1.onmessage=R,E=function(){P.postMessage(null)}}else E=function(){v(R,0)};function N(e){k=e,A||(A=!0,E())}function L(e,n){x=v((function(){e(t.unstable_now())}),n)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(e){e.callback=null},t.unstable_continueExecution=function(){g||f||(g=!0,N(S))},t.unstable_forceFrameRate=function(e){0>e||125<e?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):C=0<e?Math.floor(1e3/e):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return r(c)},t.unstable_next=function(e){switch(p){case 1:case 2:case 3:var t=3;break;default:t=p}var n=p;p=t;try{return e()}finally{p=n}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(e,t){switch(e){case 1:case 2:case 3:case 4:case 5:break;default:e=3}var n=p;p=e;try{return t()}finally{p=n}},t.unstable_scheduleCallback=function(e,i,s){var a=t.unstable_now();switch("object"===typeof s&&null!==s?s="number"===typeof(s=s.delay)&&0<s?a+s:a:s=a,e){case 1:var o=-1;break;case 2:o=250;break;case 5:o=1073741823;break;case 4:o=1e4;break;default:o=5e3}return e={id:h++,callback:i,priorityLevel:e,startTime:s,expirationTime:o=s+o,sortIndex:-1},s>a?(e.sortIndex=s,n(u,e),null===r(c)&&e===r(u)&&(m?(y(x),x=-1):m=!0,L(_,s-a))):(e.sortIndex=o,n(c,e),g||f||(g=!0,N(S))),e},t.unstable_shouldYield=I,t.unstable_wrapCallback=function(e){var t=p;return function(){var n=p;p=t;try{return e.apply(this,arguments)}finally{p=n}}}},853:(e,t,n)=>{e.exports=n(234)},440:e=>{var t=function(){};e.exports=t}},t={};function n(r){var i=t[r];if(void 0!==i)return i.exports;var s=t[r]={exports:{}};return e[r](s,s.exports,n),s.exports}(()=>{var e,t=Object.getPrototypeOf?e=>Object.getPrototypeOf(e):e=>e.__proto__;n.t=function(r,i){if(1&i&&(r=this(r)),8&i)return r;if("object"===typeof r&&r){if(4&i&&r.__esModule)return r;if(16&i&&"function"===typeof r.then)return r}var s=Object.create(null);n.r(s);var a={};e=e||[null,t({}),t([]),t(t)];for(var o=2&i&&r;"object"==typeof o&&!~e.indexOf(o);o=t(o))Object.getOwnPropertyNames(o).forEach((e=>a[e]=()=>r[e]));return a.default=()=>r,n.d(s,a),s}})(),n.d=(e,t)=>{for(var r in t)n.o(t,r)&&!n.o(e,r)&&Object.defineProperty(e,r,{enumerable:!0,get:t[r]})},n.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(e){if("object"===typeof window)return window}}(),n.o=(e,t)=>Object.prototype.hasOwnProperty.call(e,t),n.r=e=>{"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})};var r={};n.r(r),n.d(r,{dU:()=>Wj,ng:()=>Hj,EA:()=>qj,Tm:()=>Gj,D6:()=>Kj,YE:()=>Xj});var i=n(43),s=n.t(i,2),a=n(391);function o(e,t){if(null==e)return{};var n={};for(var r in e)if({}.hasOwnProperty.call(e,r)){if(t.includes(r))continue;n[r]=e[r]}return n}function l(e,t){if(null==e)return{};var n,r,i=o(e,t);if(Object.getOwnPropertySymbols){var s=Object.getOwnPropertySymbols(e);for(r=0;r<s.length;r++)n=s[r],t.includes(n)||{}.propertyIsEnumerable.call(e,n)&&(i[n]=e[n])}return i}function c(e){return c="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&"function"==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?"symbol":typeof e},c(e)}function u(e){var t=function(e,t){if("object"!=c(e)||!e)return e;var n=e[Symbol.toPrimitive];if(void 0!==n){var r=n.call(e,t||"default");if("object"!=c(r))return r;throw new TypeError("@@toPrimitive must return a primitive value.")}return("string"===t?String:Number)(e)}(e,"string");return"symbol"==c(t)?t:t+""}function h(e,t,n){return(t=u(t))in e?Object.defineProperty(e,t,{value:n,enumerable:!0,configurable:!0,writable:!0}):e[t]=n,e}function d(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var r=Object.getOwnPropertySymbols(e);t&&(r=r.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,r)}return n}function p(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?d(Object(n),!0).forEach((function(t){h(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):d(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}n(175);const f=["page"],g=["page","matches"],m=["onClick","discover","prefetch","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],v=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],y=["discover","fetcherKey","navigate","reloadDocument","replace","state","method","action","onSubmit","relative","preventScrollReset","viewTransition"];var b="popstate";function w(){return C((function(e,t){let{pathname:n,search:r,hash:i}=e.location;return A("",{pathname:n,search:r,hash:i},t.state&&t.state.usr||null,t.state&&t.state.key||"default")}),(function(e,t){return"string"===typeof t?t:k(t)}),null,arguments.length>0&&void 0!==arguments[0]?arguments[0]:{})}function _(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}function S(e,t){if(!e){"undefined"!==typeof console&&console.warn(t);try{throw new Error(t)}catch(n){}}}function E(e,t){return{usr:e.state,key:e.key,idx:t}}function A(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3?arguments[3]:void 0;return p(p({pathname:"string"===typeof e?e:e.pathname,search:"",hash:""},"string"===typeof t?x(t):t),{},{state:n,key:t&&t.key||r||Math.random().toString(36).substring(2,10)})}function k(e){let{pathname:t="/",search:n="",hash:r=""}=e;return n&&"?"!==n&&(t+="?"===n.charAt(0)?n:"?"+n),r&&"#"!==r&&(t+="#"===r.charAt(0)?r:"#"+r),t}function x(e){let t={};if(e){let n=e.indexOf("#");n>=0&&(t.hash=e.substring(n),e=e.substring(0,n));let r=e.indexOf("?");r>=0&&(t.search=e.substring(r),e=e.substring(0,r)),e&&(t.pathname=e)}return t}function C(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{},{window:i=document.defaultView,v5Compat:s=!1}=r,a=i.history,o="POP",l=null,c=u();function u(){return(a.state||{idx:null}).idx}function h(){o="POP";let e=u(),t=null==e?null:e-c;c=e,l&&l({action:o,location:f.location,delta:t})}function d(e){let t="null"!==i.location.origin?i.location.origin:i.location.href,n="string"===typeof e?e:k(e);return n=n.replace(/ $/,"%20"),_(t,"No window.location.(origin|href) available to create URL for href: ".concat(n)),new URL(n,t)}null==c&&(c=0,a.replaceState(p(p({},a.state),{},{idx:c}),""));let f={get action(){return o},get location(){return e(i,a)},listen(e){if(l)throw new Error("A history only accepts one active listener");return i.addEventListener(b,h),l=e,()=>{i.removeEventListener(b,h),l=null}},createHref:e=>t(i,e),createURL:d,encodeLocation(e){let t=d(e);return{pathname:t.pathname,search:t.search,hash:t.hash}},push:function(e,t){o="PUSH";let r=A(f.location,e,t);n&&n(r,e),c=u()+1;let h=E(r,c),d=f.createHref(r);try{a.pushState(h,"",d)}catch(p){if(p instanceof DOMException&&"DataCloneError"===p.name)throw p;i.location.assign(d)}s&&l&&l({action:o,location:f.location,delta:1})},replace:function(e,t){o="REPLACE";let r=A(f.location,e,t);n&&n(r,e),c=u();let i=E(r,c),h=f.createHref(r);a.replaceState(i,"",h),s&&l&&l({action:o,location:f.location,delta:0})},go:e=>a.go(e)};return f}function T(e,t){return I(e,t,arguments.length>2&&void 0!==arguments[2]?arguments[2]:"/",!1)}function I(e,t,n,r){let i=W(("string"===typeof t?x(t):t).pathname||"/",n);if(null==i)return null;let s=R(e);!function(e){e.sort(((e,t)=>e.score!==t.score?t.score-e.score:function(e,t){let n=e.length===t.length&&e.slice(0,-1).every(((e,n)=>e===t[n]));return n?e[e.length-1]-t[t.length-1]:0}(e.routesMeta.map((e=>e.childrenIndex)),t.routesMeta.map((e=>e.childrenIndex)))))}(s);let a=null;for(let o=0;null==a&&o<s.length;++o){let e=U(i);a=z(s[o],e,r)}return a}function R(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"",i=(e,i,s)=>{let a={relativePath:void 0===s?e.path||"":s,caseSensitive:!0===e.caseSensitive,childrenIndex:i,route:e};a.relativePath.startsWith("/")&&(_(a.relativePath.startsWith(r),'Absolute route path "'.concat(a.relativePath,'" nested under path "').concat(r,'" is not valid. An absolute child route path must start with the combined path of all its parent routes.')),a.relativePath=a.relativePath.slice(r.length));let o=X([r,a.relativePath]),l=n.concat(a);e.children&&e.children.length>0&&(_(!0!==e.index,'Index routes must not have child routes. Please remove all child routes from route path "'.concat(o,'".')),R(e.children,t,l,o)),(null!=e.path||e.index)&&t.push({path:o,score:B(o,e.index),routesMeta:l})};return e.forEach(((e,t)=>{var n;if(""!==e.path&&null!==(n=e.path)&&void 0!==n&&n.includes("?"))for(let r of M(e.path))i(e,t,r);else i(e,t)})),t}function M(e){let t=e.split("/");if(0===t.length)return[];let[n,...r]=t,i=n.endsWith("?"),s=n.replace(/\?$/,"");if(0===r.length)return i?[s,""]:[s];let a=M(r.join("/")),o=[];return o.push(...a.map((e=>""===e?s:[s,e].join("/")))),i&&o.push(...a),o.map((t=>e.startsWith("/")&&""===t?"/":t))}var P=/^:[\w-]+$/,N=3,L=2,D=1,O=10,F=-2,j=e=>"*"===e;function B(e,t){let n=e.split("/"),r=n.length;return n.some(j)&&(r+=F),t&&(r+=L),n.filter((e=>!j(e))).reduce(((e,t)=>e+(P.test(t)?N:""===t?D:O)),r)}function z(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],{routesMeta:r}=e,i={},s="/",a=[];for(let o=0;o<r.length;++o){let e=r[o],l=o===r.length-1,c="/"===s?t:t.slice(s.length)||"/",u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:l},c),h=e.route;if(!u&&l&&n&&!r[r.length-1].route.index&&(u=V({path:e.relativePath,caseSensitive:e.caseSensitive,end:!1},c)),!u)return null;Object.assign(i,u.params),a.push({params:i,pathname:X([s,u.pathname]),pathnameBase:Q(X([s,u.pathnameBase])),route:h}),"/"!==u.pathnameBase&&(s=X([s,u.pathnameBase]))}return a}function V(e,t){"string"===typeof e&&(e={path:e,caseSensitive:!1,end:!0});let[n,r]=function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];S("*"===e||!e.endsWith("*")||e.endsWith("/*"),'Route path "'.concat(e,'" will be treated as if it were "').concat(e.replace(/\*$/,"/*"),'" because the `*` character must always follow a `/` in the pattern. To get rid of this warning, please change the route path to "').concat(e.replace(/\*$/,"/*"),'".'));let r=[],i="^"+e.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,((e,t,n)=>(r.push({paramName:t,isOptional:null!=n}),n?"/?([^\\/]+)?":"/([^\\/]+)")));e.endsWith("*")?(r.push({paramName:"*"}),i+="*"===e||"/*"===e?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?i+="\\/*$":""!==e&&"/"!==e&&(i+="(?:(?=\\/|$))");let s=new RegExp(i,t?void 0:"i");return[s,r]}(e.path,e.caseSensitive,e.end),i=t.match(n);if(!i)return null;let s=i[0],a=s.replace(/(.)\/+$/,"$1"),o=i.slice(1);return{params:r.reduce(((e,t,n)=>{let{paramName:r,isOptional:i}=t;if("*"===r){let e=o[n]||"";a=s.slice(0,s.length-e.length).replace(/(.)\/+$/,"$1")}const l=o[n];return e[r]=i&&!l?void 0:(l||"").replace(/%2F/g,"/"),e}),{}),pathname:s,pathnameBase:a,pattern:e}}function U(e){try{return e.split("/").map((e=>decodeURIComponent(e).replace(/\//g,"%2F"))).join("/")}catch(t){return S(!1,'The URL path "'.concat(e,'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent encoding (').concat(t,").")),e}}function W(e,t){if("/"===t)return e;if(!e.toLowerCase().startsWith(t.toLowerCase()))return null;let n=t.endsWith("/")?t.length-1:t.length,r=e.charAt(n);return r&&"/"!==r?null:e.slice(n)||"/"}function H(e,t,n,r){return"Cannot include a '".concat(e,"' character in a manually specified `to.").concat(t,"` field [").concat(JSON.stringify(r),"].  Please separate it out to the `to.").concat(n,'` field. Alternatively you may provide the full path as a string in <Link to="..."> and the router will parse it for you.')}function q(e){return e.filter(((e,t)=>0===t||e.route.path&&e.route.path.length>0))}function G(e){let t=q(e);return t.map(((e,n)=>n===t.length-1?e.pathname:e.pathnameBase))}function K(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]&&arguments[3];"string"===typeof e?r=x(e):(r=p({},e),_(!r.pathname||!r.pathname.includes("?"),H("?","pathname","search",r)),_(!r.pathname||!r.pathname.includes("#"),H("#","pathname","hash",r)),_(!r.search||!r.search.includes("#"),H("#","search","hash",r)));let s,a=""===e||""===r.pathname,o=a?"/":r.pathname;if(null==o)s=n;else{let e=t.length-1;if(!i&&o.startsWith("..")){let t=o.split("/");for(;".."===t[0];)t.shift(),e-=1;r.pathname=t.join("/")}s=e>=0?t[e]:"/"}let l=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"/",{pathname:n,search:r="",hash:i=""}="string"===typeof e?x(e):e,s=n?n.startsWith("/")?n:function(e,t){let n=t.replace(/\/+$/,"").split("/");return e.split("/").forEach((e=>{".."===e?n.length>1&&n.pop():"."!==e&&n.push(e)})),n.length>1?n.join("/"):"/"}(n,t):t;return{pathname:s,search:Y(r),hash:J(i)}}(r,s),c=o&&"/"!==o&&o.endsWith("/"),u=(a||"."===o)&&n.endsWith("/");return l.pathname.endsWith("/")||!c&&!u||(l.pathname+="/"),l}var X=e=>e.join("/").replace(/\/\/+/g,"/"),Q=e=>e.replace(/\/+$/,"").replace(/^\/*/,"/"),Y=e=>e&&"?"!==e?e.startsWith("?")?e:"?"+e:"",J=e=>e&&"#"!==e?e.startsWith("#")?e:"#"+e:"";function $(e){return null!=e&&"number"===typeof e.status&&"string"===typeof e.statusText&&"boolean"===typeof e.internal&&"data"in e}var Z=["POST","PUT","PATCH","DELETE"],ee=(new Set(Z),["GET",...Z]);new Set(ee),Symbol("ResetLoaderData");var te=i.createContext(null);te.displayName="DataRouter";var ne=i.createContext(null);ne.displayName="DataRouterState";var re=i.createContext({isTransitioning:!1});re.displayName="ViewTransition";var ie=i.createContext(new Map);ie.displayName="Fetchers";var se=i.createContext(null);se.displayName="Await";var ae=i.createContext(null);ae.displayName="Navigation";var oe=i.createContext(null);oe.displayName="Location";var le=i.createContext({outlet:null,matches:[],isDataRoute:!1});le.displayName="Route";var ce=i.createContext(null);ce.displayName="RouteError";function ue(){return null!=i.useContext(oe)}function he(){return _(ue(),"useLocation() may be used only in the context of a <Router> component."),i.useContext(oe).location}var de="You should call navigate() in a React.useEffect(), not when your component is first rendered.";function pe(e){i.useContext(ae).static||i.useLayoutEffect(e)}function fe(){let{isDataRoute:e}=i.useContext(le);return e?function(){let{router:e}=Ee("useNavigate"),t=ke("useNavigate"),n=i.useRef(!1);pe((()=>{n.current=!0}));let r=i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};S(n.current,de),n.current&&("number"===typeof r?e.navigate(r):await e.navigate(r,p({fromRouteId:t},i)))}),[e,t]);return r}():function(){_(ue(),"useNavigate() may be used only in the context of a <Router> component.");let e=i.useContext(te),{basename:t,navigator:n}=i.useContext(ae),{matches:r}=i.useContext(le),{pathname:s}=he(),a=JSON.stringify(G(r)),o=i.useRef(!1);pe((()=>{o.current=!0}));let l=i.useCallback((function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(S(o.current,de),!o.current)return;if("number"===typeof r)return void n.go(r);let l=K(r,JSON.parse(a),s,"path"===i.relative);null==e&&"/"!==t&&(l.pathname="/"===l.pathname?t:X([t,l.pathname])),(i.replace?n.replace:n.push)(l,i.state,i)}),[t,n,a,s,e]);return l}()}i.createContext(null);function ge(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{matches:n}=i.useContext(le),{pathname:r}=he(),s=JSON.stringify(G(n));return i.useMemo((()=>K(e,JSON.parse(s),r,"path"===t)),[e,s,r,t])}function me(e,t,n,r){_(ue(),"useRoutes() may be used only in the context of a <Router> component.");let{navigator:s}=i.useContext(ae),{matches:a}=i.useContext(le),o=a[a.length-1],l=o?o.params:{},c=o?o.pathname:"/",u=o?o.pathnameBase:"/",h=o&&o.route;{let e=h&&h.path||"";Te(c,!h||e.endsWith("*")||e.endsWith("*?"),'You rendered descendant <Routes> (or called `useRoutes()`) at "'.concat(c,'" (under <Route path="').concat(e,'">) but the parent route path has no trailing "*". This means if you navigate deeper, the parent won\'t match anymore and therefore the child routes will never render.\n\nPlease change the parent <Route path="').concat(e,'"> to <Route path="').concat("/"===e?"*":"".concat(e,"/*"),'">.'))}let d,f=he();if(t){var g;let e="string"===typeof t?x(t):t;_("/"===u||(null===(g=e.pathname)||void 0===g?void 0:g.startsWith(u)),'When overriding the location using `<Routes location>` or `useRoutes(routes, location)`, the location pathname must begin with the portion of the URL pathname that was matched by all parent routes. The current pathname base is "'.concat(u,'" but pathname "').concat(e.pathname,'" was given in the `location` prop.')),d=e}else d=f;let m=d.pathname||"/",v=m;if("/"!==u){let e=u.replace(/^\//,"").split("/");v="/"+m.replace(/^\//,"").split("/").slice(e.length).join("/")}let y=T(e,{pathname:v});S(h||null!=y,'No routes matched location "'.concat(d.pathname).concat(d.search).concat(d.hash,'" ')),S(null==y||void 0!==y[y.length-1].route.element||void 0!==y[y.length-1].route.Component||void 0!==y[y.length-1].route.lazy,'Matched leaf route at location "'.concat(d.pathname).concat(d.search).concat(d.hash,'" does not have an element or Component. This means it will render an <Outlet /> with a null value by default resulting in an "empty" page.'));let b=_e(y&&y.map((e=>Object.assign({},e,{params:Object.assign({},l,e.params),pathname:X([u,s.encodeLocation?s.encodeLocation(e.pathname).pathname:e.pathname]),pathnameBase:"/"===e.pathnameBase?u:X([u,s.encodeLocation?s.encodeLocation(e.pathnameBase).pathname:e.pathnameBase])}))),a,n,r);return t&&b?i.createElement(oe.Provider,{value:{location:p({pathname:"/",search:"",hash:"",state:null,key:"default"},d),navigationType:"POP"}},b):b}function ve(){let e=xe(),t=$(e)?"".concat(e.status," ").concat(e.statusText):e instanceof Error?e.message:JSON.stringify(e),n=e instanceof Error?e.stack:null,r="rgba(200,200,200, 0.5)",s={padding:"0.5rem",backgroundColor:r},a={padding:"2px 4px",backgroundColor:r},o=null;return console.error("Error handled by React Router default ErrorBoundary:",e),o=i.createElement(i.Fragment,null,i.createElement("p",null,"\ud83d\udcbf Hey developer \ud83d\udc4b"),i.createElement("p",null,"You can provide a way better UX than this when your app throws errors by providing your own ",i.createElement("code",{style:a},"ErrorBoundary")," or"," ",i.createElement("code",{style:a},"errorElement")," prop on your route.")),i.createElement(i.Fragment,null,i.createElement("h2",null,"Unexpected Application Error!"),i.createElement("h3",{style:{fontStyle:"italic"}},t),n?i.createElement("pre",{style:s},n):null,o)}var ye=i.createElement(ve,null),be=class extends i.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,t){return t.location!==e.location||"idle"!==t.revalidation&&"idle"===e.revalidation?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:void 0!==e.error?e.error:t.error,location:t.location,revalidation:e.revalidation||t.revalidation}}componentDidCatch(e,t){console.error("React Router caught the following error during render",e,t)}render(){return void 0!==this.state.error?i.createElement(le.Provider,{value:this.props.routeContext},i.createElement(ce.Provider,{value:this.state.error,children:this.props.component})):this.props.children}};function we(e){let{routeContext:t,match:n,children:r}=e,s=i.useContext(te);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),i.createElement(le.Provider,{value:t},r)}function _e(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(null==e){if(!n)return null;if(n.errors)e=n.matches;else{if(0!==t.length||n.initialized||!(n.matches.length>0))return null;e=n.matches}}let r=e,s=null===n||void 0===n?void 0:n.errors;if(null!=s){let e=r.findIndex((e=>e.route.id&&void 0!==(null===s||void 0===s?void 0:s[e.route.id])));_(e>=0,"Could not find a matching route for errors on route IDs: ".concat(Object.keys(s).join(","))),r=r.slice(0,Math.min(r.length,e+1))}let a=!1,o=-1;if(n)for(let i=0;i<r.length;i++){let e=r[i];if((e.route.HydrateFallback||e.route.hydrateFallbackElement)&&(o=i),e.route.id){let{loaderData:t,errors:i}=n,s=e.route.loader&&!t.hasOwnProperty(e.route.id)&&(!i||void 0===i[e.route.id]);if(e.route.lazy||s){a=!0,r=o>=0?r.slice(0,o+1):[r[0]];break}}}return r.reduceRight(((e,l,c)=>{let u,h=!1,d=null,p=null;n&&(u=s&&l.route.id?s[l.route.id]:void 0,d=l.route.errorElement||ye,a&&(o<0&&0===c?(Te("route-fallback",!1,"No `HydrateFallback` element provided to render during initial hydration"),h=!0,p=null):o===c&&(h=!0,p=l.route.hydrateFallbackElement||null)));let f=t.concat(r.slice(0,c+1)),g=()=>{let t;return t=u?d:h?p:l.route.Component?i.createElement(l.route.Component,null):l.route.element?l.route.element:e,i.createElement(we,{match:l,routeContext:{outlet:e,matches:f,isDataRoute:null!=n},children:t})};return n&&(l.route.ErrorBoundary||l.route.errorElement||0===c)?i.createElement(be,{location:n.location,revalidation:n.revalidation,component:d,error:u,children:g(),routeContext:{outlet:null,matches:f,isDataRoute:!0}}):g()}),null)}function Se(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function Ee(e){let t=i.useContext(te);return _(t,Se(e)),t}function Ae(e){let t=i.useContext(ne);return _(t,Se(e)),t}function ke(e){let t=function(e){let t=i.useContext(le);return _(t,Se(e)),t}(e),n=t.matches[t.matches.length-1];return _(n.route.id,"".concat(e,' can only be used on routes that contain a unique "id"')),n.route.id}function xe(){var e;let t=i.useContext(ce),n=Ae("useRouteError"),r=ke("useRouteError");return void 0!==t?t:null===(e=n.errors)||void 0===e?void 0:e[r]}var Ce={};function Te(e,t,n){t||Ce[e]||(Ce[e]=!0,S(!1,n))}i.memo((function(e){let{routes:t,future:n,state:r}=e;return me(t,void 0,r,n)}));function Ie(e){let{to:t,replace:n,state:r,relative:s}=e;_(ue(),"<Navigate> may be used only in the context of a <Router> component.");let{static:a}=i.useContext(ae);S(!a,"<Navigate> must not be used on the initial render in a <StaticRouter>. This is a no-op, but you should modify your code so the <Navigate> is only ever rendered in response to some user interaction or state change.");let{matches:o}=i.useContext(le),{pathname:l}=he(),c=fe(),u=K(t,G(o),l,"path"===s),h=JSON.stringify(u);return i.useEffect((()=>{c(JSON.parse(h),{replace:n,state:r,relative:s})}),[c,h,s,n,r]),null}function Re(e){_(!1,"A <Route> is only ever to be used as the child of <Routes> element, never rendered directly. Please wrap your <Route> in a <Routes>.")}function Me(e){let{basename:t="/",children:n=null,location:r,navigationType:s="POP",navigator:a,static:o=!1}=e;_(!ue(),"You cannot render a <Router> inside another <Router>. You should never have more than one in your app.");let l=t.replace(/^\/*/,"/"),c=i.useMemo((()=>({basename:l,navigator:a,static:o,future:{}})),[l,a,o]);"string"===typeof r&&(r=x(r));let{pathname:u="/",search:h="",hash:d="",state:p=null,key:f="default"}=r,g=i.useMemo((()=>{let e=W(u,l);return null==e?null:{location:{pathname:e,search:h,hash:d,state:p,key:f},navigationType:s}}),[l,u,h,d,p,f,s]);return S(null!=g,'<Router basename="'.concat(l,'"> is not able to match the URL "').concat(u).concat(h).concat(d,"\" because it does not start with the basename, so the <Router> won't render anything.")),null==g?null:i.createElement(ae.Provider,{value:c},i.createElement(oe.Provider,{children:n,value:g}))}function Pe(e){let{children:t,location:n}=e;return function(e,t){return me(e,t)}(Ne(t),n)}i.Component;function Ne(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=[];return i.Children.forEach(e,((e,r)=>{if(!i.isValidElement(e))return;let s=[...t,r];if(e.type===i.Fragment)return void n.push.apply(n,Ne(e.props.children,s));_(e.type===Re,"[".concat("string"===typeof e.type?e.type:e.type.name,"] is not a <Route> component. All component children of <Routes> must be a <Route> or <React.Fragment>")),_(!e.props.index||!e.props.children,"An index route cannot have child routes.");let a={id:e.props.id||s.join("-"),caseSensitive:e.props.caseSensitive,element:e.props.element,Component:e.props.Component,index:e.props.index,path:e.props.path,loader:e.props.loader,action:e.props.action,hydrateFallbackElement:e.props.hydrateFallbackElement,HydrateFallback:e.props.HydrateFallback,errorElement:e.props.errorElement,ErrorBoundary:e.props.ErrorBoundary,hasErrorBoundary:!0===e.props.hasErrorBoundary||null!=e.props.ErrorBoundary||null!=e.props.errorElement,shouldRevalidate:e.props.shouldRevalidate,handle:e.props.handle,lazy:e.props.lazy};e.props.children&&(a.children=Ne(e.props.children,s)),n.push(a)})),n}var Le="get",De="application/x-www-form-urlencoded";function Oe(e){return null!=e&&"string"===typeof e.tagName}var Fe=null;var je=new Set(["application/x-www-form-urlencoded","multipart/form-data","text/plain"]);function Be(e){return null==e||je.has(e)?e:(S(!1,'"'.concat(e,'" is not a valid `encType` for `<Form>`/`<fetcher.Form>` and will default to "').concat(De,'"')),null)}function ze(e,t){let n,r,i,s,a;if(Oe(o=e)&&"form"===o.tagName.toLowerCase()){let a=e.getAttribute("action");r=a?W(a,t):null,n=e.getAttribute("method")||Le,i=Be(e.getAttribute("enctype"))||De,s=new FormData(e)}else if(function(e){return Oe(e)&&"button"===e.tagName.toLowerCase()}(e)||function(e){return Oe(e)&&"input"===e.tagName.toLowerCase()}(e)&&("submit"===e.type||"image"===e.type)){let a=e.form;if(null==a)throw new Error('Cannot submit a <button> or <input type="submit"> without a <form>');let o=e.getAttribute("formaction")||a.getAttribute("action");if(r=o?W(o,t):null,n=e.getAttribute("formmethod")||a.getAttribute("method")||Le,i=Be(e.getAttribute("formenctype"))||Be(a.getAttribute("enctype"))||De,s=new FormData(a,e),!function(){if(null===Fe)try{new FormData(document.createElement("form"),0),Fe=!1}catch(e){Fe=!0}return Fe}()){let{name:t,type:n,value:r}=e;if("image"===n){let e=t?"".concat(t,"."):"";s.append("".concat(e,"x"),"0"),s.append("".concat(e,"y"),"0")}else t&&s.append(t,r)}}else{if(Oe(e))throw new Error('Cannot submit element that is not <form>, <button>, or <input type="submit|image">');n=Le,r=null,i=De,a=e}var o;return s&&"text/plain"===i&&(a=s,s=void 0),{action:r,method:n.toLowerCase(),encType:i,formData:s,body:a}}function Ve(e,t){if(!1===e||null===e||"undefined"===typeof e)throw new Error(t)}async function Ue(e,t){if(e.id in t)return t[e.id];try{let n=await import(e.module);return t[e.id]=n,n}catch(n){return console.error("Error loading route module `".concat(e.module,"`, reloading page...")),console.error(n),window.__reactRouterContext&&window.__reactRouterContext.isSpaMode,window.location.reload(),new Promise((()=>{}))}}function We(e){return null!=e&&"string"===typeof e.page}function He(e){return null!=e&&(null==e.href?"preload"===e.rel&&"string"===typeof e.imageSrcSet&&"string"===typeof e.imageSizes:"string"===typeof e.rel&&"string"===typeof e.href)}function qe(e,t,n,r,i,s){let a=(e,t)=>!n[t]||e.route.id!==n[t].route.id,o=(e,t)=>{var r;return n[t].pathname!==e.pathname||(null===(r=n[t].route.path)||void 0===r?void 0:r.endsWith("*"))&&n[t].params["*"]!==e.params["*"]};return"assets"===s?t.filter(((e,t)=>a(e,t)||o(e,t))):"data"===s?t.filter(((t,s)=>{let l=r.routes[t.route.id];if(!l||!l.hasLoader)return!1;if(a(t,s)||o(t,s))return!0;if(t.route.shouldRevalidate){var c;let r=t.route.shouldRevalidate({currentUrl:new URL(i.pathname+i.search+i.hash,window.origin),currentParams:(null===(c=n[0])||void 0===c?void 0:c.params)||{},nextUrl:new URL(e,window.origin),nextParams:t.params,defaultShouldRevalidate:!0});if("boolean"===typeof r)return r}return!0})):[]}function Ge(e){return[...new Set(e)]}function Ke(e,t){let n=new Set,r=new Set(t);return e.reduce(((e,i)=>{if(t&&!We(i)&&"script"===i.as&&i.href&&r.has(i.href))return e;let s=JSON.stringify(function(e){let t={},n=Object.keys(e).sort();for(let r of n)t[r]=e[r];return t}(i));return n.has(s)||(n.add(s),e.push({key:s,link:i})),e}),[])}function Xe(e){return{__html:e}}Symbol("SingleFetchRedirect");function Qe(e){let t="string"===typeof e?new URL(e,"undefined"===typeof window?"server://singlefetch/":window.location.origin):e;return"/"===t.pathname?t.pathname="_root.data":t.pathname="".concat(t.pathname.replace(/\/$/,""),".data"),t}i.Component;function Ye(e){let{error:t,isOutsideRemixApp:n}=e;console.error(t);let r,s=i.createElement("script",{dangerouslySetInnerHTML:{__html:'\n        console.log(\n          "\ud83d\udcbf Hey developer \ud83d\udc4b. You can provide a way better UX than this when your app throws errors. Check out https://remix.run/guides/errors for more information."\n        );\n      '}});if($(t))return i.createElement(Je,{title:"Unhandled Thrown Response!"},i.createElement("h1",{style:{fontSize:"24px"}},t.status," ",t.statusText),s);if(t instanceof Error)r=t;else{let e=null==t?"Unknown Error":"object"===typeof t&&"toString"in t?t.toString():JSON.stringify(t);r=new Error(e)}return i.createElement(Je,{title:"Application Error!",isOutsideRemixApp:n},i.createElement("h1",{style:{fontSize:"24px"}},"Application Error"),i.createElement("pre",{style:{padding:"2rem",background:"hsla(10, 50%, 50%, 0.1)",color:"red",overflow:"auto"}},r.stack),s)}function Je(e){var t;let{title:n,renderScripts:r,isOutsideRemixApp:s,children:a}=e,{routeModules:o}=nt();return null!==(t=o.root)&&void 0!==t&&t.Layout&&!s?a:i.createElement("html",{lang:"en"},i.createElement("head",null,i.createElement("meta",{charSet:"utf-8"}),i.createElement("meta",{name:"viewport",content:"width=device-width,initial-scale=1,viewport-fit=cover"}),i.createElement("title",null,n)),i.createElement("body",null,i.createElement("main",{style:{fontFamily:"system-ui, sans-serif",padding:"2rem"}},a,r?i.createElement(ct,null):null)))}function $e(e){return!e}function Ze(){let e=i.useContext(te);return Ve(e,"You must render this element inside a <DataRouterContext.Provider> element"),e}function et(){let e=i.useContext(ne);return Ve(e,"You must render this element inside a <DataRouterStateContext.Provider> element"),e}var tt=i.createContext(void 0);function nt(){let e=i.useContext(tt);return Ve(e,"You must render this element inside a <HydratedRouter> element"),e}function rt(e,t){return n=>{e&&e(n),n.defaultPrevented||t(n)}}function it(e,t,n){if(n&&!lt)return[e[0]];if(t){let n=e.findIndex((e=>void 0!==t[e.route.id]));return e.slice(0,n+1)}return e}function st(e){let{page:t}=e,n=l(e,f),{router:r}=Ze(),s=i.useMemo((()=>T(r.routes,t,r.basename)),[r.routes,t,r.basename]);return s?i.createElement(ot,p({page:t,matches:s},n)):null}function at(e){let{manifest:t,routeModules:n}=nt(),[r,s]=i.useState([]);return i.useEffect((()=>{let r=!1;return async function(e,t,n){return Ke((await Promise.all(e.map((async e=>{let r=t.routes[e.route.id];if(r){let e=await Ue(r,n);return e.links?e.links():[]}return[]})))).flat(1).filter(He).filter((e=>"stylesheet"===e.rel||"preload"===e.rel)).map((e=>"stylesheet"===e.rel?p(p({},e),{},{rel:"prefetch",as:"style"}):p(p({},e),{},{rel:"prefetch"}))))}(e,t,n).then((e=>{r||s(e)})),()=>{r=!0}}),[e,t,n]),r}function ot(e){let{page:t,matches:n}=e,r=l(e,g),s=he(),{manifest:a,routeModules:o}=nt(),{loaderData:c,matches:u}=et(),h=i.useMemo((()=>qe(t,n,u,a,s,"data")),[t,n,u,a,s]),d=i.useMemo((()=>qe(t,n,u,a,s,"assets")),[t,n,u,a,s]),f=i.useMemo((()=>{if(t===s.pathname+s.search+s.hash)return[];let e=new Set,r=!1;if(n.forEach((t=>{var n;let i=a.routes[t.route.id];i&&i.hasLoader&&(!h.some((e=>e.route.id===t.route.id))&&t.route.id in c&&null!==(n=o[t.route.id])&&void 0!==n&&n.shouldRevalidate||i.hasClientLoader?r=!0:e.add(t.route.id))})),0===e.size)return[];let i=Qe(t);return r&&e.size>0&&i.searchParams.set("_routes",n.filter((t=>e.has(t.route.id))).map((e=>e.route.id)).join(",")),[i.pathname+i.search]}),[c,s,a,h,n,t,o]),m=i.useMemo((()=>function(e,t){return Ge(e.map((e=>{let n=t.routes[e.route.id];if(!n)return[];let r=[n.module];return n.imports&&(r=r.concat(n.imports)),r})).flat(1))}(d,a)),[d,a]),v=at(d);return i.createElement(i.Fragment,null,f.map((e=>i.createElement("link",p({key:e,rel:"prefetch",as:"fetch",href:e},r)))),m.map((e=>i.createElement("link",p({key:e,rel:"modulepreload",href:e},r)))),v.map((e=>{let{key:t,link:n}=e;return i.createElement("link",p({key:t},n))})))}tt.displayName="FrameworkContext";var lt=!1;function ct(e){let{manifest:t,serverHandoffString:n,isSpaMode:r,renderMeta:s}=nt(),{router:a,static:o,staticContext:l}=Ze(),{matches:c}=et(),u=$e(r);s&&(s.didRenderScripts=!0);let h=it(c,null,r);i.useEffect((()=>{lt=!0}),[]);let d=i.useMemo((()=>{var r;let s=l?"window.__reactRouterContext = ".concat(n,";").concat("window.__reactRouterContext.stream = new ReadableStream({start(controller){window.__reactRouterContext.streamController = controller;}}).pipeThrough(new TextEncoderStream());"):" ",c=o?"".concat(null!==(r=t.hmr)&&void 0!==r&&r.runtime?"import ".concat(JSON.stringify(t.hmr.runtime),";"):"").concat(u?"":"import ".concat(JSON.stringify(t.url)),";\n").concat(h.map(((e,n)=>"import * as route".concat(n," from ").concat(JSON.stringify(t.routes[e.route.id].module),";"))).join("\n"),"\n  ").concat(u?"window.__reactRouterManifest = ".concat(JSON.stringify(function(e,t){let n=new Set(t.state.matches.map((e=>e.route.id))),r=t.state.location.pathname.split("/").filter(Boolean),i=["/"];for(r.pop();r.length>0;)i.push("/".concat(r.join("/"))),r.pop();i.forEach((e=>{let r=T(t.routes,e,t.basename);r&&r.forEach((e=>n.add(e.route.id)))}));let s=[...n].reduce(((t,n)=>Object.assign(t,{[n]:e.routes[n]})),{});return p(p({},e),{},{routes:s})}(t,a),null,2),";"):"","\n  window.__reactRouterRouteModules = {").concat(h.map(((e,t)=>"".concat(JSON.stringify(e.route.id),":route").concat(t))).join(","),"};\n\nimport(").concat(JSON.stringify(t.entry.module),");"):" ";return i.createElement(i.Fragment,null,i.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(s),type:void 0})),i.createElement("script",p(p({},e),{},{suppressHydrationWarning:!0,dangerouslySetInnerHTML:Xe(c),type:"module",async:!0})))}),[]),f=h.map((e=>{let n=t.routes[e.route.id];return n?(n.imports||[]).concat([n.module]):[]})).flat(1),g=lt?[]:t.entry.imports.concat(f);return lt?null:i.createElement(i.Fragment,null,u?null:i.createElement("link",{rel:"modulepreload",href:t.url,crossOrigin:e.crossOrigin}),i.createElement("link",{rel:"modulepreload",href:t.entry.module,crossOrigin:e.crossOrigin}),(m=g,[...new Set(m)]).map((t=>i.createElement("link",{key:t,rel:"modulepreload",href:t,crossOrigin:e.crossOrigin}))),d);var m}function ut(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return e=>{t.forEach((t=>{"function"===typeof t?t(e):null!=t&&(t.current=e)}))}}var ht="undefined"!==typeof window&&"undefined"!==typeof window.document&&"undefined"!==typeof window.document.createElement;try{ht&&(window.__reactRouterVersion="7.1.1")}catch(ez){}function dt(e){let{basename:t,children:n,window:r}=e,s=i.useRef();null==s.current&&(s.current=w({window:r,v5Compat:!0}));let a=s.current,[o,l]=i.useState({action:a.action,location:a.location}),c=i.useCallback((e=>{i.startTransition((()=>l(e)))}),[l]);return i.useLayoutEffect((()=>a.listen(c)),[a,c]),i.createElement(Me,{basename:t,children:n,location:o.location,navigationType:o.action,navigator:a})}var pt=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,ft=i.forwardRef((function(e,t){let n,{onClick:r,discover:s="render",prefetch:a="none",relative:o,reloadDocument:c,replace:u,state:h,target:d,to:f,preventScrollReset:g,viewTransition:v}=e,y=l(e,m),{basename:b}=i.useContext(ae),w="string"===typeof f&&pt.test(f),E=!1;if("string"===typeof f&&w&&(n=f,ht))try{let e=new URL(window.location.href),t=f.startsWith("//")?new URL(e.protocol+f):new URL(f),n=W(t.pathname,b);t.origin===e.origin&&null!=n?f=n+t.search+t.hash:E=!0}catch(ez){S(!1,'<Link to="'.concat(f,'"> contains an invalid URL which will probably break when clicked - please update to a valid URL path.'))}let A=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};_(ue(),"useHref() may be used only in the context of a <Router> component.");let{basename:n,navigator:r}=i.useContext(ae),{hash:s,pathname:a,search:o}=ge(e,{relative:t}),l=a;return"/"!==n&&(l="/"===a?n:X([n,a])),r.createHref({pathname:l,search:o,hash:s})}(f,{relative:o}),[x,C,T]=function(e,t){let n=i.useContext(tt),[r,s]=i.useState(!1),[a,o]=i.useState(!1),{onFocus:l,onBlur:c,onMouseEnter:u,onMouseLeave:h,onTouchStart:d}=t,p=i.useRef(null);i.useEffect((()=>{if("render"===e&&o(!0),"viewport"===e){let e=new IntersectionObserver((e=>{e.forEach((e=>{o(e.isIntersecting)}))}),{threshold:.5});return p.current&&e.observe(p.current),()=>{e.disconnect()}}}),[e]),i.useEffect((()=>{if(r){let e=setTimeout((()=>{o(!0)}),100);return()=>{clearTimeout(e)}}}),[r]);let f=()=>{s(!0)},g=()=>{s(!1),o(!1)};return n?"intent"!==e?[a,p,{}]:[a,p,{onFocus:rt(l,f),onBlur:rt(c,g),onMouseEnter:rt(u,f),onMouseLeave:rt(h,g),onTouchStart:rt(d,f)}]:[!1,p,{}]}(a,y),I=function(e){let{target:t,replace:n,state:r,preventScrollReset:s,relative:a,viewTransition:o}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},l=fe(),c=he(),u=ge(e,{relative:a});return i.useCallback((i=>{if(function(e,t){return 0===e.button&&(!t||"_self"===t)&&!function(e){return!!(e.metaKey||e.altKey||e.ctrlKey||e.shiftKey)}(e)}(i,t)){i.preventDefault();let t=void 0!==n?n:k(c)===k(u);l(e,{replace:t,state:r,preventScrollReset:s,relative:a,viewTransition:o})}}),[c,l,u,n,r,t,e,s,a,o])}(f,{replace:u,state:h,target:d,preventScrollReset:g,relative:o,viewTransition:v});let R=i.createElement("a",p(p(p({},y),T),{},{href:n||A,onClick:E||c?r:function(e){r&&r(e),e.defaultPrevented||I(e)},ref:ut(t,C),target:d,"data-discover":w||"render"!==s?void 0:"true"}));return x&&!w?i.createElement(i.Fragment,null,R,i.createElement(st,{page:A})):R}));ft.displayName="Link";var gt=i.forwardRef((function(e,t){let{"aria-current":n="page",caseSensitive:r=!1,className:s="",end:a=!1,style:o,to:c,viewTransition:u,children:h}=e,d=l(e,v),f=ge(c,{relative:d.relative}),g=he(),m=i.useContext(ne),{navigator:y,basename:b}=i.useContext(ae),w=null!=m&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=i.useContext(re);_(null!=n,"`useViewTransitionState` must be used within `react-router-dom`'s `RouterProvider`.  Did you accidentally import `RouterProvider` from `react-router`?");let{basename:r}=yt("useViewTransitionState"),s=ge(e,{relative:t.relative});if(!n.isTransitioning)return!1;let a=W(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=W(n.nextLocation.pathname,r)||n.nextLocation.pathname;return null!=V(s.pathname,o)||null!=V(s.pathname,a)}(f)&&!0===u,S=y.encodeLocation?y.encodeLocation(f).pathname:f.pathname,E=g.pathname,A=m&&m.navigation&&m.navigation.location?m.navigation.location.pathname:null;r||(E=E.toLowerCase(),A=A?A.toLowerCase():null,S=S.toLowerCase()),A&&b&&(A=W(A,b)||A);const k="/"!==S&&S.endsWith("/")?S.length-1:S.length;let x,C=E===S||!a&&E.startsWith(S)&&"/"===E.charAt(k),T=null!=A&&(A===S||!a&&A.startsWith(S)&&"/"===A.charAt(S.length)),I={isActive:C,isPending:T,isTransitioning:w},R=C?n:void 0;x="function"===typeof s?s(I):[s,C?"active":null,T?"pending":null,w?"transitioning":null].filter(Boolean).join(" ");let M="function"===typeof o?o(I):o;return i.createElement(ft,p(p({},d),{},{"aria-current":R,className:x,ref:t,style:M,to:c,viewTransition:u}),"function"===typeof h?h(I):h)}));gt.displayName="NavLink";var mt=i.forwardRef(((e,t)=>{let{discover:n="render",fetcherKey:r,navigate:s,reloadDocument:a,replace:o,state:c,method:u=Le,action:h,onSubmit:d,relative:f,preventScrollReset:g,viewTransition:m}=e,v=l(e,y),b=_t(),w=function(e){let{relative:t}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{basename:n}=i.useContext(ae),r=i.useContext(le);_(r,"useFormAction must be used inside a RouteContext");let[s]=r.matches.slice(-1),a=p({},ge(e||".",{relative:t})),o=he();if(null==e){a.search=o.search;let e=new URLSearchParams(a.search),t=e.getAll("index"),n=t.some((e=>""===e));if(n){e.delete("index"),t.filter((e=>e)).forEach((t=>e.append("index",t)));let n=e.toString();a.search=n?"?".concat(n):""}}e&&"."!==e||!s.route.index||(a.search=a.search?a.search.replace(/^\?/,"?index&"):"?index");"/"!==n&&(a.pathname="/"===a.pathname?n:X([n,a.pathname]));return k(a)}(h,{relative:f}),S="get"===u.toLowerCase()?"get":"post",E="string"===typeof h&&pt.test(h);return i.createElement("form",p(p({ref:t,method:S,action:w,onSubmit:a?d:e=>{if(d&&d(e),e.defaultPrevented)return;e.preventDefault();let t=e.nativeEvent.submitter,n=(null===t||void 0===t?void 0:t.getAttribute("formmethod"))||u;b(t||e.currentTarget,{fetcherKey:r,method:n,navigate:s,replace:o,state:c,relative:f,preventScrollReset:g,viewTransition:m})}},v),{},{"data-discover":E||"render"!==n?void 0:"true"}))}));function vt(e){return"".concat(e," must be used within a data router.  See https://reactrouter.com/en/main/routers/picking-a-router.")}function yt(e){let t=i.useContext(te);return _(t,vt(e)),t}mt.displayName="Form";var bt=0,wt=()=>"__".concat(String(++bt),"__");function _t(){let{router:e}=yt("useSubmit"),{basename:t}=i.useContext(ae),n=ke("useRouteId");return i.useCallback((async function(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},{action:s,method:a,encType:o,formData:l,body:c}=ze(r,t);if(!1===i.navigate){let t=i.fetcherKey||wt();await e.fetch(t,n,i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,flushSync:i.flushSync})}else await e.navigate(i.action||s,{preventScrollReset:i.preventScrollReset,formData:l,body:c,formMethod:i.method||a,formEncType:i.encType||o,replace:i.replace,state:i.state,fromRouteId:n,flushSync:i.flushSync,viewTransition:i.viewTransition})}),[e,t,n])}new TextEncoder;const St=function(e){const t=[];let n=0;for(let r=0;r<e.length;r++){let i=e.charCodeAt(r);i<128?t[n++]=i:i<2048?(t[n++]=i>>6|192,t[n++]=63&i|128):55296===(64512&i)&&r+1<e.length&&56320===(64512&e.charCodeAt(r+1))?(i=65536+((1023&i)<<10)+(1023&e.charCodeAt(++r)),t[n++]=i>>18|240,t[n++]=i>>12&63|128,t[n++]=i>>6&63|128,t[n++]=63&i|128):(t[n++]=i>>12|224,t[n++]=i>>6&63|128,t[n++]=63&i|128)}return t},Et={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:"function"===typeof atob,encodeByteArray(e,t){if(!Array.isArray(e))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=t?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<e.length;i+=3){const t=e[i],s=i+1<e.length,a=s?e[i+1]:0,o=i+2<e.length,l=o?e[i+2]:0,c=t>>2,u=(3&t)<<4|a>>4;let h=(15&a)<<2|l>>6,d=63&l;o||(d=64,s||(h=64)),r.push(n[c],n[u],n[h],n[d])}return r.join("")},encodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?btoa(e):this.encodeByteArray(St(e),t)},decodeString(e,t){return this.HAS_NATIVE_SUPPORT&&!t?atob(e):function(e){const t=[];let n=0,r=0;for(;n<e.length;){const i=e[n++];if(i<128)t[r++]=String.fromCharCode(i);else if(i>191&&i<224){const s=e[n++];t[r++]=String.fromCharCode((31&i)<<6|63&s)}else if(i>239&&i<365){const s=((7&i)<<18|(63&e[n++])<<12|(63&e[n++])<<6|63&e[n++])-65536;t[r++]=String.fromCharCode(55296+(s>>10)),t[r++]=String.fromCharCode(56320+(1023&s))}else{const s=e[n++],a=e[n++];t[r++]=String.fromCharCode((15&i)<<12|(63&s)<<6|63&a)}}return t.join("")}(this.decodeStringToByteArray(e,t))},decodeStringToByteArray(e,t){this.init_();const n=t?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<e.length;){const t=n[e.charAt(i++)],s=i<e.length?n[e.charAt(i)]:0;++i;const a=i<e.length?n[e.charAt(i)]:64;++i;const o=i<e.length?n[e.charAt(i)]:64;if(++i,null==t||null==s||null==a||null==o)throw new At;const l=t<<2|s>>4;if(r.push(l),64!==a){const e=s<<4&240|a>>2;if(r.push(e),64!==o){const e=a<<6&192|o;r.push(e)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let e=0;e<this.ENCODED_VALS.length;e++)this.byteToCharMap_[e]=this.ENCODED_VALS.charAt(e),this.charToByteMap_[this.byteToCharMap_[e]]=e,this.byteToCharMapWebSafe_[e]=this.ENCODED_VALS_WEBSAFE.charAt(e),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[e]]=e,e>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(e)]=e,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(e)]=e)}}};class At extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const kt=function(e){return function(e){const t=St(e);return Et.encodeByteArray(t,!0)}(e).replace(/\./g,"")},xt=function(e){try{return Et.decodeString(e,!0)}catch(ez){console.error("base64Decode failed: ",ez)}return null};const Ct=()=>function(){if("undefined"!==typeof self)return self;if("undefined"!==typeof window)return window;if("undefined"!==typeof n.g)return n.g;throw new Error("Unable to locate global object.")}().__FIREBASE_DEFAULTS__,Tt=()=>{try{return Ct()||(()=>{if("undefined"===typeof process)return;const e={NODE_ENV:"production",PUBLIC_URL:"",WDS_SOCKET_HOST:void 0,WDS_SOCKET_PATH:void 0,WDS_SOCKET_PORT:void 0,FAST_REFRESH:!0}.__FIREBASE_DEFAULTS__;return e?JSON.parse(e):void 0})()||(()=>{if("undefined"===typeof document)return;let e;try{e=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch(ez){return}const t=e&&xt(e[1]);return t&&JSON.parse(t)})()}catch(ez){return void console.info("Unable to get __FIREBASE_DEFAULTS__ due to: ".concat(ez))}},It=e=>{var t,n;return null===(n=null===(t=Tt())||void 0===t?void 0:t.emulatorHosts)||void 0===n?void 0:n[e]},Rt=()=>{var e;return null===(e=Tt())||void 0===e?void 0:e.config},Mt=e=>{var t;return null===(t=Tt())||void 0===t?void 0:t["_".concat(e)]};class Pt{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}wrapCallback(e){return(t,n)=>{t?this.reject(t):this.resolve(n),"function"===typeof e&&(this.promise.catch((()=>{})),1===e.length?e(t):e(t,n))}}}function Nt(){return"undefined"!==typeof navigator&&"string"===typeof navigator.userAgent?navigator.userAgent:""}function Lt(){return!function(){var e;const t=null===(e=Tt())||void 0===e?void 0:e.forceEnvironment;if("node"===t)return!0;if("browser"===t)return!1;try{return"[object process]"===Object.prototype.toString.call(n.g.process)}catch(ez){return!1}}()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Dt(){try{return"object"===typeof indexedDB}catch(ez){return!1}}class Ot extends Error{constructor(e,t,n){super(t),this.code=e,this.customData=n,this.name="FirebaseError",Object.setPrototypeOf(this,Ot.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ft.prototype.create)}}class Ft{constructor(e,t,n){this.service=e,this.serviceName=t,this.errors=n}create(e){const t=(arguments.length<=1?void 0:arguments[1])||{},n="".concat(this.service,"/").concat(e),r=this.errors[e],i=r?function(e,t){return e.replace(jt,((e,n)=>{const r=t[n];return null!=r?String(r):"<".concat(n,"?>")}))}(r,t):"Error",s="".concat(this.serviceName,": ").concat(i," (").concat(n,").");return new Ot(n,s,t)}}const jt=/\{\$([^}]+)}/g;function Bt(e,t){if(e===t)return!0;const n=Object.keys(e),r=Object.keys(t);for(const i of n){if(!r.includes(i))return!1;const n=e[i],s=t[i];if(zt(n)&&zt(s)){if(!Bt(n,s))return!1}else if(n!==s)return!1}for(const i of r)if(!n.includes(i))return!1;return!0}function zt(e){return null!==e&&"object"===typeof e}function Vt(e){const t=[];for(const[n,r]of Object.entries(e))Array.isArray(r)?r.forEach((e=>{t.push(encodeURIComponent(n)+"="+encodeURIComponent(e))})):t.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return t.length?"&"+t.join("&"):""}function Ut(e){const t={};return e.replace(/^\?/,"").split("&").forEach((e=>{if(e){const[n,r]=e.split("=");t[decodeURIComponent(n)]=decodeURIComponent(r)}})),t}function Wt(e){const t=e.indexOf("?");if(!t)return"";const n=e.indexOf("#",t);return e.substring(t,n>0?n:void 0)}class Ht{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then((()=>{e(this)})).catch((e=>{this.error(e)}))}next(e){this.forEachObserver((t=>{t.next(e)}))}error(e){this.forEachObserver((t=>{t.error(e)})),this.close(e)}complete(){this.forEachObserver((e=>{e.complete()})),this.close()}subscribe(e,t,n){let r;if(void 0===e&&void 0===t&&void 0===n)throw new Error("Missing Observer.");r=function(e,t){if("object"!==typeof e||null===e)return!1;for(const n of t)if(n in e&&"function"===typeof e[n])return!0;return!1}(e,["next","error","complete"])?e:{next:e,error:t,complete:n},void 0===r.next&&(r.next=qt),void 0===r.error&&(r.error=qt),void 0===r.complete&&(r.complete=qt);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then((()=>{try{this.finalError?r.error(this.finalError):r.complete()}catch(ez){}})),this.observers.push(r),i}unsubscribeOne(e){void 0!==this.observers&&void 0!==this.observers[e]&&(delete this.observers[e],this.observerCount-=1,0===this.observerCount&&void 0!==this.onNoObservers&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then((()=>{if(void 0!==this.observers&&void 0!==this.observers[e])try{t(this.observers[e])}catch(ez){"undefined"!==typeof console&&console.error&&console.error(ez)}}))}close(e){this.finalized||(this.finalized=!0,void 0!==e&&(this.finalError=e),this.task.then((()=>{this.observers=void 0,this.onNoObservers=void 0})))}}function qt(){}function Gt(e){return e&&e._delegate?e._delegate:e}class Kt{constructor(e,t,n){this.name=e,this.instanceFactory=t,this.type=n,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}const Xt="[DEFAULT]";class Qt{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){const e=new Pt;if(this.instancesDeferred.set(t,e),this.isInitialized(t)||this.shouldAutoInitialize())try{const n=this.getOrInitializeService({instanceIdentifier:t});n&&e.resolve(n)}catch(ez){}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;const n=this.normalizeInstanceIdentifier(null===e||void 0===e?void 0:e.identifier),r=null!==(t=null===e||void 0===e?void 0:e.optional)&&void 0!==t&&t;if(!this.isInitialized(n)&&!this.shouldAutoInitialize()){if(r)return null;throw Error("Service ".concat(this.name," is not available"))}try{return this.getOrInitializeService({instanceIdentifier:n})}catch(ez){if(r)return null;throw ez}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error("Mismatching Component ".concat(e.name," for Provider ").concat(this.name,"."));if(this.component)throw Error("Component for ".concat(this.name," has already been provided"));if(this.component=e,this.shouldAutoInitialize()){if(function(e){return"EAGER"===e.instantiationMode}(e))try{this.getOrInitializeService({instanceIdentifier:Xt})}catch(ez){}for(const[e,t]of this.instancesDeferred.entries()){const n=this.normalizeInstanceIdentifier(e);try{const e=this.getOrInitializeService({instanceIdentifier:n});t.resolve(e)}catch(ez){}}}}clearInstance(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter((e=>"INTERNAL"in e)).map((e=>e.INTERNAL.delete())),...e.filter((e=>"_delete"in e)).map((e=>e._delete()))])}isComponentSet(){return null!=this.component}isInitialized(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.instances.has(e)}getOptions(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.instancesOptions.get(e)||{}}initialize(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{options:t={}}=e,n=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(n))throw Error("".concat(this.name,"(").concat(n,") has already been initialized"));if(!this.isComponentSet())throw Error("Component ".concat(this.name," has not been registered yet"));const r=this.getOrInitializeService({instanceIdentifier:n,options:t});for(const[i,s]of this.instancesDeferred.entries()){n===this.normalizeInstanceIdentifier(i)&&s.resolve(r)}return r}onInit(e,t){var n;const r=this.normalizeInstanceIdentifier(t),i=null!==(n=this.onInitCallbacks.get(r))&&void 0!==n?n:new Set;i.add(e),this.onInitCallbacks.set(r,i);const s=this.instances.get(r);return s&&e(s,r),()=>{i.delete(e)}}invokeOnInitCallbacks(e,t){const n=this.onInitCallbacks.get(t);if(n)for(const i of n)try{i(e,t)}catch(r){}}getOrInitializeService(e){let{instanceIdentifier:t,options:n={}}=e,r=this.instances.get(t);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:Yt(t),options:n}),this.instances.set(t,r),this.instancesOptions.set(t,n),this.invokeOnInitCallbacks(r,t),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,t,r)}catch(i){}return r||null}normalizeInstanceIdentifier(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Xt;return this.component?this.component.multipleInstances?e:Xt:e}shouldAutoInitialize(){return!!this.component&&"EXPLICIT"!==this.component.instantiationMode}}function Yt(e){return e===Xt?void 0:e}class Jt{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const t=this.getProvider(e.name);if(t.isComponentSet())throw new Error("Component ".concat(e.name," has already been registered with ").concat(this.name));t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const t=new Qt(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}}const $t=[];var Zt;!function(e){e[e.DEBUG=0]="DEBUG",e[e.VERBOSE=1]="VERBOSE",e[e.INFO=2]="INFO",e[e.WARN=3]="WARN",e[e.ERROR=4]="ERROR",e[e.SILENT=5]="SILENT"}(Zt||(Zt={}));const en={debug:Zt.DEBUG,verbose:Zt.VERBOSE,info:Zt.INFO,warn:Zt.WARN,error:Zt.ERROR,silent:Zt.SILENT},tn=Zt.INFO,nn={[Zt.DEBUG]:"log",[Zt.VERBOSE]:"log",[Zt.INFO]:"info",[Zt.WARN]:"warn",[Zt.ERROR]:"error"},rn=function(e,t){if(t<e.logLevel)return;const n=(new Date).toISOString(),r=nn[t];if(!r)throw new Error("Attempted to log a message with an invalid logType (value: ".concat(t,")"));for(var i=arguments.length,s=new Array(i>2?i-2:0),a=2;a<i;a++)s[a-2]=arguments[a];console[r]("[".concat(n,"]  ").concat(e.name,":"),...s)};class sn{constructor(e){this.name=e,this._logLevel=tn,this._logHandler=rn,this._userLogHandler=null,$t.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Zt))throw new TypeError('Invalid value "'.concat(e,'" assigned to `logLevel`'));this._logLevel=e}setLogLevel(e){this._logLevel="string"===typeof e?en[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if("function"!==typeof e)throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.DEBUG,...t),this._logHandler(this,Zt.DEBUG,...t)}log(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.VERBOSE,...t),this._logHandler(this,Zt.VERBOSE,...t)}info(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.INFO,...t),this._logHandler(this,Zt.INFO,...t)}warn(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.WARN,...t),this._logHandler(this,Zt.WARN,...t)}error(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this._userLogHandler&&this._userLogHandler(this,Zt.ERROR,...t),this._logHandler(this,Zt.ERROR,...t)}}let an,on;const ln=new WeakMap,cn=new WeakMap,un=new WeakMap,hn=new WeakMap,dn=new WeakMap;let pn={get(e,t,n){if(e instanceof IDBTransaction){if("done"===t)return cn.get(e);if("objectStoreNames"===t)return e.objectStoreNames||un.get(e);if("store"===t)return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return mn(e[t])},set:(e,t,n)=>(e[t]=n,!0),has:(e,t)=>e instanceof IDBTransaction&&("done"===t||"store"===t)||t in e};function fn(e){return e!==IDBDatabase.prototype.transaction||"objectStoreNames"in IDBTransaction.prototype?(on||(on=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])).includes(e)?function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return e.apply(vn(this),n),mn(ln.get(this))}:function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return mn(e.apply(vn(this),n))}:function(t){for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];const s=e.call(vn(this),t,...r);return un.set(s,t.sort?t.sort():[t]),mn(s)}}function gn(e){return"function"===typeof e?fn(e):(e instanceof IDBTransaction&&function(e){if(cn.has(e))return;const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("complete",i),e.removeEventListener("error",s),e.removeEventListener("abort",s)},i=()=>{t(),r()},s=()=>{n(e.error||new DOMException("AbortError","AbortError")),r()};e.addEventListener("complete",i),e.addEventListener("error",s),e.addEventListener("abort",s)}));cn.set(e,t)}(e),t=e,(an||(an=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])).some((e=>t instanceof e))?new Proxy(e,pn):e);var t}function mn(e){if(e instanceof IDBRequest)return function(e){const t=new Promise(((t,n)=>{const r=()=>{e.removeEventListener("success",i),e.removeEventListener("error",s)},i=()=>{t(mn(e.result)),r()},s=()=>{n(e.error),r()};e.addEventListener("success",i),e.addEventListener("error",s)}));return t.then((t=>{t instanceof IDBCursor&&ln.set(t,e)})).catch((()=>{})),dn.set(t,e),t}(e);if(hn.has(e))return hn.get(e);const t=gn(e);return t!==e&&(hn.set(e,t),dn.set(t,e)),t}const vn=e=>dn.get(e);const yn=["get","getKey","getAll","getAllKeys","count"],bn=["put","add","delete","clear"],wn=new Map;function _n(e,t){if(!(e instanceof IDBDatabase)||t in e||"string"!==typeof t)return;if(wn.get(t))return wn.get(t);const n=t.replace(/FromIndex$/,""),r=t!==n,i=bn.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!i&&!yn.includes(n))return;const s=async function(e){const t=this.transaction(e,i?"readwrite":"readonly");let s=t.store;for(var a=arguments.length,o=new Array(a>1?a-1:0),l=1;l<a;l++)o[l-1]=arguments[l];return r&&(s=s.index(o.shift())),(await Promise.all([s[n](...o),i&&t.done]))[0]};return wn.set(t,s),s}pn=(e=>p(p({},e),{},{get:(t,n,r)=>_n(t,n)||e.get(t,n,r),has:(t,n)=>!!_n(t,n)||e.has(t,n)}))(pn);class Sn{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map((e=>{if(function(e){const t=e.getComponent();return"VERSION"===(null===t||void 0===t?void 0:t.type)}(e)){const t=e.getImmediate();return"".concat(t.library,"/").concat(t.version)}return null})).filter((e=>e)).join(" ")}}const En="@firebase/app",An="0.10.17",kn=new sn("@firebase/app"),xn="@firebase/app-compat",Cn="@firebase/analytics-compat",Tn="@firebase/analytics",In="@firebase/app-check-compat",Rn="@firebase/app-check",Mn="@firebase/auth",Pn="@firebase/auth-compat",Nn="@firebase/database",Ln="@firebase/data-connect",Dn="@firebase/database-compat",On="@firebase/functions",Fn="@firebase/functions-compat",jn="@firebase/installations",Bn="@firebase/installations-compat",zn="@firebase/messaging",Vn="@firebase/messaging-compat",Un="@firebase/performance",Wn="@firebase/performance-compat",Hn="@firebase/remote-config",qn="@firebase/remote-config-compat",Gn="@firebase/storage",Kn="@firebase/storage-compat",Xn="@firebase/firestore",Qn="@firebase/vertexai",Yn="@firebase/firestore-compat",Jn="firebase",$n="[DEFAULT]",Zn={[En]:"fire-core",[xn]:"fire-core-compat",[Tn]:"fire-analytics",[Cn]:"fire-analytics-compat",[Rn]:"fire-app-check",[In]:"fire-app-check-compat",[Mn]:"fire-auth",[Pn]:"fire-auth-compat",[Nn]:"fire-rtdb",[Ln]:"fire-data-connect",[Dn]:"fire-rtdb-compat",[On]:"fire-fn",[Fn]:"fire-fn-compat",[jn]:"fire-iid",[Bn]:"fire-iid-compat",[zn]:"fire-fcm",[Vn]:"fire-fcm-compat",[Un]:"fire-perf",[Wn]:"fire-perf-compat",[Hn]:"fire-rc",[qn]:"fire-rc-compat",[Gn]:"fire-gcs",[Kn]:"fire-gcs-compat",[Xn]:"fire-fst",[Yn]:"fire-fst-compat",[Qn]:"fire-vertex","fire-js":"fire-js",[Jn]:"fire-js-all"},er=new Map,tr=new Map,nr=new Map;function rr(e,t){try{e.container.addComponent(t)}catch(ez){kn.debug("Component ".concat(t.name," failed to register with FirebaseApp ").concat(e.name),ez)}}function ir(e){const t=e.name;if(nr.has(t))return kn.debug("There were multiple attempts to register component ".concat(t,".")),!1;nr.set(t,e);for(const n of er.values())rr(n,e);for(const n of tr.values())rr(n,e);return!0}function sr(e,t){const n=e.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),e.container.getProvider(t)}function ar(e){return void 0!==e.settings}const or=new Ft("app","Firebase",{"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."});class lr{constructor(e,t,n){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=n,this.container.addComponent(new Kt("app",(()=>this),"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw or.create("app-deleted",{appName:this._name})}}const cr="11.1.0";function ur(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=e;if("object"!==typeof t){t={name:t}}const r=Object.assign({name:$n,automaticDataCollectionEnabled:!1},t),i=r.name;if("string"!==typeof i||!i)throw or.create("bad-app-name",{appName:String(i)});if(n||(n=Rt()),!n)throw or.create("no-options");const s=er.get(i);if(s){if(Bt(n,s.options)&&Bt(r,s.config))return s;throw or.create("duplicate-app",{appName:i})}const a=new Jt(i);for(const l of nr.values())a.addComponent(l);const o=new lr(n,r,a);return er.set(i,o),o}function hr(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:$n;const t=er.get(e);if(!t&&e===$n&&Rt())return ur();if(!t)throw or.create("no-app",{appName:e});return t}function dr(e,t,n){var r;let i=null!==(r=Zn[e])&&void 0!==r?r:e;n&&(i+="-".concat(n));const s=i.match(/\s|\//),a=t.match(/\s|\//);if(s||a){const e=['Unable to register library "'.concat(i,'" with version "').concat(t,'":')];return s&&e.push('library name "'.concat(i,'" contains illegal characters (whitespace or "/")')),s&&a&&e.push("and"),a&&e.push('version name "'.concat(t,'" contains illegal characters (whitespace or "/")')),void kn.warn(e.join(" "))}ir(new Kt("".concat(i,"-version"),(()=>({library:i,version:t})),"VERSION"))}const pr="firebase-heartbeat-store";let fr=null;function gr(){return fr||(fr=function(e,t){let{blocked:n,upgrade:r,blocking:i,terminated:s}=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const a=indexedDB.open(e,t),o=mn(a);return r&&a.addEventListener("upgradeneeded",(e=>{r(mn(a.result),e.oldVersion,e.newVersion,mn(a.transaction),e)})),n&&a.addEventListener("blocked",(e=>n(e.oldVersion,e.newVersion,e))),o.then((e=>{s&&e.addEventListener("close",(()=>s())),i&&e.addEventListener("versionchange",(e=>i(e.oldVersion,e.newVersion,e)))})).catch((()=>{})),o}("firebase-heartbeat-database",1,{upgrade:(e,t)=>{if(0===t)try{e.createObjectStore(pr)}catch(ez){console.warn(ez)}}}).catch((e=>{throw or.create("idb-open",{originalErrorMessage:e.message})}))),fr}async function mr(e,t){try{const n=(await gr()).transaction(pr,"readwrite"),r=n.objectStore(pr);await r.put(t,vr(e)),await n.done}catch(ez){if(ez instanceof Ot)kn.warn(ez.message);else{const t=or.create("idb-set",{originalErrorMessage:null===ez||void 0===ez?void 0:ez.message});kn.warn(t.message)}}}function vr(e){return"".concat(e.name,"!").concat(e.options.appId)}class yr{constructor(e){this.container=e,this._heartbeatsCache=null;const t=this.container.getProvider("app").getImmediate();this._storage=new wr(t),this._heartbeatsCachePromise=this._storage.read().then((e=>(this._heartbeatsCache=e,e)))}async triggerHeartbeat(){var e,t;try{const n=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),r=br();if(null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)&&(this._heartbeatsCache=await this._heartbeatsCachePromise,null==(null===(t=this._heartbeatsCache)||void 0===t?void 0:t.heartbeats)))return;if(this._heartbeatsCache.lastSentHeartbeatDate===r||this._heartbeatsCache.heartbeats.some((e=>e.date===r)))return;return this._heartbeatsCache.heartbeats.push({date:r,agent:n}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter((e=>{const t=new Date(e.date).valueOf();return Date.now()-t<=2592e6})),this._storage.overwrite(this._heartbeatsCache)}catch(ez){kn.warn(ez)}}async getHeartbeatsHeader(){var e;try{if(null===this._heartbeatsCache&&await this._heartbeatsCachePromise,null==(null===(e=this._heartbeatsCache)||void 0===e?void 0:e.heartbeats)||0===this._heartbeatsCache.heartbeats.length)return"";const t=br(),{heartbeatsToSend:n,unsentEntries:r}=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1024;const n=[];let r=e.slice();for(const i of e){const e=n.find((e=>e.agent===i.agent));if(e){if(e.dates.push(i.date),_r(n)>t){e.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),_r(n)>t){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}(this._heartbeatsCache.heartbeats),i=kt(JSON.stringify({version:2,heartbeats:n}));return this._heartbeatsCache.lastSentHeartbeatDate=t,r.length>0?(this._heartbeatsCache.heartbeats=r,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(ez){return kn.warn(ez),""}}}function br(){return(new Date).toISOString().substring(0,10)}class wr{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return!!Dt()&&new Promise(((e,t)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),e(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var e;t((null===(e=i.error)||void 0===e?void 0:e.message)||"")}}catch(n){t(n)}})).then((()=>!0)).catch((()=>!1))}async read(){if(await this._canUseIndexedDBPromise){const e=await async function(e){try{const t=(await gr()).transaction(pr),n=await t.objectStore(pr).get(vr(e));return await t.done,n}catch(ez){if(ez instanceof Ot)kn.warn(ez.message);else{const t=or.create("idb-get",{originalErrorMessage:null===ez||void 0===ez?void 0:ez.message});kn.warn(t.message)}}}(this.app);return(null===e||void 0===e?void 0:e.heartbeats)?e:{heartbeats:[]}}return{heartbeats:[]}}async overwrite(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return mr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:e.heartbeats})}}async add(e){var t;if(await this._canUseIndexedDBPromise){const n=await this.read();return mr(this.app,{lastSentHeartbeatDate:null!==(t=e.lastSentHeartbeatDate)&&void 0!==t?t:n.lastSentHeartbeatDate,heartbeats:[...n.heartbeats,...e.heartbeats]})}}}function _r(e){return kt(JSON.stringify({version:2,heartbeats:e})).length}var Sr;Sr="",ir(new Kt("platform-logger",(e=>new Sn(e)),"PRIVATE")),ir(new Kt("heartbeat",(e=>new yr(e)),"PRIVATE")),dr(En,An,Sr),dr(En,An,"esm2017"),dr("fire-js","");function Er(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n}Object.create;Object.create;"function"===typeof SuppressedError&&SuppressedError;function Ar(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const kr=Ar,xr=new Ft("auth","Firebase",{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}),Cr=new sn("@firebase/auth");function Tr(e){if(Cr.logLevel<=Zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Cr.error("Auth (".concat(cr,"): ").concat(e),...n)}}function Ir(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];throw Nr(e,...n)}function Rr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];return Nr(e,...n)}function Mr(e,t,n){const r=Object.assign(Object.assign({},kr()),{[t]:n});return new Ft("auth","Firebase",r).create(t,{appName:e.name})}function Pr(e){return Mr(e,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Nr(e){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];if("string"!==typeof e){const t=n[0],r=[...n.slice(1)];return r[0]&&(r[0].appName=e.name),e._errorFactory.create(t,...r)}return xr.create(e,...n)}function Lr(e,t){if(!e){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];throw Nr(t,...r)}}function Dr(e){const t="INTERNAL ASSERTION FAILED: "+e;throw Tr(t),new Error(t)}function Or(e,t){e||Dr(t)}function Fr(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.href)||""}function jr(){return"http:"===Br()||"https:"===Br()}function Br(){var e;return"undefined"!==typeof self&&(null===(e=self.location)||void 0===e?void 0:e.protocol)||null}function zr(){return!("undefined"!==typeof navigator&&navigator&&"onLine"in navigator&&"boolean"===typeof navigator.onLine&&(jr()||function(){const e="object"===typeof chrome?chrome.runtime:"object"===typeof browser?browser.runtime:void 0;return"object"===typeof e&&void 0!==e.id}()||"connection"in navigator))||navigator.onLine}class Vr{constructor(e,t){this.shortDelay=e,this.longDelay=t,Or(t>e,"Short delay should be less than long delay!"),this.isMobile="undefined"!==typeof window&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Nt())||"object"===typeof navigator&&"ReactNative"===navigator.product}get(){return zr()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}function Ur(e,t){Or(e.emulator,"Emulator should always be set here");const{url:n}=e.emulator;return t?"".concat(n).concat(t.startsWith("/")?t.slice(1):t):n}class Wr{static initialize(e,t,n){this.fetchImpl=e,t&&(this.headersImpl=t),n&&(this.responseImpl=n)}static fetch(){return this.fetchImpl?this.fetchImpl:"undefined"!==typeof self&&"fetch"in self?self.fetch:"undefined"!==typeof globalThis&&globalThis.fetch?globalThis.fetch:"undefined"!==typeof fetch?fetch:void Dr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){return this.headersImpl?this.headersImpl:"undefined"!==typeof self&&"Headers"in self?self.Headers:"undefined"!==typeof globalThis&&globalThis.Headers?globalThis.Headers:"undefined"!==typeof Headers?Headers:void Dr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){return this.responseImpl?this.responseImpl:"undefined"!==typeof self&&"Response"in self?self.Response:"undefined"!==typeof globalThis&&globalThis.Response?globalThis.Response:"undefined"!==typeof Response?Response:void Dr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}const Hr={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"},qr=new Vr(3e4,6e4);function Gr(e,t){return e.tenantId&&!t.tenantId?Object.assign(Object.assign({},t),{tenantId:e.tenantId}):t}async function Kr(e,t,n,r){return Xr(e,arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},(async()=>{let i={},s={};r&&("GET"===t?s=r:i={body:JSON.stringify(r)});const a=Vt(Object.assign({key:e.config.apiKey},s)).slice(1),o=await e._getAdditionalHeaders();o["Content-Type"]="application/json",e.languageCode&&(o["X-Firebase-Locale"]=e.languageCode);const l=Object.assign({method:t,headers:o},i);return"undefined"!==typeof navigator&&"Cloudflare-Workers"===navigator.userAgent||(l.referrerPolicy="no-referrer"),Wr.fetch()(Yr(e,e.config.apiHost,n,a),l)}))}async function Xr(e,t,n){e._canInitEmulator=!1;const r=Object.assign(Object.assign({},Hr),t);try{const t=new $r(e),i=await Promise.race([n(),t.promise]);t.clearNetworkTimeout();const s=await i.json();if("needConfirmation"in s)throw Zr(e,"account-exists-with-different-credential",s);if(i.ok&&!("errorMessage"in s))return s;{const t=i.ok?s.errorMessage:s.error.message,[n,a]=t.split(" : ");if("FEDERATED_USER_ID_ALREADY_LINKED"===n)throw Zr(e,"credential-already-in-use",s);if("EMAIL_EXISTS"===n)throw Zr(e,"email-already-in-use",s);if("USER_DISABLED"===n)throw Zr(e,"user-disabled",s);const o=r[n]||n.toLowerCase().replace(/[_\s]+/g,"-");if(a)throw Mr(e,o,a);Ir(e,o)}}catch(ez){if(ez instanceof Ot)throw ez;Ir(e,"network-request-failed",{message:String(ez)})}}async function Qr(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{};const s=await Kr(e,t,n,r,i);return"mfaPendingCredential"in s&&Ir(e,"multi-factor-auth-required",{_serverResponse:s}),s}function Yr(e,t,n,r){const i="".concat(t).concat(n,"?").concat(r);return e.config.emulator?Ur(e.config,i):"".concat(e.config.apiScheme,"://").concat(i)}function Jr(e){switch(e){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class $r{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise(((e,t)=>{this.timer=setTimeout((()=>t(Rr(this.auth,"network-request-failed"))),qr.get())}))}}function Zr(e,t,n){const r={appName:e.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const i=Rr(e,t,r);return i.customData._tokenResponse=n,i}function ei(e){return void 0!==e&&void 0!==e.enterprise}class ti{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],void 0===e.recaptchaKey)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||0===this.recaptchaEnforcementState.length)return null;for(const t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return Jr(t.enforcementState);return null}isProviderEnabled(e){return"ENFORCE"===this.getProviderEnforcementState(e)||"AUDIT"===this.getProviderEnforcementState(e)}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function ni(e,t){return Kr(e,"GET","/v2/recaptchaConfig",Gr(e,t))}async function ri(e,t){return Kr(e,"POST","/v1/accounts:lookup",t)}function ii(e){if(e)try{const t=new Date(Number(e));if(!isNaN(t.getTime()))return t.toUTCString()}catch(ez){}}function si(e){return 1e3*Number(e)}function ai(e){const[t,n,r]=e.split(".");if(void 0===t||void 0===n||void 0===r)return Tr("JWT malformed, contained fewer than 3 sections"),null;try{const e=xt(n);return e?JSON.parse(e):(Tr("Failed to decode base64 JWT payload"),null)}catch(ez){return Tr("Caught error parsing JWT payload as JSON",null===ez||void 0===ez?void 0:ez.toString()),null}}function oi(e){const t=ai(e);return Lr(t,"internal-error"),Lr("undefined"!==typeof t.exp,"internal-error"),Lr("undefined"!==typeof t.iat,"internal-error"),Number(t.exp)-Number(t.iat)}async function li(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2])return t;try{return await t}catch(ez){throw ez instanceof Ot&&function(e){let{code:t}=e;return t==="auth/".concat("user-disabled")||t==="auth/".concat("user-token-expired")}(ez)&&e.auth.currentUser===e&&await e.auth.signOut(),ez}}class ci{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,null!==this.timerId&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){const e=this.errorBackoff;return this.errorBackoff=Math.min(2*this.errorBackoff,96e4),e}{this.errorBackoff=3e4;const e=(null!==(t=this.user.stsTokenManager.expirationTime)&&void 0!==t?t:0)-Date.now()-3e5;return Math.max(0,e)}}schedule(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.isRunning)return;const t=this.getInterval(e);this.timerId=setTimeout((async()=>{await this.iteration()}),t)}async iteration(){try{await this.user.getIdToken(!0)}catch(ez){return void((null===ez||void 0===ez?void 0:ez.code)==="auth/".concat("network-request-failed")&&this.schedule(!0))}this.schedule()}}class ui{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=ii(this.lastLoginAt),this.creationTime=ii(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}async function hi(e){var t;const n=e.auth,r=await e.getIdToken(),i=await li(e,ri(n,{idToken:r}));Lr(null===i||void 0===i?void 0:i.users.length,n,"internal-error");const s=i.users[0];e._notifyReloadListener(s);const a=(null===(t=s.providerUserInfo)||void 0===t?void 0:t.length)?di(s.providerUserInfo):[],o=(l=e.providerData,c=a,[...l.filter((e=>!c.some((t=>t.providerId===e.providerId)))),...c]);var l,c;const u=e.isAnonymous,h=!(e.email&&s.passwordHash)&&!(null===o||void 0===o?void 0:o.length),d=!!u&&h,p={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new ui(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(e,p)}function di(e){return e.map((e=>{var{providerId:t}=e,n=Er(e,["providerId"]);return{providerId:t,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}}))}class pi{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Lr(e.idToken,"internal-error"),Lr("undefined"!==typeof e.idToken,"internal-error"),Lr("undefined"!==typeof e.refreshToken,"internal-error");const t="expiresIn"in e&&"undefined"!==typeof e.expiresIn?Number(e.expiresIn):oi(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Lr(0!==e.length,"internal-error");const t=oi(e);this.updateTokensAndExpiration(e,null,t)}async getToken(e){return arguments.length>1&&void 0!==arguments[1]&&arguments[1]||!this.accessToken||this.isExpired?(Lr(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null):this.accessToken}clearRefreshToken(){this.refreshToken=null}async refresh(e,t){const{accessToken:n,refreshToken:r,expiresIn:i}=await async function(e,t){const n=await Xr(e,{},(async()=>{const n=Vt({grant_type:"refresh_token",refresh_token:t}).slice(1),{tokenApiHost:r,apiKey:i}=e.config,s=Yr(e,r,"/v1/token","key=".concat(i)),a=await e._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Wr.fetch()(s,{method:"POST",headers:a,body:n})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}(e,t);this.updateTokensAndExpiration(n,r,Number(i))}updateTokensAndExpiration(e,t,n){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+1e3*n}static fromJSON(e,t){const{refreshToken:n,accessToken:r,expirationTime:i}=t,s=new pi;return n&&(Lr("string"===typeof n,"internal-error",{appName:e}),s.refreshToken=n),r&&(Lr("string"===typeof r,"internal-error",{appName:e}),s.accessToken=r),i&&(Lr("number"===typeof i,"internal-error",{appName:e}),s.expirationTime=i),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new pi,this.toJSON())}_performRefresh(){return Dr("not implemented")}}function fi(e,t){Lr("string"===typeof e||"undefined"===typeof e,"internal-error",{appName:t})}class gi{constructor(e){var{uid:t,auth:n,stsTokenManager:r}=e,i=Er(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new ci(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=i.displayName||null,this.email=i.email||null,this.emailVerified=i.emailVerified||!1,this.phoneNumber=i.phoneNumber||null,this.photoURL=i.photoURL||null,this.isAnonymous=i.isAnonymous||!1,this.tenantId=i.tenantId||null,this.providerData=i.providerData?[...i.providerData]:[],this.metadata=new ui(i.createdAt||void 0,i.lastLoginAt||void 0)}async getIdToken(e){const t=await li(this,this.stsTokenManager.getToken(this.auth,e));return Lr(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t}getIdTokenResult(e){return async function(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const n=Gt(e),r=await n.getIdToken(t),i=ai(r);Lr(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");const s="object"===typeof i.firebase?i.firebase:void 0,a=null===s||void 0===s?void 0:s.sign_in_provider;return{claims:i,token:r,authTime:ii(si(i.auth_time)),issuedAtTime:ii(si(i.iat)),expirationTime:ii(si(i.exp)),signInProvider:a||null,signInSecondFactor:(null===s||void 0===s?void 0:s.sign_in_second_factor)||null}}(this,e)}reload(){return async function(e){const t=Gt(e);await hi(t),await t.auth._persistUserIfCurrent(t),t.auth._notifyListenersIfCurrent(t)}(this)}_assign(e){this!==e&&(Lr(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map((e=>Object.assign({},e))),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const t=new gi(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Lr(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1],n=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),n=!0),t&&await hi(this),await this.auth._persistUserIfCurrent(this),n&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(ar(this.auth.app))return Promise.reject(Pr(this.auth));const e=await this.getIdToken();return await li(this,async function(e,t){return Kr(e,"POST","/v1/accounts:delete",t)}(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map((e=>Object.assign({},e))),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var n,r,i,s,a,o,l,c;const u=null!==(n=t.displayName)&&void 0!==n?n:void 0,h=null!==(r=t.email)&&void 0!==r?r:void 0,d=null!==(i=t.phoneNumber)&&void 0!==i?i:void 0,p=null!==(s=t.photoURL)&&void 0!==s?s:void 0,f=null!==(a=t.tenantId)&&void 0!==a?a:void 0,g=null!==(o=t._redirectEventId)&&void 0!==o?o:void 0,m=null!==(l=t.createdAt)&&void 0!==l?l:void 0,v=null!==(c=t.lastLoginAt)&&void 0!==c?c:void 0,{uid:y,emailVerified:b,isAnonymous:w,providerData:_,stsTokenManager:S}=t;Lr(y&&S,e,"internal-error");const E=pi.fromJSON(this.name,S);Lr("string"===typeof y,e,"internal-error"),fi(u,e.name),fi(h,e.name),Lr("boolean"===typeof b,e,"internal-error"),Lr("boolean"===typeof w,e,"internal-error"),fi(d,e.name),fi(p,e.name),fi(f,e.name),fi(g,e.name),fi(m,e.name),fi(v,e.name);const A=new gi({uid:y,auth:e,email:h,emailVerified:b,displayName:u,isAnonymous:w,photoURL:p,phoneNumber:d,tenantId:f,stsTokenManager:E,createdAt:m,lastLoginAt:v});return _&&Array.isArray(_)&&(A.providerData=_.map((e=>Object.assign({},e)))),g&&(A._redirectEventId=g),A}static async _fromIdTokenResponse(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=new pi;r.updateFromServerResponse(t);const i=new gi({uid:t.localId,auth:e,stsTokenManager:r,isAnonymous:n});return await hi(i),i}static async _fromGetAccountInfoResponse(e,t,n){const r=t.users[0];Lr(void 0!==r.localId,"internal-error");const i=void 0!==r.providerUserInfo?di(r.providerUserInfo):[],s=!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length),a=new pi;a.updateFromIdToken(n);const o=new gi({uid:r.localId,auth:e,stsTokenManager:a,isAnonymous:s}),l={uid:r.localId,displayName:r.displayName||null,photoURL:r.photoUrl||null,email:r.email||null,emailVerified:r.emailVerified||!1,phoneNumber:r.phoneNumber||null,tenantId:r.tenantId||null,providerData:i,metadata:new ui(r.createdAt,r.lastLoginAt),isAnonymous:!(r.email&&r.passwordHash)&&!(null===i||void 0===i?void 0:i.length)};return Object.assign(o,l),o}}const mi=new Map;function vi(e){Or(e instanceof Function,"Expected a class definition");let t=mi.get(e);return t?(Or(t instanceof e,"Instance stored in cache mismatched with class"),t):(t=new e,mi.set(e,t),t)}class yi{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,t){this.storage[e]=t}async _get(e){const t=this.storage[e];return void 0===t?null:t}async _remove(e){delete this.storage[e]}_addListener(e,t){}_removeListener(e,t){}}yi.type="NONE";const bi=yi;function wi(e,t,n){return"firebase".concat(":",e,":").concat(t,":").concat(n)}class _i{constructor(e,t,n){this.persistence=e,this.auth=t,this.userKey=n;const{config:r,name:i}=this.auth;this.fullUserKey=wi(this.userKey,r.apiKey,i),this.fullPersistenceKey=wi("persistence",r.apiKey,i),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);return e?gi._fromJSON(this.auth,e):null}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const t=await this.getCurrentUser();return await this.removeCurrentUser(),this.persistence=e,t?this.setCurrentUser(t):void 0}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"authUser";if(!t.length)return new _i(vi(bi),e,n);const r=(await Promise.all(t.map((async e=>{if(await e._isAvailable())return e})))).filter((e=>e));let i=r[0]||vi(bi);const s=wi(n,e.config.apiKey,e.name);let a=null;for(const c of t)try{const t=await c._get(s);if(t){const n=gi._fromJSON(e,t);c!==i&&(a=n),i=c;break}}catch(l){}const o=r.filter((e=>e._shouldAllowMigration));return i._shouldAllowMigration&&o.length?(i=o[0],a&&await i._set(s,a.toJSON()),await Promise.all(t.map((async e=>{if(e!==i)try{await e._remove(s)}catch(l){}}))),new _i(i,e,n)):new _i(i,e,n)}}function Si(e){const t=e.toLowerCase();if(t.includes("opera/")||t.includes("opr/")||t.includes("opios/"))return"Opera";if(xi(t))return"IEMobile";if(t.includes("msie")||t.includes("trident/"))return"IE";if(t.includes("edge/"))return"Edge";if(Ei(t))return"Firefox";if(t.includes("silk/"))return"Silk";if(Ti(t))return"Blackberry";if(Ii(t))return"Webos";if(Ai(t))return"Safari";if((t.includes("chrome/")||ki(t))&&!t.includes("edge/"))return"Chrome";if(Ci(t))return"Android";{const t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,n=e.match(t);if(2===(null===n||void 0===n?void 0:n.length))return n[1]}return"Other"}function Ei(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/firefox\//i.test(e)}function Ai(){const e=(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt()).toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function ki(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/crios\//i.test(e)}function xi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/iemobile/i.test(e)}function Ci(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/android/i.test(e)}function Ti(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/blackberry/i.test(e)}function Ii(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/webos/i.test(e)}function Ri(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return/iphone|ipad|ipod/i.test(e)||/macintosh/i.test(e)&&/mobile/i.test(e)}function Mi(){return function(){const e=Nt();return e.indexOf("MSIE ")>=0||e.indexOf("Trident/")>=0}()&&10===document.documentMode}function Pi(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt();return Ri(e)||Ci(e)||Ii(e)||Ti(e)||/windows phone/i.test(e)||xi(e)}function Ni(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];switch(e){case"Browser":t=Si(Nt());break;case"Worker":t="".concat(Si(Nt()),"-").concat(e);break;default:t=e}const r=n.length?n.join(","):"FirebaseCore-web";return"".concat(t,"/","JsCore","/").concat(cr,"/").concat(r)}class Li{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){const n=t=>new Promise(((n,r)=>{try{n(e(t))}catch(ez){r(ez)}}));n.onAbort=t,this.queue.push(n);const r=this.queue.length-1;return()=>{this.queue[r]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const t=[];try{for(const n of this.queue)await n(e),n.onAbort&&t.push(n.onAbort)}catch(ez){t.reverse();for(const r of t)try{r()}catch(n){}throw this.auth._errorFactory.create("login-blocked",{originalMessage:null===ez||void 0===ez?void 0:ez.message})}}}class Di{constructor(e){var t,n,r,i;const s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=null!==(t=s.minPasswordLength)&&void 0!==t?t:6,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),void 0!==s.containsLowercaseCharacter&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),void 0!==s.containsUppercaseCharacter&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),void 0!==s.containsNumericCharacter&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),void 0!==s.containsNonAlphanumericCharacter&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,"ENFORCEMENT_STATE_UNSPECIFIED"===this.enforcementState&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=null!==(r=null===(n=e.allowedNonAlphanumericCharacters)||void 0===n?void 0:n.join(""))&&void 0!==r?r:"",this.forceUpgradeOnSignin=null!==(i=e.forceUpgradeOnSignin)&&void 0!==i&&i,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,n,r,i,s,a;const o={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,o),this.validatePasswordCharacterOptions(e,o),o.isValid&&(o.isValid=null===(t=o.meetsMinPasswordLength)||void 0===t||t),o.isValid&&(o.isValid=null===(n=o.meetsMaxPasswordLength)||void 0===n||n),o.isValid&&(o.isValid=null===(r=o.containsLowercaseLetter)||void 0===r||r),o.isValid&&(o.isValid=null===(i=o.containsUppercaseLetter)||void 0===i||i),o.isValid&&(o.isValid=null===(s=o.containsNumericCharacter)||void 0===s||s),o.isValid&&(o.isValid=null===(a=o.containsNonAlphanumericCharacter)||void 0===a||a),o}validatePasswordLengthOptions(e,t){const n=this.customStrengthOptions.minPasswordLength,r=this.customStrengthOptions.maxPasswordLength;n&&(t.meetsMinPasswordLength=e.length>=n),r&&(t.meetsMaxPasswordLength=e.length<=r)}validatePasswordCharacterOptions(e,t){let n;this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);for(let r=0;r<e.length;r++)n=e.charAt(r),this.updatePasswordCharacterOptionsStatuses(t,n>="a"&&n<="z",n>="A"&&n<="Z",n>="0"&&n<="9",this.allowedNonAlphanumericCharacters.includes(n))}updatePasswordCharacterOptionsStatuses(e,t,n,r,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=n)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=r)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}class Oi{constructor(e,t,n,r){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=n,this.config=r,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new ji(this),this.idTokenSubscription=new ji(this),this.beforeStateQueue=new Li(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=xr,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=r.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=vi(t)),this._initializationPromise=this.queue((async()=>{var n,r;if(!this._deleted&&(this.persistenceManager=await _i.create(this,e),!this._deleted)){if(null===(n=this._popupRedirectResolver)||void 0===n?void 0:n._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch(ez){}await this.initializeCurrentUser(t),this.lastNotifiedUid=(null===(r=this.currentUser)||void 0===r?void 0:r.uid)||null,this._deleted||(this._isInitialized=!0)}})),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();return this.currentUser||e?this.currentUser&&e&&this.currentUser.uid===e.uid?(this._currentUser._assign(e),void await this.currentUser.getIdToken()):void await this._updateCurrentUser(e,!0):void 0}async initializeCurrentUserFromIdToken(e){try{const t=await ri(this,{idToken:e}),n=await gi._fromGetAccountInfoResponse(this,t,e);await this.directlySetCurrentUser(n)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var t;if(ar(this.app)){const e=this.app.settings.authIdToken;return e?new Promise((t=>{setTimeout((()=>this.initializeCurrentUserFromIdToken(e).then(t,t)))})):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,i=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const n=null===(t=this.redirectUser)||void 0===t?void 0:t._redirectEventId,s=null===r||void 0===r?void 0:r._redirectEventId,a=await this.tryRedirectSignIn(e);n&&n!==s||!(null===a||void 0===a?void 0:a.user)||(r=a.user,i=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(i)try{await this.beforeStateQueue.runMiddleware(r)}catch(ez){r=n,this._popupRedirectResolver._overrideRedirectResult(this,(()=>Promise.reject(ez)))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return Lr(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let t=null;try{t=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch(ez){await this._setRedirectUser(null)}return t}async reloadAndSetCurrentUserOrClear(e){try{await hi(e)}catch(ez){if((null===ez||void 0===ez?void 0:ez.code)!=="auth/".concat("network-request-failed"))return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=function(){if("undefined"===typeof navigator)return null;const e=navigator;return e.languages&&e.languages[0]||e.language||null}()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(ar(this.app))return Promise.reject(Pr(this));const t=e?Gt(e):null;return t&&Lr(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))}async _updateCurrentUser(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!this._deleted)return e&&Lr(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||await this.beforeStateQueue.runMiddleware(e),this.queue((async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()}))}async signOut(){return ar(this.app)?Promise.reject(Pr(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return ar(this.app)?Promise.reject(Pr(this)):this.queue((async()=>{await this.assertedPersistence.setPersistence(vi(e))}))}_getRecaptchaConfig(){return null==this.tenantId?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)}_getPasswordPolicyInternal(){return null===this.tenantId?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await async function(e){return Kr(e,"GET","/v2/passwordPolicy",Gr(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:{}))}(this),t=new Di(e);null===this.tenantId?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ft("auth","Firebase",e())}onAuthStateChanged(e,t,n){return this.registerStateListener(this.authStateSubscription,e,t,n)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,n){return this.registerStateListener(this.idTokenSubscription,e,t,n)}authStateReady(){return new Promise(((e,t)=>{if(this.currentUser)e();else{const n=this.onAuthStateChanged((()=>{n(),e()}),t)}}))}async revokeAccessToken(e){if(this.currentUser){const t={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:await this.currentUser.getIdToken()};null!=this.tenantId&&(t.tenantId=this.tenantId),await async function(e,t){return Kr(e,"POST","/v2/accounts:revokeToken",Gr(e,t))}(this,t)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:null===(e=this._currentUser)||void 0===e?void 0:e.toJSON()}}async _setRedirectUser(e,t){const n=await this.getOrInitRedirectPersistenceManager(t);return null===e?n.removeCurrentUser():n.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const t=e&&vi(e)||this._popupRedirectResolver;Lr(t,this,"argument-error"),this.redirectPersistenceManager=await _i.create(this,[vi(t._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var t,n;return this._isInitialized&&await this.queue((async()=>{})),(null===(t=this._currentUser)||void 0===t?void 0:t._redirectEventId)===e?this._currentUser:(null===(n=this.redirectUser)||void 0===n?void 0:n._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue((async()=>this.directlySetCurrentUser(e)))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return"".concat(this.config.authDomain,":").concat(this.config.apiKey,":").concat(this.name)}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const n=null!==(t=null===(e=this.currentUser)||void 0===e?void 0:e.uid)&&void 0!==t?t:null;this.lastNotifiedUid!==n&&(this.lastNotifiedUid=n,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,n,r){if(this._deleted)return()=>{};const i="function"===typeof t?t:t.next.bind(t);let s=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Lr(a,this,"internal-error"),a.then((()=>{s||i(this.currentUser)})),"function"===typeof t){const i=e.addObserver(t,n,r);return()=>{s=!0,i()}}{const n=e.addObserver(t);return()=>{s=!0,n()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Lr(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){e&&!this.frameworks.includes(e)&&(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=Ni(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var e;const t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);const n=await(null===(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getHeartbeatsHeader());n&&(t["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(t["X-Firebase-AppCheck"]=r),t}async _getAppCheckToken(){var e;const t=await(null===(e=this.appCheckServiceProvider.getImmediate({optional:!0}))||void 0===e?void 0:e.getToken());return(null===t||void 0===t?void 0:t.error)&&function(e){if(Cr.logLevel<=Zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];Cr.warn("Auth (".concat(cr,"): ").concat(e),...n)}}("Error while retrieving App Check token: ".concat(t.error)),null===t||void 0===t?void 0:t.token}}function Fi(e){return Gt(e)}class ji{constructor(e){this.auth=e,this.observer=null,this.addObserver=function(e,t){const n=new Ht(e,t);return n.subscribe.bind(n)}((e=>this.observer=e))}get next(){return Lr(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}let Bi={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function zi(e){return Bi.loadJS(e)}function Vi(e){return"__".concat(e).concat(Math.floor(1e6*Math.random()))}class Ui{constructor(){this.enterprise=new Wi}ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}class Wi{ready(e){e()}execute(e,t){return Promise.resolve("token")}render(e,t){return""}}const Hi="NO_RECAPTCHA";class qi{constructor(e){this.type="recaptcha-enterprise",this.auth=Fi(e)}async verify(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"verify",t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];function n(t,n,r){const i=window.grecaptcha;ei(i)?i.enterprise.ready((()=>{i.enterprise.execute(t,{action:e}).then((e=>{n(e)})).catch((()=>{n(Hi)}))})):r(Error("No reCAPTCHA enterprise script loaded."))}if(this.auth.settings.appVerificationDisabledForTesting){return(new Ui).execute("siteKey",{action:"verify"})}return new Promise(((e,r)=>{(async function(e){if(!t){if(null==e.tenantId&&null!=e._agentRecaptchaConfig)return e._agentRecaptchaConfig.siteKey;if(null!=e.tenantId&&void 0!==e._tenantRecaptchaConfigs[e.tenantId])return e._tenantRecaptchaConfigs[e.tenantId].siteKey}return new Promise((async(t,n)=>{ni(e,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then((r=>{if(void 0!==r.recaptchaKey){const n=new ti(r);return null==e.tenantId?e._agentRecaptchaConfig=n:e._tenantRecaptchaConfigs[e.tenantId]=n,t(n.siteKey)}n(new Error("recaptcha Enterprise site key undefined"))})).catch((e=>{n(e)}))}))})(this.auth).then((i=>{if(!t&&ei(window.grecaptcha))n(i,e,r);else{if("undefined"===typeof window)return void r(new Error("RecaptchaVerifier is only supported in browser"));let t=Bi.recaptchaEnterpriseScript;0!==t.length&&(t+=i),zi(t).then((()=>{n(i,e,r)})).catch((e=>{r(e)}))}})).catch((e=>{r(e)}))}))}}async function Gi(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];const s=new qi(e);let a;if(i)a=Hi;else try{a=await s.verify(n)}catch(l){a=await s.verify(n,!0)}const o=Object.assign({},t);if("mfaSmsEnrollment"===n||"mfaSmsSignIn"===n){if("phoneEnrollmentInfo"in o){const e=o.phoneEnrollmentInfo.phoneNumber,t=o.phoneEnrollmentInfo.recaptchaToken;Object.assign(o,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:t,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in o){const e=o.phoneSignInInfo.recaptchaToken;Object.assign(o,{phoneSignInInfo:{recaptchaToken:e,captchaResponse:a,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return o}return r?Object.assign(o,{captchaResp:a}):Object.assign(o,{captchaResponse:a}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o}async function Ki(e,t,n,r,i){var s,a;if("EMAIL_PASSWORD_PROVIDER"===i){if(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const i=await Gi(e,t,n,"getOobCode"===n);return r(e,i)}return r(e,t).catch((async i=>{if(i.code==="auth/".concat("missing-recaptcha-token")){console.log("".concat(n," is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow."));const i=await Gi(e,t,n,"getOobCode"===n);return r(e,i)}return Promise.reject(i)}))}if("PHONE_PROVIDER"===i){if(null===(a=e._getRecaptchaConfig())||void 0===a?void 0:a.isProviderEnabled("PHONE_PROVIDER")){const i=await Gi(e,t,n);return r(e,i).catch((async i=>{var s;if("AUDIT"===(null===(s=e._getRecaptchaConfig())||void 0===s?void 0:s.getProviderEnforcementState("PHONE_PROVIDER"))&&(i.code==="auth/".concat("missing-recaptcha-token")||i.code==="auth/".concat("invalid-app-credential"))){console.log("Failed to verify with reCAPTCHA Enterprise. Automatically triggering the reCAPTCHA v2 flow to complete the ".concat(n," flow."));const i=await Gi(e,t,n,!1,!0);return r(e,i)}return Promise.reject(i)}))}{const i=await Gi(e,t,n,!1,!0);return r(e,i)}}return Promise.reject(i+" provider is not supported.")}async function Xi(e){const t=Fi(e),n=await ni(t,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}),r=new ti(n);if(null==t.tenantId?t._agentRecaptchaConfig=r:t._tenantRecaptchaConfigs[t.tenantId]=r,r.isAnyProviderEnabled()){new qi(t).verify()}}function Qi(e,t,n){const r=Fi(e);Lr(r._canInitEmulator,r,"emulator-config-failed"),Lr(/^https?:\/\//.test(t),r,"invalid-emulator-scheme");const i=!!(null===n||void 0===n?void 0:n.disableWarnings),s=Yi(t),{host:a,port:o}=function(e){const t=Yi(e),n=/(\/\/)?([^?#/]+)/.exec(e.substr(t.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){const e=i[1];return{host:e,port:Ji(r.substr(e.length+1))}}{const[e,t]=r.split(":");return{host:e,port:Ji(t)}}}(t),l=null===o?"":":".concat(o);r.config.emulator={url:"".concat(s,"//").concat(a).concat(l,"/")},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:a,port:o,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||function(){function e(){const e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}"undefined"!==typeof console&&"function"===typeof console.info&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials.");"undefined"!==typeof window&&"undefined"!==typeof document&&("loading"===document.readyState?window.addEventListener("DOMContentLoaded",e):e())}()}function Yi(e){const t=e.indexOf(":");return t<0?"":e.substr(0,t+1)}function Ji(e){if(!e)return null;const t=Number(e);return isNaN(t)?null:t}class $i{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Dr("not implemented")}_getIdTokenResponse(e){return Dr("not implemented")}_linkToIdToken(e,t){return Dr("not implemented")}_getReauthenticationResolver(e){return Dr("not implemented")}}async function Zi(e,t){return Kr(e,"POST","/v1/accounts:signUp",t)}async function es(e,t){return Qr(e,"POST","/v1/accounts:signInWithPassword",Gr(e,t))}class ts extends $i{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;super("password",n),this._email=e,this._password=t,this._tenantId=r}static _fromEmailAndPassword(e,t){return new ts(e,t,"password")}static _fromEmailAndCode(e,t){return new ts(e,t,"emailLink",arguments.length>2&&void 0!==arguments[2]?arguments[2]:null)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e;if((null===t||void 0===t?void 0:t.email)&&(null===t||void 0===t?void 0:t.password)){if("password"===t.signInMethod)return this._fromEmailAndPassword(t.email,t.password);if("emailLink"===t.signInMethod)return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":return Ki(e,{returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signInWithPassword",es,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qr(e,"POST","/v1/accounts:signInWithEmailLink",Gr(e,t))}(e,{email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}async _linkToIdToken(e,t){switch(this.signInMethod){case"password":return Ki(e,{idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",Zi,"EMAIL_PASSWORD_PROVIDER");case"emailLink":return async function(e,t){return Qr(e,"POST","/v1/accounts:signInWithEmailLink",Gr(e,t))}(e,{idToken:t,email:this._email,oobCode:this._password});default:Ir(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}async function ns(e,t){return Qr(e,"POST","/v1/accounts:signInWithIdp",Gr(e,t))}class rs extends $i{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const t=new rs(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(t.idToken=e.idToken),e.accessToken&&(t.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(t.nonce=e.nonce),e.pendingToken&&(t.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(t.accessToken=e.oauthToken,t.secret=e.oauthTokenSecret):Ir("argument-error"),t}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const t="string"===typeof e?JSON.parse(e):e,{providerId:n,signInMethod:r}=t,i=Er(t,["providerId","signInMethod"]);if(!n||!r)return null;const s=new rs(n,r);return s.idToken=i.idToken||void 0,s.accessToken=i.accessToken||void 0,s.secret=i.secret,s.nonce=i.nonce,s.pendingToken=i.pendingToken||null,s}_getIdTokenResponse(e){return ns(e,this.buildRequest())}_linkToIdToken(e,t){const n=this.buildRequest();return n.idToken=t,ns(e,n)}_getReauthenticationResolver(e){const t=this.buildRequest();return t.autoCreate=!1,ns(e,t)}buildRequest(){const e={requestUri:"http://localhost",returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const t={};this.idToken&&(t.id_token=this.idToken),this.accessToken&&(t.access_token=this.accessToken),this.secret&&(t.oauth_token_secret=this.secret),t.providerId=this.providerId,this.nonce&&!this.pendingToken&&(t.nonce=this.nonce),e.postBody=Vt(t)}return e}}async function is(e,t){return Kr(e,"POST","/v1/accounts:sendVerificationCode",Gr(e,t))}const ss={USER_NOT_FOUND:"user-not-found"};class as extends $i{constructor(e){super("phone","phone"),this.params=e}static _fromVerification(e,t){return new as({verificationId:e,verificationCode:t})}static _fromTokenResponse(e,t){return new as({phoneNumber:e,temporaryProof:t})}_getIdTokenResponse(e){return async function(e,t){return Qr(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,t))}(e,this._makeVerificationRequest())}_linkToIdToken(e,t){return async function(e,t){const n=await Qr(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,t));if(n.temporaryProof)throw Zr(e,"account-exists-with-different-credential",n);return n}(e,Object.assign({idToken:t},this._makeVerificationRequest()))}_getReauthenticationResolver(e){return async function(e,t){return Qr(e,"POST","/v1/accounts:signInWithPhoneNumber",Gr(e,Object.assign(Object.assign({},t),{operation:"REAUTH"})),ss)}(e,this._makeVerificationRequest())}_makeVerificationRequest(){const{temporaryProof:e,phoneNumber:t,verificationId:n,verificationCode:r}=this.params;return e&&t?{temporaryProof:e,phoneNumber:t}:{sessionInfo:n,code:r}}toJSON(){const e={providerId:this.providerId};return this.params.phoneNumber&&(e.phoneNumber=this.params.phoneNumber),this.params.temporaryProof&&(e.temporaryProof=this.params.temporaryProof),this.params.verificationCode&&(e.verificationCode=this.params.verificationCode),this.params.verificationId&&(e.verificationId=this.params.verificationId),e}static fromJSON(e){"string"===typeof e&&(e=JSON.parse(e));const{verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}=e;return n||t||r||i?new as({verificationId:t,verificationCode:n,phoneNumber:r,temporaryProof:i}):null}}class os{constructor(e){var t,n,r,i,s,a;const o=Ut(Wt(e)),l=null!==(t=o.apiKey)&&void 0!==t?t:null,c=null!==(n=o.oobCode)&&void 0!==n?n:null,u=function(e){switch(e){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}(null!==(r=o.mode)&&void 0!==r?r:null);Lr(l&&c&&u,"argument-error"),this.apiKey=l,this.operation=u,this.code=c,this.continueUrl=null!==(i=o.continueUrl)&&void 0!==i?i:null,this.languageCode=null!==(s=o.languageCode)&&void 0!==s?s:null,this.tenantId=null!==(a=o.tenantId)&&void 0!==a?a:null}static parseLink(e){const t=function(e){const t=Ut(Wt(e)).link,n=t?Ut(Wt(t)).deep_link_id:null,r=Ut(Wt(e)).deep_link_id;return(r?Ut(Wt(r)).link:null)||r||n||t||e}(e);try{return new os(t)}catch(n){return null}}}class ls{constructor(){this.providerId=ls.PROVIDER_ID}static credential(e,t){return ts._fromEmailAndPassword(e,t)}static credentialWithLink(e,t){const n=os.parseLink(t);return Lr(n,"argument-error"),ts._fromEmailAndCode(e,n.code,n.tenantId)}}ls.PROVIDER_ID="password",ls.EMAIL_PASSWORD_SIGN_IN_METHOD="password",ls.EMAIL_LINK_SIGN_IN_METHOD="emailLink";class cs{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}class us extends cs{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}class hs extends us{constructor(){super("facebook.com")}static credential(e){return rs._fromParams({providerId:hs.PROVIDER_ID,signInMethod:hs.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return hs.credentialFromTaggedObject(e)}static credentialFromError(e){return hs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return hs.credential(t.oauthAccessToken)}catch(n){return null}}}hs.FACEBOOK_SIGN_IN_METHOD="facebook.com",hs.PROVIDER_ID="facebook.com";class ds extends us{constructor(){super("google.com"),this.addScope("profile")}static credential(e,t){return rs._fromParams({providerId:ds.PROVIDER_ID,signInMethod:ds.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:t})}static credentialFromResult(e){return ds.credentialFromTaggedObject(e)}static credentialFromError(e){return ds.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthIdToken:n,oauthAccessToken:r}=t;if(!n&&!r)return null;try{return ds.credential(n,r)}catch(i){return null}}}ds.GOOGLE_SIGN_IN_METHOD="google.com",ds.PROVIDER_ID="google.com";class ps extends us{constructor(){super("github.com")}static credential(e){return rs._fromParams({providerId:ps.PROVIDER_ID,signInMethod:ps.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ps.credentialFromTaggedObject(e)}static credentialFromError(e){return ps.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t||!("oauthAccessToken"in t))return null;if(!t.oauthAccessToken)return null;try{return ps.credential(t.oauthAccessToken)}catch(n){return null}}}ps.GITHUB_SIGN_IN_METHOD="github.com",ps.PROVIDER_ID="github.com";class fs extends us{constructor(){super("twitter.com")}static credential(e,t){return rs._fromParams({providerId:fs.PROVIDER_ID,signInMethod:fs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:t})}static credentialFromResult(e){return fs.credentialFromTaggedObject(e)}static credentialFromError(e){return fs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=t;if(!n||!r)return null;try{return fs.credential(n,r)}catch(i){return null}}}fs.TWITTER_SIGN_IN_METHOD="twitter.com",fs.PROVIDER_ID="twitter.com";class gs{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const i=await gi._fromIdTokenResponse(e,n,r),s=ms(n);return new gs({user:i,providerId:s,_tokenResponse:n,operationType:t})}static async _forOperation(e,t,n){await e._updateTokensIfNecessary(n,!0);const r=ms(n);return new gs({user:e,providerId:r,_tokenResponse:n,operationType:t})}}function ms(e){return e.providerId?e.providerId:"phoneNumber"in e?"phone":null}class vs extends Ot{constructor(e,t,n,r){var i;super(t.code,t.message),this.operationType=n,this.user=r,Object.setPrototypeOf(this,vs.prototype),this.customData={appName:e.name,tenantId:null!==(i=e.tenantId)&&void 0!==i?i:void 0,_serverResponse:t.customData._serverResponse,operationType:n}}static _fromErrorAndOperation(e,t,n,r){return new vs(e,t,n,r)}}function ys(e,t,n,r){return("reauthenticate"===t?n._getReauthenticationResolver(e):n._getIdTokenResponse(e)).catch((n=>{if(n.code==="auth/".concat("multi-factor-auth-required"))throw vs._fromErrorAndOperation(e,n,t,r);throw n}))}async function bs(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const r=await li(e,t._linkToIdToken(e.auth,await e.getIdToken()),n);return gs._forOperation(e,"link",r)}async function ws(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];const{auth:r}=e;if(ar(r.app))return Promise.reject(Pr(r));const i="reauthenticate";try{const s=await li(e,ys(r,i,t,e),n);Lr(s.idToken,r,"internal-error");const a=ai(s.idToken);Lr(a,r,"internal-error");const{sub:o}=a;return Lr(e.uid===o,r,"user-mismatch"),gs._forOperation(e,i,s)}catch(ez){throw(null===ez||void 0===ez?void 0:ez.code)==="auth/".concat("user-not-found")&&Ir(r,"user-mismatch"),ez}}async function _s(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ar(e.app))return Promise.reject(Pr(e));const r="signIn",i=await ys(e,r,t),s=await gs._fromIdTokenResponse(e,r,i);return n||await e._updateCurrentUser(s.user),s}async function Ss(e,t){return _s(Fi(e),t)}async function Es(e){const t=Fi(e);t._getPasswordPolicyInternal()&&await t._updatePasswordPolicy()}function As(e,t){return Kr(e,"POST","/v2/accounts/mfaEnrollment:start",Gr(e,t))}new WeakMap;const ks="__sak";class xs{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(ks,"1"),this.storage.removeItem(ks),Promise.resolve(!0)):Promise.resolve(!1)}catch(e){return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){const t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}class Cs extends xs{constructor(){super((()=>window.localStorage),"LOCAL"),this.boundEventHandler=(e,t)=>this.onStorageEvent(e,t),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=Pi(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const t of Object.keys(this.listeners)){const n=this.storage.getItem(t),r=this.localCache[t];n!==r&&e(t,r,n)}}onStorageEvent(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];if(!e.key)return void this.forAllChangedKeys(((e,t,n)=>{this.notifyListeners(e,n)}));const n=e.key;t?this.detachListener():this.stopPolling();const r=()=>{const e=this.storage.getItem(n);(t||this.localCache[n]!==e)&&this.notifyListeners(n,e)},i=this.storage.getItem(n);Mi()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(r,10):r()}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t?JSON.parse(t):t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((()=>{this.forAllChangedKeys(((e,t,n)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:t,newValue:n}),!0)}))}),1e3)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,t){0===Object.keys(this.listeners).length&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&(this.detachListener(),this.stopPolling())}async _set(e,t){await super._set(e,t),this.localCache[e]=JSON.stringify(t)}async _get(e){const t=await super._get(e);return this.localCache[e]=JSON.stringify(t),t}async _remove(e){await super._remove(e),delete this.localCache[e]}}Cs.type="LOCAL";const Ts=Cs;class Is extends xs{constructor(){super((()=>window.sessionStorage),"SESSION")}_addListener(e,t){}_removeListener(e,t){}}Is.type="SESSION";const Rs=Is;class Ms{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const t=this.receivers.find((t=>t.isListeningto(e)));if(t)return t;const n=new Ms(e);return this.receivers.push(n),n}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const t=e,{eventId:n,eventType:r,data:i}=t.data,s=this.handlersMap[r];if(!(null===s||void 0===s?void 0:s.size))return;t.ports[0].postMessage({status:"ack",eventId:n,eventType:r});const a=Array.from(s).map((async e=>e(t.origin,i))),o=await function(e){return Promise.all(e.map((async e=>{try{return{fulfilled:!0,value:await e}}catch(t){return{fulfilled:!1,reason:t}}})))}(a);t.ports[0].postMessage({status:"done",eventId:n,eventType:r,response:o})}_subscribe(e,t){0===Object.keys(this.handlersMap).length&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(t)}_unsubscribe(e,t){this.handlersMap[e]&&t&&this.handlersMap[e].delete(t),t&&0!==this.handlersMap[e].size||delete this.handlersMap[e],0===Object.keys(this.handlersMap).length&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}function Ps(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:10,n="";for(let r=0;r<t;r++)n+=Math.floor(10*Math.random());return e+n}Ms.receivers=[];class Ns{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:50;const r="undefined"!==typeof MessageChannel?new MessageChannel:null;if(!r)throw new Error("connection_unavailable");let i,s;return new Promise(((a,o)=>{const l=Ps("",20);r.port1.start();const c=setTimeout((()=>{o(new Error("unsupported_event"))}),n);s={messageChannel:r,onMessage(e){const t=e;if(t.data.eventId===l)switch(t.data.status){case"ack":clearTimeout(c),i=setTimeout((()=>{o(new Error("timeout"))}),3e3);break;case"done":clearTimeout(i),a(t.data.response);break;default:clearTimeout(c),clearTimeout(i),o(new Error("invalid_response"))}}},this.handlers.add(s),r.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:l,data:t},[r.port2])})).finally((()=>{s&&this.removeMessageHandler(s)}))}}function Ls(){return window}function Ds(){return"undefined"!==typeof Ls().WorkerGlobalScope&&"function"===typeof Ls().importScripts}const Os="firebaseLocalStorageDb",Fs="firebaseLocalStorage",js="fbase_key";class Bs{constructor(e){this.request=e}toPromise(){return new Promise(((e,t)=>{this.request.addEventListener("success",(()=>{e(this.request.result)})),this.request.addEventListener("error",(()=>{t(this.request.error)}))}))}}function zs(e,t){return e.transaction([Fs],t?"readwrite":"readonly").objectStore(Fs)}function Vs(){const e=indexedDB.open(Os,1);return new Promise(((t,n)=>{e.addEventListener("error",(()=>{n(e.error)})),e.addEventListener("upgradeneeded",(()=>{const t=e.result;try{t.createObjectStore(Fs,{keyPath:js})}catch(ez){n(ez)}})),e.addEventListener("success",(async()=>{const n=e.result;n.objectStoreNames.contains(Fs)?t(n):(n.close(),await function(){const e=indexedDB.deleteDatabase(Os);return new Bs(e).toPromise()}(),t(await Vs()))}))}))}async function Us(e,t,n){const r=zs(e,!0).put({[js]:t,value:n});return new Bs(r).toPromise()}function Ws(e,t){const n=zs(e,!0).delete(t);return new Bs(n).toPromise()}class Hs{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then((()=>{}),(()=>{}))}async _openDb(){return this.db||(this.db=await Vs()),this.db}async _withRetries(e){let t=0;for(;;)try{const t=await this._openDb();return await e(t)}catch(ez){if(t++>3)throw ez;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return Ds()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Ms._getInstance(Ds()?self:null),this.receiver._subscribe("keyChanged",(async(e,t)=>({keyProcessed:(await this._poll()).includes(t.key)}))),this.receiver._subscribe("ping",(async(e,t)=>["keyChanged"]))}async initializeSender(){var e,t;if(this.activeServiceWorker=await async function(){if(!(null===navigator||void 0===navigator?void 0:navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch(e){return null}}(),!this.activeServiceWorker)return;this.sender=new Ns(this.activeServiceWorker);const n=await this.sender._send("ping",{},800);n&&(null===(e=n[0])||void 0===e?void 0:e.fulfilled)&&(null===(t=n[0])||void 0===t?void 0:t.value.includes("keyChanged"))&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(this.sender&&this.activeServiceWorker&&function(){var e;return(null===(e=null===navigator||void 0===navigator?void 0:navigator.serviceWorker)||void 0===e?void 0:e.controller)||null}()===this.activeServiceWorker)try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch(t){}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Vs();return await Us(e,ks,"1"),await Ws(e,ks),!0}catch(e){}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,t){return this._withPendingWrite((async()=>(await this._withRetries((n=>Us(n,e,t))),this.localCache[e]=t,this.notifyServiceWorker(e))))}async _get(e){const t=await this._withRetries((t=>async function(e,t){const n=zs(e,!1).get(t),r=await new Bs(n).toPromise();return void 0===r?null:r.value}(t,e)));return this.localCache[e]=t,t}async _remove(e){return this._withPendingWrite((async()=>(await this._withRetries((t=>Ws(t,e))),delete this.localCache[e],this.notifyServiceWorker(e))))}async _poll(){const e=await this._withRetries((e=>{const t=zs(e,!1).getAll();return new Bs(t).toPromise()}));if(!e)return[];if(0!==this.pendingWrites)return[];const t=[],n=new Set;if(0!==e.length)for(const{fbase_key:r,value:i}of e)n.add(r),JSON.stringify(this.localCache[r])!==JSON.stringify(i)&&(this.notifyListeners(r,i),t.push(r));for(const r of Object.keys(this.localCache))this.localCache[r]&&!n.has(r)&&(this.notifyListeners(r,null),t.push(r));return t}notifyListeners(e,t){this.localCache[e]=t;const n=this.listeners[e];if(n)for(const r of Array.from(n))r(t)}startPolling(){this.stopPolling(),this.pollTimer=setInterval((async()=>this._poll()),800)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,t){0===Object.keys(this.listeners).length&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(t)}_removeListener(e,t){this.listeners[e]&&(this.listeners[e].delete(t),0===this.listeners[e].size&&delete this.listeners[e]),0===Object.keys(this.listeners).length&&this.stopPolling()}}Hs.type="LOCAL";const qs=Hs;function Gs(e,t){return Kr(e,"POST","/v2/accounts/mfaSignIn:start",Gr(e,t))}Vi("rcb"),new Vr(3e4,6e4);const Ks="recaptcha";async function Xs(e,t,n){var r;if(!e._getRecaptchaConfig())try{await Xi(e)}catch(i){console.log("Failed to initialize reCAPTCHA Enterprise config. Triggering the reCAPTCHA v2 verification.")}try{let i;if(i="string"===typeof t?{phoneNumber:t}:t,"session"in i){const t=i.session;if("phoneNumber"in i){Lr("enroll"===t.type,e,"internal-error");const r={idToken:t.credential,phoneEnrollmentInfo:{phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"}},s=Ki(e,r,"mfaSmsEnrollment",(async(e,t)=>{if(t.phoneEnrollmentInfo.captchaResponse===Hi){Lr((null===n||void 0===n?void 0:n.type)===Ks,e,"argument-error");return As(e,await Qs(e,t,n))}return As(e,t)}),"PHONE_PROVIDER");return(await s.catch((e=>Promise.reject(e)))).phoneSessionInfo.sessionInfo}{Lr("signin"===t.type,e,"internal-error");const s=(null===(r=i.multiFactorHint)||void 0===r?void 0:r.uid)||i.multiFactorUid;Lr(s,e,"missing-multi-factor-info");const a={mfaPendingCredential:t.credential,mfaEnrollmentId:s,phoneSignInInfo:{clientType:"CLIENT_TYPE_WEB"}},o=Ki(e,a,"mfaSmsSignIn",(async(e,t)=>{if(t.phoneSignInInfo.captchaResponse===Hi){Lr((null===n||void 0===n?void 0:n.type)===Ks,e,"argument-error");return Gs(e,await Qs(e,t,n))}return Gs(e,t)}),"PHONE_PROVIDER");return(await o.catch((e=>Promise.reject(e)))).phoneResponseInfo.sessionInfo}}{const t={phoneNumber:i.phoneNumber,clientType:"CLIENT_TYPE_WEB"},r=Ki(e,t,"sendVerificationCode",(async(e,t)=>{if(t.captchaResponse===Hi){Lr((null===n||void 0===n?void 0:n.type)===Ks,e,"argument-error");return is(e,await Qs(e,t,n))}return is(e,t)}),"PHONE_PROVIDER");return(await r.catch((e=>Promise.reject(e)))).sessionInfo}}finally{null===n||void 0===n||n._reset()}}async function Qs(e,t,n){Lr(n.type===Ks,e,"argument-error");const r=await n.verify();Lr("string"===typeof r,e,"argument-error");const i=Object.assign({},t);if("phoneEnrollmentInfo"in i){const e=i.phoneEnrollmentInfo.phoneNumber,t=i.phoneEnrollmentInfo.captchaResponse,n=i.phoneEnrollmentInfo.clientType,s=i.phoneEnrollmentInfo.recaptchaVersion;return Object.assign(i,{phoneEnrollmentInfo:{phoneNumber:e,recaptchaToken:r,captchaResponse:t,clientType:n,recaptchaVersion:s}}),i}if("phoneSignInInfo"in i){const e=i.phoneSignInInfo.captchaResponse,t=i.phoneSignInInfo.clientType,n=i.phoneSignInInfo.recaptchaVersion;return Object.assign(i,{phoneSignInInfo:{recaptchaToken:r,captchaResponse:e,clientType:t,recaptchaVersion:n}}),i}return Object.assign(i,{recaptchaToken:r}),i}class Ys{constructor(e){this.providerId=Ys.PROVIDER_ID,this.auth=Fi(e)}verifyPhoneNumber(e,t){return Xs(this.auth,e,Gt(t))}static credential(e,t){return as._fromVerification(e,t)}static credentialFromResult(e){const t=e;return Ys.credentialFromTaggedObject(t)}static credentialFromError(e){return Ys.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject(e){let{_tokenResponse:t}=e;if(!t)return null;const{phoneNumber:n,temporaryProof:r}=t;return n&&r?as._fromTokenResponse(n,r):null}}function Js(e,t){return t?vi(t):(Lr(e._popupRedirectResolver,e,"argument-error"),e._popupRedirectResolver)}Ys.PROVIDER_ID="phone",Ys.PHONE_SIGN_IN_METHOD="phone";class $s extends $i{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return ns(e,this._buildIdpRequest())}_linkToIdToken(e,t){return ns(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return ns(e,this._buildIdpRequest())}_buildIdpRequest(e){const t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}}function Zs(e){return _s(e.auth,new $s(e),e.bypassAuthState)}function ea(e){const{auth:t,user:n}=e;return Lr(n,t,"internal-error"),ws(n,new $s(e),e.bypassAuthState)}async function ta(e){const{auth:t,user:n}=e;return Lr(n,t,"internal-error"),bs(n,new $s(e),e.bypassAuthState)}class na{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]&&arguments[4];this.auth=e,this.resolver=n,this.user=r,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((async(e,t)=>{this.pendingPromise={resolve:e,reject:t};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(ez){this.reject(ez)}}))}async onAuthEvent(e){const{urlResponse:t,sessionId:n,postBody:r,tenantId:i,error:s,type:a}=e;if(s)return void this.reject(s);const o={auth:this.auth,requestUri:t,sessionId:n,tenantId:i||void 0,postBody:r||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(o))}catch(ez){this.reject(ez)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return Zs;case"linkViaPopup":case"linkViaRedirect":return ta;case"reauthViaPopup":case"reauthViaRedirect":return ea;default:Ir(this.auth,"internal-error")}}resolve(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Or(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}const ra=new Vr(2e3,1e4);class ia extends na{constructor(e,t,n,r,i){super(e,t,r,i),this.provider=n,this.authWindow=null,this.pollId=null,ia.currentPopupAction&&ia.currentPopupAction.cancel(),ia.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return Lr(e,this.auth,"internal-error"),e}async onExecution(){Or(1===this.filter.length,"Popup operations only handle one event");const e=Ps();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch((e=>{this.reject(e)})),this.resolver._isIframeWebStorageSupported(this.auth,(e=>{e||this.reject(Rr(this.auth,"web-storage-unsupported"))})),this.pollUserCancellation()}get eventId(){var e;return(null===(e=this.authWindow)||void 0===e?void 0:e.associatedEvent)||null}cancel(){this.reject(Rr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ia.currentPopupAction=null}pollUserCancellation(){const e=()=>{var t,n;(null===(n=null===(t=this.authWindow)||void 0===t?void 0:t.window)||void 0===n?void 0:n.closed)?this.pollId=window.setTimeout((()=>{this.pollId=null,this.reject(Rr(this.auth,"popup-closed-by-user"))}),8e3):this.pollId=window.setTimeout(e,ra.get())};e()}}ia.currentPopupAction=null;const sa=new Map;class aa extends na{constructor(e,t){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,arguments.length>2&&void 0!==arguments[2]&&arguments[2]),this.eventId=null}async execute(){let e=sa.get(this.auth._key());if(!e){try{const t=await async function(e,t){const n=ca(t),r=la(e);if(!await r._isAvailable())return!1;const i="true"===await r._get(n);return await r._remove(n),i}(this.resolver,this.auth),n=t?await super.execute():null;e=()=>Promise.resolve(n)}catch(ez){e=()=>Promise.reject(ez)}sa.set(this.auth._key(),e)}return this.bypassAuthState||sa.set(this.auth._key(),(()=>Promise.resolve(null))),e()}async onAuthEvent(e){if("signInViaRedirect"===e.type)return super.onAuthEvent(e);if("unknown"!==e.type){if(e.eventId){const t=await this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,super.onAuthEvent(e);this.resolve(null)}}else this.resolve(null)}async onExecution(){}cleanUp(){}}function oa(e,t){sa.set(e._key(),t)}function la(e){return vi(e._redirectPersistence)}function ca(e){return wi("pendingRedirect",e.config.apiKey,e.name)}async function ua(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(ar(e.app))return Promise.reject(Pr(e));const r=Fi(e),i=Js(r,t),s=new aa(r,i,n),a=await s.execute();return a&&!n&&(delete a.user._redirectEventId,await r._persistUserIfCurrent(a.user),await r._setRedirectUser(null,t)),a}class ha{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach((n=>{this.isEventForConsumer(e,n)&&(t=!0,this.sendToConsumer(e,n),this.saveEventToCache(e))})),this.hasHandledPotentialRedirect||!function(e){switch(e.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pa(e);default:return!1}}(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var n;if(e.error&&!pa(e)){const r=(null===(n=e.error.code)||void 0===n?void 0:n.split("auth/")[1])||"internal-error";t.onError(Rr(this.auth,r))}else t.onAuthEvent(e)}isEventForConsumer(e,t){const n=null===t.eventId||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&n}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=6e5&&this.cachedEventUids.clear(),this.cachedEventUids.has(da(e))}saveEventToCache(e){this.cachedEventUids.add(da(e)),this.lastProcessedEventTime=Date.now()}}function da(e){return[e.type,e.eventId,e.sessionId,e.tenantId].filter((e=>e)).join("-")}function pa(e){let{type:t,error:n}=e;return"unknown"===t&&(null===n||void 0===n?void 0:n.code)==="auth/".concat("no-auth-event")}const fa=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,ga=/^https?/;async function ma(e){if(e.config.emulator)return;const{authorizedDomains:t}=await async function(e){return Kr(e,"GET","/v1/projects",arguments.length>1&&void 0!==arguments[1]?arguments[1]:{})}(e);for(const r of t)try{if(va(r))return}catch(n){}Ir(e,"unauthorized-domain")}function va(e){const t=Fr(),{protocol:n,hostname:r}=new URL(t);if(e.startsWith("chrome-extension://")){const i=new URL(e);return""===i.hostname&&""===r?"chrome-extension:"===n&&e.replace("chrome-extension://","")===t.replace("chrome-extension://",""):"chrome-extension:"===n&&i.hostname===r}if(!ga.test(n))return!1;if(fa.test(e))return r===e;const i=e.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}const ya=new Vr(3e4,6e4);function ba(){const e=Ls().___jsl;if(null===e||void 0===e?void 0:e.H)for(const t of Object.keys(e.H))if(e.H[t].r=e.H[t].r||[],e.H[t].L=e.H[t].L||[],e.H[t].r=[...e.H[t].L],e.CP)for(let n=0;n<e.CP.length;n++)e.CP[n]=null}function wa(e){return new Promise(((t,n)=>{var r,i,s;function a(){ba(),gapi.load("gapi.iframes",{callback:()=>{t(gapi.iframes.getContext())},ontimeout:()=>{ba(),n(Rr(e,"network-request-failed"))},timeout:ya.get()})}if(null===(i=null===(r=Ls().gapi)||void 0===r?void 0:r.iframes)||void 0===i?void 0:i.Iframe)t(gapi.iframes.getContext());else{if(!(null===(s=Ls().gapi)||void 0===s?void 0:s.load)){const t=Vi("iframefcb");return Ls()[t]=()=>{gapi.load?a():n(Rr(e,"network-request-failed"))},zi("".concat(Bi.gapiScript,"?onload=").concat(t)).catch((e=>n(e)))}a()}})).catch((e=>{throw _a=null,e}))}let _a=null;const Sa=new Vr(5e3,15e3),Ea={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},Aa=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function ka(e){const t=e.config;Lr(t.authDomain,e,"auth-domain-config-required");const n=t.emulator?Ur(t,"emulator/auth/iframe"):"https://".concat(e.config.authDomain,"/").concat("__/auth/iframe"),r={apiKey:t.apiKey,appName:e.name,v:cr},i=Aa.get(e.config.apiHost);i&&(r.eid=i);const s=e._getFrameworks();return s.length&&(r.fw=s.join(",")),"".concat(n,"?").concat(Vt(r).slice(1))}async function xa(e){const t=await function(e){return _a=_a||wa(e),_a}(e),n=Ls().gapi;return Lr(n,e,"internal-error"),t.open({where:document.body,url:ka(e),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:Ea,dontclear:!0},(t=>new Promise((async(n,r)=>{await t.restyle({setHideOnLeave:!1});const i=Rr(e,"network-request-failed"),s=Ls().setTimeout((()=>{r(i)}),Sa.get());function a(){Ls().clearTimeout(s),n(t)}t.ping(a).then(a,(()=>{r(i)}))}))))}const Ca={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"};class Ta{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch(ez){}}}function Ia(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:500,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:600;const s=Math.max((window.screen.availHeight-i)/2,0).toString(),a=Math.max((window.screen.availWidth-r)/2,0).toString();let o="";const l=Object.assign(Object.assign({},Ca),{width:r.toString(),height:i.toString(),top:s,left:a}),c=Nt().toLowerCase();n&&(o=ki(c)?"_blank":n),Ei(c)&&(t=t||"http://localhost",l.scrollbars="yes");const u=Object.entries(l).reduce(((e,t)=>{let[n,r]=t;return"".concat(e).concat(n,"=").concat(r,",")}),"");if(function(){var e;return Ri(arguments.length>0&&void 0!==arguments[0]?arguments[0]:Nt())&&!!(null===(e=window.navigator)||void 0===e?void 0:e.standalone)}(c)&&"_self"!==o)return function(e,t){const n=document.createElement("a");n.href=e,n.target=t;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}(t||"",o),new Ta(null);const h=window.open(t||"",o,u);Lr(h,e,"popup-blocked");try{h.focus()}catch(ez){}return new Ta(h)}const Ra="__/auth/handler",Ma="emulator/auth/handler",Pa=encodeURIComponent("fac");async function Na(e,t,n,r,i,s){Lr(e.config.authDomain,e,"auth-domain-config-required"),Lr(e.config.apiKey,e,"invalid-api-key");const a={apiKey:e.config.apiKey,appName:e.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(t instanceof cs){t.setDefaultLanguage(e.languageCode),a.providerId=t.providerId||"",function(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}(t.getCustomParameters())||(a.customParameters=JSON.stringify(t.getCustomParameters()));for(const[e,t]of Object.entries(s||{}))a[e]=t}if(t instanceof us){const e=t.getScopes().filter((e=>""!==e));e.length>0&&(a.scopes=e.join(","))}e.tenantId&&(a.tid=e.tenantId);const o=a;for(const u of Object.keys(o))void 0===o[u]&&delete o[u];const l=await e._getAppCheckToken(),c=l?"#".concat(Pa,"=").concat(encodeURIComponent(l)):"";return"".concat(function(e){let{config:t}=e;if(!t.emulator)return"https://".concat(t.authDomain,"/").concat(Ra);return Ur(t,Ma)}(e),"?").concat(Vt(o).slice(1)).concat(c)}const La="webStorageSupport";const Da=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Rs,this._completeRedirectFn=ua,this._overrideRedirectResult=oa}async _openPopup(e,t,n,r){var i;Or(null===(i=this.eventManagers[e._key()])||void 0===i?void 0:i.manager,"_initialize() not called before _openPopup()");return Ia(e,await Na(e,t,n,Fr(),r),Ps())}async _openRedirect(e,t,n,r){await this._originValidation(e);return function(e){Ls().location.href=e}(await Na(e,t,n,Fr(),r)),new Promise((()=>{}))}_initialize(e){const t=e._key();if(this.eventManagers[t]){const{manager:e,promise:n}=this.eventManagers[t];return e?Promise.resolve(e):(Or(n,"If manager is not set, promise should be"),n)}const n=this.initAndGetManager(e);return this.eventManagers[t]={promise:n},n.catch((()=>{delete this.eventManagers[t]})),n}async initAndGetManager(e){const t=await xa(e),n=new ha(e);return t.register("authEvent",(t=>{Lr(null===t||void 0===t?void 0:t.authEvent,e,"invalid-auth-event");return{status:n.onEvent(t.authEvent)?"ACK":"ERROR"}}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:n},this.iframes[e._key()]=t,n}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(La,{type:La},(n=>{var r;const i=null===(r=null===n||void 0===n?void 0:n[0])||void 0===r?void 0:r[La];void 0!==i&&t(!!i),Ir(e,"internal-error")}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=ma(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return Pi()||Ai()||Ri()}};var Oa="@firebase/auth",Fa="1.8.1";class ja{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),(null===(e=this.auth.currentUser)||void 0===e?void 0:e.uid)||null}async getToken(e){if(this.assertAuthConfigured(),await this.auth._initializationPromise,!this.auth.currentUser)return null;return{accessToken:await this.auth.currentUser.getIdToken(e)}}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const t=this.auth.onIdTokenChanged((t=>{e((null===t||void 0===t?void 0:t.stsTokenManager.accessToken)||null)}));this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Lr(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}const Ba=Mt("authIdTokenMaxAge")||300;let za=null;var Va;Bi={loadJS:e=>new Promise(((t,n)=>{const r=document.createElement("script");r.setAttribute("src",e),r.onload=t,r.onerror=e=>{const t=Rr("internal-error");t.customData=e,n(t)},r.type="text/javascript",r.charset="UTF-8",function(){var e,t;return null!==(t=null===(e=document.getElementsByTagName("head"))||void 0===e?void 0:e[0])&&void 0!==t?t:document}().appendChild(r)})),gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="},Va="Browser",ir(new Kt("auth",((e,t)=>{let{options:n}=t;const r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:a,authDomain:o}=r.options;Lr(a&&!a.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:a,authDomain:o,clientPlatform:Va,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:Ni(Va)},c=new Oi(r,i,s,l);return function(e,t){const n=(null===t||void 0===t?void 0:t.persistence)||[],r=(Array.isArray(n)?n:[n]).map(vi);(null===t||void 0===t?void 0:t.errorMap)&&e._updateErrorMap(t.errorMap),e._initializeWithPersistence(r,null===t||void 0===t?void 0:t.popupRedirectResolver)}(c,n),c}),"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback(((e,t,n)=>{e.getProvider("auth-internal").initialize()}))),ir(new Kt("auth-internal",(e=>(e=>new ja(e))(Fi(e.getProvider("auth").getImmediate()))),"PRIVATE").setInstantiationMode("EXPLICIT")),dr(Oa,Fa,function(e){switch(e){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}(Va)),dr(Oa,Fa,"esm2017");dr("firebase","11.1.0","app");var Ua,Wa,Ha="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},qa={};(function(){var e;function t(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}function n(e,t,n){n||(n=0);var r=Array(16);if("string"===typeof t)for(var i=0;16>i;++i)r[i]=t.charCodeAt(n++)|t.charCodeAt(n++)<<8|t.charCodeAt(n++)<<16|t.charCodeAt(n++)<<24;else for(i=0;16>i;++i)r[i]=t[n++]|t[n++]<<8|t[n++]<<16|t[n++]<<24;t=e.g[0],n=e.g[1],i=e.g[2];var s=e.g[3],a=t+(s^n&(i^s))+r[0]+3614090360&4294967295;a=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=(n=(i=(s=(t=n+(a<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[1]+3905402710&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[2]+606105819&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[3]+3250441966&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[4]+4118548399&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[5]+1200080426&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[6]+2821735955&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[7]+4249261313&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[8]+1770035416&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[9]+2336552879&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[10]+4294925233&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[11]+2304563134&4294967295)<<22&4294967295|a>>>10))+((a=t+(s^n&(i^s))+r[12]+1804603682&4294967295)<<7&4294967295|a>>>25))+((a=s+(i^t&(n^i))+r[13]+4254626195&4294967295)<<12&4294967295|a>>>20))+((a=i+(n^s&(t^n))+r[14]+2792965006&4294967295)<<17&4294967295|a>>>15))+((a=n+(t^i&(s^t))+r[15]+1236535329&4294967295)<<22&4294967295|a>>>10))+((a=t+(i^s&(n^i))+r[1]+4129170786&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[6]+3225465664&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[11]+643717713&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[0]+3921069994&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[5]+3593408605&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[10]+38016083&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[15]+3634488961&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[4]+3889429448&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[9]+568446438&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[14]+3275163606&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[3]+4107603335&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[8]+1163531501&4294967295)<<20&4294967295|a>>>12))+((a=t+(i^s&(n^i))+r[13]+2850285829&4294967295)<<5&4294967295|a>>>27))+((a=s+(n^i&(t^n))+r[2]+4243563512&4294967295)<<9&4294967295|a>>>23))+((a=i+(t^n&(s^t))+r[7]+1735328473&4294967295)<<14&4294967295|a>>>18))+((a=n+(s^t&(i^s))+r[12]+2368359562&4294967295)<<20&4294967295|a>>>12))+((a=t+(n^i^s)+r[5]+4294588738&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[8]+2272392833&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[11]+1839030562&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[14]+4259657740&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[1]+2763975236&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[4]+1272893353&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[7]+4139469664&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[10]+3200236656&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[13]+681279174&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[0]+3936430074&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[3]+3572445317&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[6]+76029189&4294967295)<<23&4294967295|a>>>9))+((a=t+(n^i^s)+r[9]+3654602809&4294967295)<<4&4294967295|a>>>28))+((a=s+(t^n^i)+r[12]+3873151461&4294967295)<<11&4294967295|a>>>21))+((a=i+(s^t^n)+r[15]+530742520&4294967295)<<16&4294967295|a>>>16))+((a=n+(i^s^t)+r[2]+3299628645&4294967295)<<23&4294967295|a>>>9))+((a=t+(i^(n|~s))+r[0]+4096336452&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[7]+1126891415&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[14]+2878612391&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[5]+4237533241&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[12]+1700485571&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[3]+2399980690&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[10]+4293915773&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[1]+2240044497&4294967295)<<21&4294967295|a>>>11))+((a=t+(i^(n|~s))+r[8]+1873313359&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[15]+4264355552&4294967295)<<10&4294967295|a>>>22))+((a=i+(t^(s|~n))+r[6]+2734768916&4294967295)<<15&4294967295|a>>>17))+((a=n+(s^(i|~t))+r[13]+1309151649&4294967295)<<21&4294967295|a>>>11))+((s=(t=n+((a=t+(i^(n|~s))+r[4]+4149444226&4294967295)<<6&4294967295|a>>>26))+((a=s+(n^(t|~i))+r[11]+3174756917&4294967295)<<10&4294967295|a>>>22))^((i=s+((a=i+(t^(s|~n))+r[2]+718787259&4294967295)<<15&4294967295|a>>>17))|~t))+r[9]+3951481745&4294967295,e.g[0]=e.g[0]+t&4294967295,e.g[1]=e.g[1]+(i+(a<<21&4294967295|a>>>11))&4294967295,e.g[2]=e.g[2]+i&4294967295,e.g[3]=e.g[3]+s&4294967295}function r(e,t){this.h=t;for(var n=[],r=!0,i=e.length-1;0<=i;i--){var s=0|e[i];r&&s==t||(n[i]=s,r=!1)}this.g=n}!function(e,t){function n(){}n.prototype=t.prototype,e.D=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.C=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}(t,(function(){this.blockSize=-1})),t.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0},t.prototype.u=function(e,t){void 0===t&&(t=e.length);for(var r=t-this.blockSize,i=this.B,s=this.h,a=0;a<t;){if(0==s)for(;a<=r;)n(this,e,a),a+=this.blockSize;if("string"===typeof e){for(;a<t;)if(i[s++]=e.charCodeAt(a++),s==this.blockSize){n(this,i),s=0;break}}else for(;a<t;)if(i[s++]=e[a++],s==this.blockSize){n(this,i),s=0;break}}this.h=s,this.o+=t},t.prototype.v=function(){var e=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);e[0]=128;for(var t=1;t<e.length-8;++t)e[t]=0;var n=8*this.o;for(t=e.length-8;t<e.length;++t)e[t]=255&n,n/=256;for(this.u(e),e=Array(16),t=n=0;4>t;++t)for(var r=0;32>r;r+=8)e[n++]=this.g[t]>>>r&255;return e};var i={};function s(e){return-128<=e&&128>e?function(e,t){var n=i;return Object.prototype.hasOwnProperty.call(n,e)?n[e]:n[e]=t(e)}(e,(function(e){return new r([0|e],0>e?-1:0)})):new r([0|e],0>e?-1:0)}function a(e){if(isNaN(e)||!isFinite(e))return o;if(0>e)return d(a(-e));for(var t=[],n=1,i=0;e>=n;i++)t[i]=e/n|0,n*=4294967296;return new r(t,0)}var o=s(0),l=s(1),c=s(16777216);function u(e){if(0!=e.h)return!1;for(var t=0;t<e.g.length;t++)if(0!=e.g[t])return!1;return!0}function h(e){return-1==e.h}function d(e){for(var t=e.g.length,n=[],i=0;i<t;i++)n[i]=~e.g[i];return new r(n,~e.h).add(l)}function p(e,t){return e.add(d(t))}function f(e,t){for(;(65535&e[t])!=e[t];)e[t+1]+=e[t]>>>16,e[t]&=65535,t++}function g(e,t){this.g=e,this.h=t}function m(e,t){if(u(t))throw Error("division by zero");if(u(e))return new g(o,o);if(h(e))return t=m(d(e),t),new g(d(t.g),d(t.h));if(h(t))return t=m(e,d(t)),new g(d(t.g),t.h);if(30<e.g.length){if(h(e)||h(t))throw Error("slowDivide_ only works with positive integers.");for(var n=l,r=t;0>=r.l(e);)n=v(n),r=v(r);var i=y(n,1),s=y(r,1);for(r=y(r,2),n=y(n,2);!u(r);){var c=s.add(r);0>=c.l(e)&&(i=i.add(n),s=c),r=y(r,1),n=y(n,1)}return t=p(e,i.j(t)),new g(i,t)}for(i=o;0<=e.l(t);){for(n=Math.max(1,Math.floor(e.m()/t.m())),r=48>=(r=Math.ceil(Math.log(n)/Math.LN2))?1:Math.pow(2,r-48),c=(s=a(n)).j(t);h(c)||0<c.l(e);)c=(s=a(n-=r)).j(t);u(s)&&(s=l),i=i.add(s),e=p(e,c)}return new g(i,e)}function v(e){for(var t=e.g.length+1,n=[],i=0;i<t;i++)n[i]=e.i(i)<<1|e.i(i-1)>>>31;return new r(n,e.h)}function y(e,t){var n=t>>5;t%=32;for(var i=e.g.length-n,s=[],a=0;a<i;a++)s[a]=0<t?e.i(a+n)>>>t|e.i(a+n+1)<<32-t:e.i(a+n);return new r(s,e.h)}(e=r.prototype).m=function(){if(h(this))return-d(this).m();for(var e=0,t=1,n=0;n<this.g.length;n++){var r=this.i(n);e+=(0<=r?r:4294967296+r)*t,t*=4294967296}return e},e.toString=function(e){if(2>(e=e||10)||36<e)throw Error("radix out of range: "+e);if(u(this))return"0";if(h(this))return"-"+d(this).toString(e);for(var t=a(Math.pow(e,6)),n=this,r="";;){var i=m(n,t).g,s=((0<(n=p(n,i.j(t))).g.length?n.g[0]:n.h)>>>0).toString(e);if(u(n=i))return s+r;for(;6>s.length;)s="0"+s;r=s+r}},e.i=function(e){return 0>e?0:e<this.g.length?this.g[e]:this.h},e.l=function(e){return h(e=p(this,e))?-1:u(e)?0:1},e.abs=function(){return h(this)?d(this):this},e.add=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0,s=0;s<=t;s++){var a=i+(65535&this.i(s))+(65535&e.i(s)),o=(a>>>16)+(this.i(s)>>>16)+(e.i(s)>>>16);i=o>>>16,a&=65535,o&=65535,n[s]=o<<16|a}return new r(n,-2147483648&n[n.length-1]?-1:0)},e.j=function(e){if(u(this)||u(e))return o;if(h(this))return h(e)?d(this).j(d(e)):d(d(this).j(e));if(h(e))return d(this.j(d(e)));if(0>this.l(c)&&0>e.l(c))return a(this.m()*e.m());for(var t=this.g.length+e.g.length,n=[],i=0;i<2*t;i++)n[i]=0;for(i=0;i<this.g.length;i++)for(var s=0;s<e.g.length;s++){var l=this.i(i)>>>16,p=65535&this.i(i),g=e.i(s)>>>16,m=65535&e.i(s);n[2*i+2*s]+=p*m,f(n,2*i+2*s),n[2*i+2*s+1]+=l*m,f(n,2*i+2*s+1),n[2*i+2*s+1]+=p*g,f(n,2*i+2*s+1),n[2*i+2*s+2]+=l*g,f(n,2*i+2*s+2)}for(i=0;i<t;i++)n[i]=n[2*i+1]<<16|n[2*i];for(i=t;i<2*t;i++)n[i]=0;return new r(n,0)},e.A=function(e){return m(this,e).h},e.and=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)&e.i(i);return new r(n,this.h&e.h)},e.or=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)|e.i(i);return new r(n,this.h|e.h)},e.xor=function(e){for(var t=Math.max(this.g.length,e.g.length),n=[],i=0;i<t;i++)n[i]=this.i(i)^e.i(i);return new r(n,this.h^e.h)},t.prototype.digest=t.prototype.v,t.prototype.reset=t.prototype.s,t.prototype.update=t.prototype.u,Wa=qa.Md5=t,r.prototype.add=r.prototype.add,r.prototype.multiply=r.prototype.j,r.prototype.modulo=r.prototype.A,r.prototype.compare=r.prototype.l,r.prototype.toNumber=r.prototype.m,r.prototype.toString=r.prototype.toString,r.prototype.getBits=r.prototype.i,r.fromNumber=a,r.fromString=function e(t,n){if(0==t.length)throw Error("number format error: empty string");if(2>(n=n||10)||36<n)throw Error("radix out of range: "+n);if("-"==t.charAt(0))return d(e(t.substring(1),n));if(0<=t.indexOf("-"))throw Error('number format error: interior "-" character');for(var r=a(Math.pow(n,8)),i=o,s=0;s<t.length;s+=8){var l=Math.min(8,t.length-s),c=parseInt(t.substring(s,s+l),n);8>l?(l=a(Math.pow(n,l)),i=i.j(l).add(a(c))):i=(i=i.j(r)).add(a(c))}return i},Ua=qa.Integer=r}).apply("undefined"!==typeof Ha?Ha:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});var Ga,Ka,Xa,Qa,Ya,Ja,$a,Za,eo="undefined"!==typeof globalThis?globalThis:"undefined"!==typeof window?window:"undefined"!==typeof global?global:"undefined"!==typeof self?self:{},to={};(function(){var e,t="function"==typeof Object.defineProperties?Object.defineProperty:function(e,t,n){return e==Array.prototype||e==Object.prototype||(e[t]=n.value),e};var n=function(e){e=["object"==typeof globalThis&&globalThis,e,"object"==typeof window&&window,"object"==typeof self&&self,"object"==typeof eo&&eo];for(var t=0;t<e.length;++t){var n=e[t];if(n&&n.Math==Math)return n}throw Error("Cannot find global object")}(this);!function(e,r){if(r)e:{var i=n;e=e.split(".");for(var s=0;s<e.length-1;s++){var a=e[s];if(!(a in i))break e;i=i[a]}(r=r(s=i[e=e[e.length-1]]))!=s&&null!=r&&t(i,e,{configurable:!0,writable:!0,value:r})}}("Array.prototype.values",(function(e){return e||function(){return function(e,t){e instanceof String&&(e+="");var n=0,r=!1,i={next:function(){if(!r&&n<e.length){var i=n++;return{value:t(i,e[i]),done:!1}}return r=!0,{done:!0,value:void 0}}};return i[Symbol.iterator]=function(){return i},i}(this,(function(e,t){return t}))}}));var r=r||{},i=this||self;function s(e){var t=typeof e;return"array"==(t="object"!=t?t:e?Array.isArray(e)?"array":t:"null")||"object"==t&&"number"==typeof e.length}function a(e){var t=typeof e;return"object"==t&&null!=e||"function"==t}function o(e,t,n){return e.call.apply(e.bind,arguments)}function l(e,t,n){if(!e)throw Error();if(2<arguments.length){var r=Array.prototype.slice.call(arguments,2);return function(){var n=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(n,r),e.apply(t,n)}}return function(){return e.apply(t,arguments)}}function c(e,t,n){return(c=Function.prototype.bind&&-1!=Function.prototype.bind.toString().indexOf("native code")?o:l).apply(null,arguments)}function u(e,t){var n=Array.prototype.slice.call(arguments,1);return function(){var t=n.slice();return t.push.apply(t,arguments),e.apply(this,t)}}function h(e,t){function n(){}n.prototype=t.prototype,e.aa=t.prototype,e.prototype=new n,e.prototype.constructor=e,e.Qb=function(e,n,r){for(var i=Array(arguments.length-2),s=2;s<arguments.length;s++)i[s-2]=arguments[s];return t.prototype[n].apply(e,i)}}function d(e){const t=e.length;if(0<t){const n=Array(t);for(let r=0;r<t;r++)n[r]=e[r];return n}return[]}function p(e,t){for(let n=1;n<arguments.length;n++){const t=arguments[n];if(s(t)){const n=e.length||0,r=t.length||0;e.length=n+r;for(let i=0;i<r;i++)e[n+i]=t[i]}else e.push(t)}}function f(e){return/^[\s\xa0]*$/.test(e)}function g(){var e=i.navigator;return e&&(e=e.userAgent)?e:""}function m(e){return m[" "](e),e}m[" "]=function(){};var v=-1!=g().indexOf("Gecko")&&!(-1!=g().toLowerCase().indexOf("webkit")&&-1==g().indexOf("Edge"))&&!(-1!=g().indexOf("Trident")||-1!=g().indexOf("MSIE"))&&-1==g().indexOf("Edge");function y(e,t,n){for(const r in e)t.call(n,e[r],r,e)}function b(e){const t={};for(const n in e)t[n]=e[n];return t}const w="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function _(e,t){let n,r;for(let i=1;i<arguments.length;i++){for(n in r=arguments[i],r)e[n]=r[n];for(let t=0;t<w.length;t++)n=w[t],Object.prototype.hasOwnProperty.call(r,n)&&(e[n]=r[n])}}function S(e){var t=1;e=e.split(":");const n=[];for(;0<t&&e.length;)n.push(e.shift()),t--;return e.length&&n.push(e.join(":")),n}function E(e){i.setTimeout((()=>{throw e}),0)}function A(){var e=I;let t=null;return e.g&&(t=e.g,e.g=e.g.next,e.g||(e.h=null),t.next=null),t}var k=new class{constructor(e,t){this.i=e,this.j=t,this.h=0,this.g=null}get(){let e;return 0<this.h?(this.h--,e=this.g,this.g=e.next,e.next=null):e=this.i(),e}}((()=>new x),(e=>e.reset()));class x{constructor(){this.next=this.g=this.h=null}set(e,t){this.h=e,this.g=t,this.next=null}reset(){this.next=this.g=this.h=null}}let C,T=!1,I=new class{constructor(){this.h=this.g=null}add(e,t){const n=k.get();n.set(e,t),this.h?this.h.next=n:this.g=n,this.h=n}},R=()=>{const e=i.Promise.resolve(void 0);C=()=>{e.then(M)}};var M=()=>{for(var e;e=A();){try{e.h.call(e.g)}catch(n){E(n)}var t=k;t.j(e),100>t.h&&(t.h++,e.next=t.g,t.g=e)}T=!1};function P(){this.s=this.s,this.C=this.C}function N(e,t){this.type=e,this.g=this.target=t,this.defaultPrevented=!1}P.prototype.s=!1,P.prototype.ma=function(){this.s||(this.s=!0,this.N())},P.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()},N.prototype.h=function(){this.defaultPrevented=!0};var L=function(){if(!i.addEventListener||!Object.defineProperty)return!1;var e=!1,t=Object.defineProperty({},"passive",{get:function(){e=!0}});try{const e=()=>{};i.addEventListener("test",e,t),i.removeEventListener("test",e,t)}catch(n){}return e}();function D(e,t){if(N.call(this,e?e.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,e){var n=this.type=e.type,r=e.changedTouches&&e.changedTouches.length?e.changedTouches[0]:null;if(this.target=e.target||e.srcElement,this.g=t,t=e.relatedTarget){if(v){e:{try{m(t.nodeName);var i=!0;break e}catch(s){}i=!1}i||(t=null)}}else"mouseover"==n?t=e.fromElement:"mouseout"==n&&(t=e.toElement);this.relatedTarget=t,r?(this.clientX=void 0!==r.clientX?r.clientX:r.pageX,this.clientY=void 0!==r.clientY?r.clientY:r.pageY,this.screenX=r.screenX||0,this.screenY=r.screenY||0):(this.clientX=void 0!==e.clientX?e.clientX:e.pageX,this.clientY=void 0!==e.clientY?e.clientY:e.pageY,this.screenX=e.screenX||0,this.screenY=e.screenY||0),this.button=e.button,this.key=e.key||"",this.ctrlKey=e.ctrlKey,this.altKey=e.altKey,this.shiftKey=e.shiftKey,this.metaKey=e.metaKey,this.pointerId=e.pointerId||0,this.pointerType="string"===typeof e.pointerType?e.pointerType:O[e.pointerType]||"",this.state=e.state,this.i=e,e.defaultPrevented&&D.aa.h.call(this)}}h(D,N);var O={2:"touch",3:"pen",4:"mouse"};D.prototype.h=function(){D.aa.h.call(this);var e=this.i;e.preventDefault?e.preventDefault():e.returnValue=!1};var F="closure_listenable_"+(1e6*Math.random()|0),j=0;function B(e,t,n,r,i){this.listener=e,this.proxy=null,this.src=t,this.type=n,this.capture=!!r,this.ha=i,this.key=++j,this.da=this.fa=!1}function z(e){e.da=!0,e.listener=null,e.proxy=null,e.src=null,e.ha=null}function V(e){this.src=e,this.g={},this.h=0}function U(e,t){var n=t.type;if(n in e.g){var r,i=e.g[n],s=Array.prototype.indexOf.call(i,t,void 0);(r=0<=s)&&Array.prototype.splice.call(i,s,1),r&&(z(t),0==e.g[n].length&&(delete e.g[n],e.h--))}}function W(e,t,n,r){for(var i=0;i<e.length;++i){var s=e[i];if(!s.da&&s.listener==t&&s.capture==!!n&&s.ha==r)return i}return-1}V.prototype.add=function(e,t,n,r,i){var s=e.toString();(e=this.g[s])||(e=this.g[s]=[],this.h++);var a=W(e,t,r,i);return-1<a?(t=e[a],n||(t.fa=!1)):((t=new B(t,this.src,s,!!r,i)).fa=n,e.push(t)),t};var H="closure_lm_"+(1e6*Math.random()|0),q={};function G(e,t,n,r,i){if(r&&r.once)return X(e,t,n,r,i);if(Array.isArray(t)){for(var s=0;s<t.length;s++)G(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.K(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!1,r,i)}function K(e,t,n,r,i,s){if(!t)throw Error("Invalid event type");var o=a(i)?!!i.capture:!!i,l=Z(e);if(l||(e[H]=l=new V(e)),(n=l.add(t,n,r,o,s)).proxy)return n;if(r=function(){function e(n){return t.call(e.src,e.listener,n)}const t=$;return e}(),n.proxy=r,r.src=e,r.listener=n,e.addEventListener)L||(i=o),void 0===i&&(i=!1),e.addEventListener(t.toString(),r,i);else if(e.attachEvent)e.attachEvent(J(t.toString()),r);else{if(!e.addListener||!e.removeListener)throw Error("addEventListener and attachEvent are unavailable.");e.addListener(r)}return n}function X(e,t,n,r,i){if(Array.isArray(t)){for(var s=0;s<t.length;s++)X(e,t[s],n,r,i);return null}return n=te(n),e&&e[F]?e.L(t,n,a(r)?!!r.capture:!!r,i):K(e,t,n,!0,r,i)}function Q(e,t,n,r,i){if(Array.isArray(t))for(var s=0;s<t.length;s++)Q(e,t[s],n,r,i);else r=a(r)?!!r.capture:!!r,n=te(n),e&&e[F]?(e=e.i,(t=String(t).toString())in e.g&&(-1<(n=W(s=e.g[t],n,r,i))&&(z(s[n]),Array.prototype.splice.call(s,n,1),0==s.length&&(delete e.g[t],e.h--)))):e&&(e=Z(e))&&(t=e.g[t.toString()],e=-1,t&&(e=W(t,n,r,i)),(n=-1<e?t[e]:null)&&Y(n))}function Y(e){if("number"!==typeof e&&e&&!e.da){var t=e.src;if(t&&t[F])U(t.i,e);else{var n=e.type,r=e.proxy;t.removeEventListener?t.removeEventListener(n,r,e.capture):t.detachEvent?t.detachEvent(J(n),r):t.addListener&&t.removeListener&&t.removeListener(r),(n=Z(t))?(U(n,e),0==n.h&&(n.src=null,t[H]=null)):z(e)}}}function J(e){return e in q?q[e]:q[e]="on"+e}function $(e,t){if(e.da)e=!0;else{t=new D(t,this);var n=e.listener,r=e.ha||e.src;e.fa&&Y(e),e=n.call(r,t)}return e}function Z(e){return(e=e[H])instanceof V?e:null}var ee="__closure_events_fn_"+(1e9*Math.random()>>>0);function te(e){return"function"===typeof e?e:(e[ee]||(e[ee]=function(t){return e.handleEvent(t)}),e[ee])}function ne(){P.call(this),this.i=new V(this),this.M=this,this.F=null}function re(e,t){var n,r=e.F;if(r)for(n=[];r;r=r.F)n.push(r);if(e=e.M,r=t.type||t,"string"===typeof t)t=new N(t,e);else if(t instanceof N)t.target=t.target||e;else{var i=t;_(t=new N(r,e),i)}if(i=!0,n)for(var s=n.length-1;0<=s;s--){var a=t.g=n[s];i=ie(a,r,!0,t)&&i}if(i=ie(a=t.g=e,r,!0,t)&&i,i=ie(a,r,!1,t)&&i,n)for(s=0;s<n.length;s++)i=ie(a=t.g=n[s],r,!1,t)&&i}function ie(e,t,n,r){if(!(t=e.i.g[String(t)]))return!0;t=t.concat();for(var i=!0,s=0;s<t.length;++s){var a=t[s];if(a&&!a.da&&a.capture==n){var o=a.listener,l=a.ha||a.src;a.fa&&U(e.i,a),i=!1!==o.call(l,r)&&i}}return i&&!r.defaultPrevented}function se(e,t,n){if("function"===typeof e)n&&(e=c(e,n));else{if(!e||"function"!=typeof e.handleEvent)throw Error("Invalid listener argument");e=c(e.handleEvent,e)}return 2147483647<Number(t)?-1:i.setTimeout(e,t||0)}function ae(e){e.g=se((()=>{e.g=null,e.i&&(e.i=!1,ae(e))}),e.l);const t=e.h;e.h=null,e.m.apply(null,t)}h(ne,P),ne.prototype[F]=!0,ne.prototype.removeEventListener=function(e,t,n,r){Q(this,e,t,n,r)},ne.prototype.N=function(){if(ne.aa.N.call(this),this.i){var e,t=this.i;for(e in t.g){for(var n=t.g[e],r=0;r<n.length;r++)z(n[r]);delete t.g[e],t.h--}}this.F=null},ne.prototype.K=function(e,t,n,r){return this.i.add(String(e),t,!1,n,r)},ne.prototype.L=function(e,t,n,r){return this.i.add(String(e),t,!0,n,r)};class oe extends P{constructor(e,t){super(),this.m=e,this.l=t,this.h=null,this.i=!1,this.g=null}j(e){this.h=arguments,this.g?this.i=!0:ae(this)}N(){super.N(),this.g&&(i.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function le(e){P.call(this),this.h=e,this.g={}}h(le,P);var ce=[];function ue(e){y(e.g,(function(e,t){this.g.hasOwnProperty(t)&&Y(e)}),e),e.g={}}le.prototype.N=function(){le.aa.N.call(this),ue(this)},le.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var he=i.JSON.stringify,de=i.JSON.parse,pe=class{stringify(e){return i.JSON.stringify(e,void 0)}parse(e){return i.JSON.parse(e,void 0)}};function fe(){}function ge(e){return e.h||(e.h=e.i())}function me(){}fe.prototype.h=null;var ve={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function ye(){N.call(this,"d")}function be(){N.call(this,"c")}h(ye,N),h(be,N);var we={},_e=null;function Se(){return _e=_e||new ne}function Ee(e){N.call(this,we.La,e)}function Ae(e){const t=Se();re(t,new Ee(t))}function ke(e,t){N.call(this,we.STAT_EVENT,e),this.stat=t}function xe(e){const t=Se();re(t,new ke(t,e))}function Ce(e,t){N.call(this,we.Ma,e),this.size=t}function Te(e,t){if("function"!==typeof e)throw Error("Fn must not be null and must be a function");return i.setTimeout((function(){e()}),t)}function Ie(){this.g=!0}function Re(e,t,n,r){e.info((function(){return"XMLHTTP TEXT ("+t+"): "+function(e,t){if(!e.g)return t;if(!t)return null;try{var n=JSON.parse(t);if(n)for(e=0;e<n.length;e++)if(Array.isArray(n[e])){var r=n[e];if(!(2>r.length)){var i=r[1];if(Array.isArray(i)&&!(1>i.length)){var s=i[0];if("noop"!=s&&"stop"!=s&&"close"!=s)for(var a=1;a<i.length;a++)i[a]=""}}}return he(n)}catch(o){return t}}(e,n)+(r?" "+r:"")}))}we.La="serverreachability",h(Ee,N),we.STAT_EVENT="statevent",h(ke,N),we.Ma="timingevent",h(Ce,N),Ie.prototype.xa=function(){this.g=!1},Ie.prototype.info=function(){};var Me,Pe={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ne={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"};function Le(){}function De(e,t,n,r){this.j=e,this.i=t,this.l=n,this.R=r||1,this.U=new le(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new Oe}function Oe(){this.i=null,this.g="",this.h=!1}h(Le,fe),Le.prototype.g=function(){return new XMLHttpRequest},Le.prototype.i=function(){return{}},Me=new Le;var Fe={},je={};function Be(e,t,n){e.L=1,e.v=ht(at(t)),e.m=n,e.P=!0,ze(e,null)}function ze(e,t){e.F=Date.now(),We(e),e.A=at(e.v);var n=e.A,r=e.R;Array.isArray(r)||(r=[String(r)]),kt(n.i,"t",r),e.C=0,n=e.j.J,e.h=new Oe,e.g=pn(e.j,n?t:null,!e.m),0<e.O&&(e.M=new oe(c(e.Y,e,e.g),e.O)),t=e.U,n=e.g,r=e.ca;var i="readystatechange";Array.isArray(i)||(i&&(ce[0]=i.toString()),i=ce);for(var s=0;s<i.length;s++){var a=G(n,i[s],r||t.handleEvent,!1,t.h||t);if(!a)break;t.g[a.key]=a}t=e.H?b(e.H):{},e.m?(e.u||(e.u="POST"),t["Content-Type"]="application/x-www-form-urlencoded",e.g.ea(e.A,e.u,e.m,t)):(e.u="GET",e.g.ea(e.A,e.u,null,t)),Ae(),function(e,t,n,r,i,s){e.info((function(){if(e.g)if(s)for(var a="",o=s.split("&"),l=0;l<o.length;l++){var c=o[l].split("=");if(1<c.length){var u=c[0];c=c[1];var h=u.split("_");a=2<=h.length&&"type"==h[1]?a+(u+"=")+c+"&":a+(u+"=redacted&")}}else a=null;else a=s;return"XMLHTTP REQ ("+r+") [attempt "+i+"]: "+t+"\n"+n+"\n"+a}))}(e.i,e.u,e.A,e.l,e.R,e.m)}function Ve(e){return!!e.g&&("GET"==e.u&&2!=e.L&&e.j.Ca)}function Ue(e,t){var n=e.C,r=t.indexOf("\n",n);return-1==r?je:(n=Number(t.substring(n,r)),isNaN(n)?Fe:(r+=1)+n>t.length?je:(t=t.slice(r,r+n),e.C=r+n,t))}function We(e){e.S=Date.now()+e.I,He(e,e.I)}function He(e,t){if(null!=e.B)throw Error("WatchDog timer not null");e.B=Te(c(e.ba,e),t)}function qe(e){e.B&&(i.clearTimeout(e.B),e.B=null)}function Ge(e){0==e.j.G||e.J||ln(e.j,e)}function Ke(e){qe(e);var t=e.M;t&&"function"==typeof t.ma&&t.ma(),e.M=null,ue(e.U),e.g&&(t=e.g,e.g=null,t.abort(),t.ma())}function Xe(e,t){try{var n=e.j;if(0!=n.G&&(n.g==e||Ze(n.h,e)))if(!e.K&&Ze(n.h,e)&&3==n.G){try{var r=n.Da.g.parse(t)}catch(u){r=null}if(Array.isArray(r)&&3==r.length){var i=r;if(0==i[0]){e:if(!n.u){if(n.g){if(!(n.g.F+3e3<e.F))break e;on(n),Yt(n)}rn(n),xe(18)}}else n.za=i[1],0<n.za-n.T&&37500>i[2]&&n.F&&0==n.v&&!n.C&&(n.C=Te(c(n.Za,n),6e3));if(1>=$e(n.h)&&n.ca){try{n.ca()}catch(u){}n.ca=void 0}}else un(n,11)}else if((e.K||n.g==e)&&on(n),!f(t))for(i=n.Da.g.parse(t),t=0;t<i.length;t++){let c=i[t];if(n.T=c[0],c=c[1],2==n.G)if("c"==c[0]){n.K=c[1],n.ia=c[2];const t=c[3];null!=t&&(n.la=t,n.j.info("VER="+n.la));const i=c[4];null!=i&&(n.Aa=i,n.j.info("SVER="+n.Aa));const u=c[5];null!=u&&"number"===typeof u&&0<u&&(r=1.5*u,n.L=r,n.j.info("backChannelRequestTimeoutMs_="+r)),r=n;const h=e.g;if(h){const e=h.g?h.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(e){var s=r.h;s.g||-1==e.indexOf("spdy")&&-1==e.indexOf("quic")&&-1==e.indexOf("h2")||(s.j=s.l,s.g=new Set,s.h&&(et(s,s.h),s.h=null))}if(r.D){const e=h.g?h.g.getResponseHeader("X-HTTP-Session-Id"):null;e&&(r.ya=e,ut(r.I,r.D,e))}}n.G=3,n.l&&n.l.ua(),n.ba&&(n.R=Date.now()-e.F,n.j.info("Handshake RTT: "+n.R+"ms"));var a=e;if((r=n).qa=dn(r,r.J?r.ia:null,r.W),a.K){tt(r.h,a);var o=a,l=r.L;l&&(o.I=l),o.B&&(qe(o),We(o)),r.g=a}else nn(r);0<n.i.length&&$t(n)}else"stop"!=c[0]&&"close"!=c[0]||un(n,7);else 3==n.G&&("stop"==c[0]||"close"==c[0]?"stop"==c[0]?un(n,7):Qt(n):"noop"!=c[0]&&n.l&&n.l.ta(c),n.v=0)}Ae()}catch(u){}}De.prototype.ca=function(e){e=e.target;const t=this.M;t&&3==qt(e)?t.j():this.Y(e)},De.prototype.Y=function(e){try{if(e==this.g)e:{const d=qt(this.g);var t=this.g.Ba();this.g.Z();if(!(3>d)&&(3!=d||this.g&&(this.h.h||this.g.oa()||Gt(this.g)))){this.J||4!=d||7==t||Ae(),qe(this);var n=this.g.Z();this.X=n;t:if(Ve(this)){var r=Gt(this.g);e="";var s=r.length,a=4==qt(this.g);if(!this.h.i){if("undefined"===typeof TextDecoder){Ke(this),Ge(this);var o="";break t}this.h.i=new i.TextDecoder}for(t=0;t<s;t++)this.h.h=!0,e+=this.h.i.decode(r[t],{stream:!(a&&t==s-1)});r.length=0,this.h.g+=e,this.C=0,o=this.h.g}else o=this.g.oa();if(this.o=200==n,function(e,t,n,r,i,s,a){e.info((function(){return"XMLHTTP RESP ("+r+") [ attempt "+i+"]: "+t+"\n"+n+"\n"+s+" "+a}))}(this.i,this.u,this.A,this.l,this.R,d,n),this.o){if(this.T&&!this.K){t:{if(this.g){var l,c=this.g;if((l=c.g?c.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!f(l)){var u=l;break t}}u=null}if(!(n=u)){this.o=!1,this.s=3,xe(12),Ke(this),Ge(this);break e}Re(this.i,this.l,n,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Xe(this,n)}if(this.P){let e;for(n=!0;!this.J&&this.C<o.length;){if(e=Ue(this,o),e==je){4==d&&(this.s=4,xe(14),n=!1),Re(this.i,this.l,null,"[Incomplete Response]");break}if(e==Fe){this.s=4,xe(15),Re(this.i,this.l,o,"[Invalid Chunk]"),n=!1;break}Re(this.i,this.l,e,null),Xe(this,e)}if(Ve(this)&&0!=this.C&&(this.h.g=this.h.g.slice(this.C),this.C=0),4!=d||0!=o.length||this.h.h||(this.s=1,xe(16),n=!1),this.o=this.o&&n,n){if(0<o.length&&!this.W){this.W=!0;var h=this.j;h.g==this&&h.ba&&!h.M&&(h.j.info("Great, no buffering proxy detected. Bytes received: "+o.length),sn(h),h.M=!0,xe(11))}}else Re(this.i,this.l,o,"[Invalid Chunked Response]"),Ke(this),Ge(this)}else Re(this.i,this.l,o,null),Xe(this,o);4==d&&Ke(this),this.o&&!this.J&&(4==d?ln(this.j,this):(this.o=!1,We(this)))}else(function(e){const t={};e=(e.g&&2<=qt(e)&&e.g.getAllResponseHeaders()||"").split("\r\n");for(let r=0;r<e.length;r++){if(f(e[r]))continue;var n=S(e[r]);const i=n[0];if("string"!==typeof(n=n[1]))continue;n=n.trim();const s=t[i]||[];t[i]=s,s.push(n)}!function(e,t){for(const n in e)t.call(void 0,e[n],n,e)}(t,(function(e){return e.join(", ")}))})(this.g),400==n&&0<o.indexOf("Unknown SID")?(this.s=3,xe(12)):(this.s=0,xe(13)),Ke(this),Ge(this)}}}catch(no){}},De.prototype.cancel=function(){this.J=!0,Ke(this)},De.prototype.ba=function(){this.B=null;const e=Date.now();0<=e-this.S?(function(e,t){e.info((function(){return"TIMEOUT: "+t}))}(this.i,this.A),2!=this.L&&(Ae(),xe(17)),Ke(this),this.s=2,Ge(this)):He(this,this.S-e)};var Qe=class{constructor(e,t){this.g=e,this.map=t}};function Ye(e){this.l=e||10,i.PerformanceNavigationTiming?e=0<(e=i.performance.getEntriesByType("navigation")).length&&("hq"==e[0].nextHopProtocol||"h2"==e[0].nextHopProtocol):e=!!(i.chrome&&i.chrome.loadTimes&&i.chrome.loadTimes()&&i.chrome.loadTimes().wasFetchedViaSpdy),this.j=e?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Je(e){return!!e.h||!!e.g&&e.g.size>=e.j}function $e(e){return e.h?1:e.g?e.g.size:0}function Ze(e,t){return e.h?e.h==t:!!e.g&&e.g.has(t)}function et(e,t){e.g?e.g.add(t):e.h=t}function tt(e,t){e.h&&e.h==t?e.h=null:e.g&&e.g.has(t)&&e.g.delete(t)}function nt(e){if(null!=e.h)return e.i.concat(e.h.D);if(null!=e.g&&0!==e.g.size){let t=e.i;for(const n of e.g.values())t=t.concat(n.D);return t}return d(e.i)}function rt(e,t){if(e.forEach&&"function"==typeof e.forEach)e.forEach(t,void 0);else if(s(e)||"string"===typeof e)Array.prototype.forEach.call(e,t,void 0);else for(var n=function(e){if(e.na&&"function"==typeof e.na)return e.na();if(!e.V||"function"!=typeof e.V){if("undefined"!==typeof Map&&e instanceof Map)return Array.from(e.keys());if(!("undefined"!==typeof Set&&e instanceof Set)){if(s(e)||"string"===typeof e){var t=[];e=e.length;for(var n=0;n<e;n++)t.push(n);return t}t=[],n=0;for(const r in e)t[n++]=r;return t}}}(e),r=function(e){if(e.V&&"function"==typeof e.V)return e.V();if("undefined"!==typeof Map&&e instanceof Map||"undefined"!==typeof Set&&e instanceof Set)return Array.from(e.values());if("string"===typeof e)return e.split("");if(s(e)){for(var t=[],n=e.length,r=0;r<n;r++)t.push(e[r]);return t}for(r in t=[],n=0,e)t[n++]=e[r];return t}(e),i=r.length,a=0;a<i;a++)t.call(void 0,r[a],n&&n[a],e)}Ye.prototype.cancel=function(){if(this.i=nt(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&0!==this.g.size){for(const e of this.g.values())e.cancel();this.g.clear()}};var it=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function st(e){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,e instanceof st){this.h=e.h,ot(this,e.j),this.o=e.o,this.g=e.g,lt(this,e.s),this.l=e.l;var t=e.i,n=new _t;n.i=t.i,t.g&&(n.g=new Map(t.g),n.h=t.h),ct(this,n),this.m=e.m}else e&&(t=String(e).match(it))?(this.h=!1,ot(this,t[1]||"",!0),this.o=dt(t[2]||""),this.g=dt(t[3]||"",!0),lt(this,t[4]),this.l=dt(t[5]||"",!0),ct(this,t[6]||"",!0),this.m=dt(t[7]||"")):(this.h=!1,this.i=new _t(null,this.h))}function at(e){return new st(e)}function ot(e,t,n){e.j=n?dt(t,!0):t,e.j&&(e.j=e.j.replace(/:$/,""))}function lt(e,t){if(t){if(t=Number(t),isNaN(t)||0>t)throw Error("Bad port number "+t);e.s=t}else e.s=null}function ct(e,t,n){t instanceof _t?(e.i=t,function(e,t){t&&!e.j&&(St(e),e.i=null,e.g.forEach((function(e,t){var n=t.toLowerCase();t!=n&&(Et(this,t),kt(this,n,e))}),e)),e.j=t}(e.i,e.h)):(n||(t=pt(t,bt)),e.i=new _t(t,e.h))}function ut(e,t,n){e.i.set(t,n)}function ht(e){return ut(e,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),e}function dt(e,t){return e?t?decodeURI(e.replace(/%25/g,"%2525")):decodeURIComponent(e):""}function pt(e,t,n){return"string"===typeof e?(e=encodeURI(e).replace(t,ft),n&&(e=e.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),e):null}function ft(e){return"%"+((e=e.charCodeAt(0))>>4&15).toString(16)+(15&e).toString(16)}st.prototype.toString=function(){var e=[],t=this.j;t&&e.push(pt(t,mt,!0),":");var n=this.g;return(n||"file"==t)&&(e.push("//"),(t=this.o)&&e.push(pt(t,mt,!0),"@"),e.push(encodeURIComponent(String(n)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),null!=(n=this.s)&&e.push(":",String(n))),(n=this.l)&&(this.g&&"/"!=n.charAt(0)&&e.push("/"),e.push(pt(n,"/"==n.charAt(0)?yt:vt,!0))),(n=this.i.toString())&&e.push("?",n),(n=this.m)&&e.push("#",pt(n,wt)),e.join("")};var gt,mt=/[#\/\?@]/g,vt=/[#\?:]/g,yt=/[#\?]/g,bt=/[#\?@]/g,wt=/#/g;function _t(e,t){this.h=this.g=null,this.i=e||null,this.j=!!t}function St(e){e.g||(e.g=new Map,e.h=0,e.i&&function(e,t){if(e){e=e.split("&");for(var n=0;n<e.length;n++){var r=e[n].indexOf("="),i=null;if(0<=r){var s=e[n].substring(0,r);i=e[n].substring(r+1)}else s=e[n];t(s,i?decodeURIComponent(i.replace(/\+/g," ")):"")}}}(e.i,(function(t,n){e.add(decodeURIComponent(t.replace(/\+/g," ")),n)})))}function Et(e,t){St(e),t=xt(e,t),e.g.has(t)&&(e.i=null,e.h-=e.g.get(t).length,e.g.delete(t))}function At(e,t){return St(e),t=xt(e,t),e.g.has(t)}function kt(e,t,n){Et(e,t),0<n.length&&(e.i=null,e.g.set(xt(e,t),d(n)),e.h+=n.length)}function xt(e,t){return t=String(t),e.j&&(t=t.toLowerCase()),t}function Ct(e,t,n,r,i){try{i&&(i.onload=null,i.onerror=null,i.onabort=null,i.ontimeout=null),r(n)}catch(s){}}function Tt(){this.g=new pe}function It(e,t,n){const r=n||"";try{rt(e,(function(e,n){let i=e;a(e)&&(i=he(e)),t.push(r+n+"="+encodeURIComponent(i))}))}catch(ez){throw t.push(r+"type="+encodeURIComponent("_badmap")),ez}}function Rt(e){this.l=e.Ub||null,this.j=e.eb||!1}function Mt(e,t){ne.call(this),this.D=e,this.o=t,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}function Pt(e){e.j.read().then(e.Pa.bind(e)).catch(e.ga.bind(e))}function Nt(e){e.readyState=4,e.l=null,e.j=null,e.v=null,Lt(e)}function Lt(e){e.onreadystatechange&&e.onreadystatechange.call(e)}function Dt(e){let t="";return y(e,(function(e,n){t+=n,t+=":",t+=e,t+="\r\n"})),t}function Ot(e,t,n){e:{for(r in n){var r=!1;break e}r=!0}r||(n=Dt(n),"string"===typeof e?null!=n&&encodeURIComponent(String(n)):ut(e,t,n))}function Ft(e){ne.call(this),this.headers=new Map,this.o=e||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}(e=_t.prototype).add=function(e,t){St(this),this.i=null,e=xt(this,e);var n=this.g.get(e);return n||this.g.set(e,n=[]),n.push(t),this.h+=1,this},e.forEach=function(e,t){St(this),this.g.forEach((function(n,r){n.forEach((function(n){e.call(t,n,r,this)}),this)}),this)},e.na=function(){St(this);const e=Array.from(this.g.values()),t=Array.from(this.g.keys()),n=[];for(let r=0;r<t.length;r++){const i=e[r];for(let e=0;e<i.length;e++)n.push(t[r])}return n},e.V=function(e){St(this);let t=[];if("string"===typeof e)At(this,e)&&(t=t.concat(this.g.get(xt(this,e))));else{e=Array.from(this.g.values());for(let n=0;n<e.length;n++)t=t.concat(e[n])}return t},e.set=function(e,t){return St(this),this.i=null,At(this,e=xt(this,e))&&(this.h-=this.g.get(e).length),this.g.set(e,[t]),this.h+=1,this},e.get=function(e,t){return e&&0<(e=this.V(e)).length?String(e[0]):t},e.toString=function(){if(this.i)return this.i;if(!this.g)return"";const e=[],t=Array.from(this.g.keys());for(var n=0;n<t.length;n++){var r=t[n];const s=encodeURIComponent(String(r)),a=this.V(r);for(r=0;r<a.length;r++){var i=s;""!==a[r]&&(i+="="+encodeURIComponent(String(a[r]))),e.push(i)}}return this.i=e.join("&")},h(Rt,fe),Rt.prototype.g=function(){return new Mt(this.l,this.j)},Rt.prototype.i=(gt={},function(){return gt}),h(Mt,ne),(e=Mt.prototype).open=function(e,t){if(0!=this.readyState)throw this.abort(),Error("Error reopening a connection");this.B=e,this.A=t,this.readyState=1,Lt(this)},e.send=function(e){if(1!=this.readyState)throw this.abort(),Error("need to call open() first. ");this.g=!0;const t={headers:this.u,method:this.B,credentials:this.m,cache:void 0};e&&(t.body=e),(this.D||i).fetch(new Request(this.A,t)).then(this.Sa.bind(this),this.ga.bind(this))},e.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch((()=>{})),1<=this.readyState&&this.g&&4!=this.readyState&&(this.g=!1,Nt(this)),this.readyState=0},e.Sa=function(e){if(this.g&&(this.l=e,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=e.headers,this.readyState=2,Lt(this)),this.g&&(this.readyState=3,Lt(this),this.g)))if("arraybuffer"===this.responseType)e.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if("undefined"!==typeof i.ReadableStream&&"body"in e){if(this.j=e.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Pt(this)}else e.text().then(this.Ra.bind(this),this.ga.bind(this))},e.Pa=function(e){if(this.g){if(this.o&&e.value)this.response.push(e.value);else if(!this.o){var t=e.value?e.value:new Uint8Array(0);(t=this.v.decode(t,{stream:!e.done}))&&(this.response=this.responseText+=t)}e.done?Nt(this):Lt(this),3==this.readyState&&Pt(this)}},e.Ra=function(e){this.g&&(this.response=this.responseText=e,Nt(this))},e.Qa=function(e){this.g&&(this.response=e,Nt(this))},e.ga=function(){this.g&&Nt(this)},e.setRequestHeader=function(e,t){this.u.append(e,t)},e.getResponseHeader=function(e){return this.h&&this.h.get(e.toLowerCase())||""},e.getAllResponseHeaders=function(){if(!this.h)return"";const e=[],t=this.h.entries();for(var n=t.next();!n.done;)n=n.value,e.push(n[0]+": "+n[1]),n=t.next();return e.join("\r\n")},Object.defineProperty(Mt.prototype,"withCredentials",{get:function(){return"include"===this.m},set:function(e){this.m=e?"include":"same-origin"}}),h(Ft,ne);var jt=/^https?$/i,Bt=["POST","PUT"];function zt(e,t){e.h=!1,e.g&&(e.j=!0,e.g.abort(),e.j=!1),e.l=t,e.m=5,Vt(e),Wt(e)}function Vt(e){e.A||(e.A=!0,re(e,"complete"),re(e,"error"))}function Ut(e){if(e.h&&"undefined"!=typeof r&&(!e.v[1]||4!=qt(e)||2!=e.Z()))if(e.u&&4==qt(e))se(e.Ea,0,e);else if(re(e,"readystatechange"),4==qt(e)){e.h=!1;try{const r=e.Z();e:switch(r){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var t=!0;break e;default:t=!1}var n;if(!(n=t)){var s;if(s=0===r){var a=String(e.D).match(it)[1]||null;!a&&i.self&&i.self.location&&(a=i.self.location.protocol.slice(0,-1)),s=!jt.test(a?a.toLowerCase():"")}n=s}if(n)re(e,"complete"),re(e,"success");else{e.m=6;try{var o=2<qt(e)?e.g.statusText:""}catch(l){o=""}e.l=o+" ["+e.Z()+"]",Vt(e)}}finally{Wt(e)}}}function Wt(e,t){if(e.g){Ht(e);const n=e.g,r=e.v[0]?()=>{}:null;e.g=null,e.v=null,t||re(e,"ready");try{n.onreadystatechange=r}catch(ez){}}}function Ht(e){e.I&&(i.clearTimeout(e.I),e.I=null)}function qt(e){return e.g?e.g.readyState:0}function Gt(e){try{if(!e.g)return null;if("response"in e.g)return e.g.response;switch(e.H){case"":case"text":return e.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in e.g)return e.g.mozResponseArrayBuffer}return null}catch(so){return null}}function Kt(e,t,n){return n&&n.internalChannelParams&&n.internalChannelParams[e]||t}function Xt(e){this.Aa=0,this.i=[],this.j=new Ie,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Kt("failFast",!1,e),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Kt("baseRetryDelayMs",5e3,e),this.cb=Kt("retryDelaySeedMs",1e4,e),this.Wa=Kt("forwardChannelMaxRetries",2,e),this.wa=Kt("forwardChannelRequestTimeoutMs",2e4,e),this.pa=e&&e.xmlHttpFactory||void 0,this.Xa=e&&e.Tb||void 0,this.Ca=e&&e.useFetchStreams||!1,this.L=void 0,this.J=e&&e.supportsCrossDomainXhr||!1,this.K="",this.h=new Ye(e&&e.concurrentRequestLimit),this.Da=new Tt,this.P=e&&e.fastHandshake||!1,this.O=e&&e.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=e&&e.Rb||!1,e&&e.xa&&this.j.xa(),e&&e.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&e&&e.detectBufferingProxy||!1,this.ja=void 0,e&&e.longPollingTimeout&&0<e.longPollingTimeout&&(this.ja=e.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}function Qt(e){if(Jt(e),3==e.G){var t=e.U++,n=at(e.I);if(ut(n,"SID",e.K),ut(n,"RID",t),ut(n,"TYPE","terminate"),en(e,n),(t=new De(e,e.j,t)).L=2,t.v=ht(at(n)),n=!1,i.navigator&&i.navigator.sendBeacon)try{n=i.navigator.sendBeacon(t.v.toString(),"")}catch(r){}!n&&i.Image&&((new Image).src=t.v,n=!0),n||(t.g=pn(t.j,null),t.g.ea(t.v)),t.F=Date.now(),We(t)}hn(e)}function Yt(e){e.g&&(sn(e),e.g.cancel(),e.g=null)}function Jt(e){Yt(e),e.u&&(i.clearTimeout(e.u),e.u=null),on(e),e.h.cancel(),e.s&&("number"===typeof e.s&&i.clearTimeout(e.s),e.s=null)}function $t(e){if(!Je(e.h)&&!e.s){e.s=!0;var t=e.Ga;C||R(),T||(C(),T=!0),I.add(t,e),e.B=0}}function Zt(e,t){var n;n=t?t.l:e.U++;const r=at(e.I);ut(r,"SID",e.K),ut(r,"RID",n),ut(r,"AID",e.T),en(e,r),e.m&&e.o&&Ot(r,e.m,e.o),n=new De(e,e.j,n,e.B+1),null===e.m&&(n.H=e.o),t&&(e.i=t.D.concat(e.i)),t=tn(e,n,1e3),n.I=Math.round(.5*e.wa)+Math.round(.5*e.wa*Math.random()),et(e.h,n),Be(n,r,t)}function en(e,t){e.H&&y(e.H,(function(e,n){ut(t,n,e)})),e.l&&rt({},(function(e,n){ut(t,n,e)}))}function tn(e,t,n){n=Math.min(e.i.length,n);var r=e.l?c(e.l.Na,e.l,e):null;e:{var i=e.i;let t=-1;for(;;){const e=["count="+n];-1==t?0<n?(t=i[0].g,e.push("ofs="+t)):t=0:e.push("ofs="+t);let s=!0;for(let a=0;a<n;a++){let n=i[a].g;const o=i[a].map;if(n-=t,0>n)t=Math.max(0,i[a].g-100),s=!1;else try{It(o,e,"req"+n+"_")}catch(no){r&&r(o)}}if(s){r=e.join("&");break e}}}return e=e.i.splice(0,n),t.D=e,r}function nn(e){if(!e.g&&!e.u){e.Y=1;var t=e.Fa;C||R(),T||(C(),T=!0),I.add(t,e),e.v=0}}function rn(e){return!(e.g||e.u||3<=e.v)&&(e.Y++,e.u=Te(c(e.Fa,e),cn(e,e.v)),e.v++,!0)}function sn(e){null!=e.A&&(i.clearTimeout(e.A),e.A=null)}function an(e){e.g=new De(e,e.j,"rpc",e.Y),null===e.m&&(e.g.H=e.o),e.g.O=0;var t=at(e.qa);ut(t,"RID","rpc"),ut(t,"SID",e.K),ut(t,"AID",e.T),ut(t,"CI",e.F?"0":"1"),!e.F&&e.ja&&ut(t,"TO",e.ja),ut(t,"TYPE","xmlhttp"),en(e,t),e.m&&e.o&&Ot(t,e.m,e.o),e.L&&(e.g.I=e.L);var n=e.g;e=e.ia,n.L=1,n.v=ht(at(t)),n.m=null,n.P=!0,ze(n,e)}function on(e){null!=e.C&&(i.clearTimeout(e.C),e.C=null)}function ln(e,t){var n=null;if(e.g==t){on(e),sn(e),e.g=null;var r=2}else{if(!Ze(e.h,t))return;n=t.D,tt(e.h,t),r=1}if(0!=e.G)if(t.o)if(1==r){n=t.m?t.m.length:0,t=Date.now()-t.F;var i=e.B;re(r=Se(),new Ce(r,n)),$t(e)}else nn(e);else if(3==(i=t.s)||0==i&&0<t.X||!(1==r&&function(e,t){return!($e(e.h)>=e.h.j-(e.s?1:0))&&(e.s?(e.i=t.D.concat(e.i),!0):!(1==e.G||2==e.G||e.B>=(e.Va?0:e.Wa))&&(e.s=Te(c(e.Ga,e,t),cn(e,e.B)),e.B++,!0))}(e,t)||2==r&&rn(e)))switch(n&&0<n.length&&(t=e.h,t.i=t.i.concat(n)),i){case 1:un(e,5);break;case 4:un(e,10);break;case 3:un(e,6);break;default:un(e,2)}}function cn(e,t){let n=e.Ta+Math.floor(Math.random()*e.cb);return e.isActive()||(n*=2),n*t}function un(e,t){if(e.j.info("Error code "+t),2==t){var n=c(e.fb,e),r=e.Xa;const t=!r;r=new st(r||"//www.google.com/images/cleardot.gif"),i.location&&"http"==i.location.protocol||ot(r,"https"),ht(r),t?function(e,t){const n=new Ie;if(i.Image){const r=new Image;r.onload=u(Ct,n,"TestLoadImage: loaded",!0,t,r),r.onerror=u(Ct,n,"TestLoadImage: error",!1,t,r),r.onabort=u(Ct,n,"TestLoadImage: abort",!1,t,r),r.ontimeout=u(Ct,n,"TestLoadImage: timeout",!1,t,r),i.setTimeout((function(){r.ontimeout&&r.ontimeout()}),1e4),r.src=e}else t(!1)}(r.toString(),n):function(e,t){new Ie;const n=new AbortController,r=setTimeout((()=>{n.abort(),Ct(0,0,!1,t)}),1e4);fetch(e,{signal:n.signal}).then((e=>{clearTimeout(r),e.ok?Ct(0,0,!0,t):Ct(0,0,!1,t)})).catch((()=>{clearTimeout(r),Ct(0,0,!1,t)}))}(r.toString(),n)}else xe(2);e.G=0,e.l&&e.l.sa(t),hn(e),Jt(e)}function hn(e){if(e.G=0,e.ka=[],e.l){const t=nt(e.h);0==t.length&&0==e.i.length||(p(e.ka,t),p(e.ka,e.i),e.h.i.length=0,d(e.i),e.i.length=0),e.l.ra()}}function dn(e,t,n){var r=n instanceof st?at(n):new st(n);if(""!=r.g)t&&(r.g=t+"."+r.g),lt(r,r.s);else{var s=i.location;r=s.protocol,t=t?t+"."+s.hostname:s.hostname,s=+s.port;var a=new st(null);r&&ot(a,r),t&&(a.g=t),s&&lt(a,s),n&&(a.l=n),r=a}return n=e.D,t=e.ya,n&&t&&ut(r,n,t),ut(r,"VER",e.la),en(e,r),r}function pn(e,t,n){if(t&&!e.J)throw Error("Can't create secondary domain capable XhrIo object.");return(t=e.Ca&&!e.pa?new Ft(new Rt({eb:n})):new Ft(e.pa)).Ha(e.J),t}function fn(){}function gn(){}function mn(e,t){ne.call(this),this.g=new Xt(t),this.l=e,this.h=t&&t.messageUrlParams||null,e=t&&t.messageHeaders||null,t&&t.clientProtocolHeaderRequired&&(e?e["X-Client-Protocol"]="webchannel":e={"X-Client-Protocol":"webchannel"}),this.g.o=e,e=t&&t.initMessageHeaders||null,t&&t.messageContentType&&(e?e["X-WebChannel-Content-Type"]=t.messageContentType:e={"X-WebChannel-Content-Type":t.messageContentType}),t&&t.va&&(e?e["X-WebChannel-Client-Profile"]=t.va:e={"X-WebChannel-Client-Profile":t.va}),this.g.S=e,(e=t&&t.Sb)&&!f(e)&&(this.g.m=e),this.v=t&&t.supportsCrossDomainXhr||!1,this.u=t&&t.sendRawJson||!1,(t=t&&t.httpSessionIdParam)&&!f(t)&&(this.g.D=t,null!==(e=this.h)&&t in e&&(t in(e=this.h)&&delete e[t])),this.j=new bn(this)}function vn(e){ye.call(this),e.__headers__&&(this.headers=e.__headers__,this.statusCode=e.__status__,delete e.__headers__,delete e.__status__);var t=e.__sm__;if(t){e:{for(const n in t){e=n;break e}e=void 0}(this.i=e)&&(e=this.i,t=null!==t&&e in t?t[e]:void 0),this.data=t}else this.data=e}function yn(){be.call(this),this.status=1}function bn(e){this.g=e}(e=Ft.prototype).Ha=function(e){this.J=e},e.ea=function(e,t,n,r){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+e);t=t?t.toUpperCase():"GET",this.D=e,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():Me.g(),this.v=this.o?ge(this.o):ge(Me),this.g.onreadystatechange=c(this.Ea,this);try{this.B=!0,this.g.open(t,String(e),!0),this.B=!1}catch(a){return void zt(this,a)}if(e=n||"",n=new Map(this.headers),r)if(Object.getPrototypeOf(r)===Object.prototype)for(var s in r)n.set(s,r[s]);else{if("function"!==typeof r.keys||"function"!==typeof r.get)throw Error("Unknown input type for opt_headers: "+String(r));for(const e of r.keys())n.set(e,r.get(e))}r=Array.from(n.keys()).find((e=>"content-type"==e.toLowerCase())),s=i.FormData&&e instanceof i.FormData,!(0<=Array.prototype.indexOf.call(Bt,t,void 0))||r||s||n.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[i,o]of n)this.g.setRequestHeader(i,o);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Ht(this),this.u=!0,this.g.send(e),this.u=!1}catch(a){zt(this,a)}},e.abort=function(e){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=e||7,re(this,"complete"),re(this,"abort"),Wt(this))},e.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Wt(this,!0)),Ft.aa.N.call(this)},e.Ea=function(){this.s||(this.B||this.u||this.j?Ut(this):this.bb())},e.bb=function(){Ut(this)},e.isActive=function(){return!!this.g},e.Z=function(){try{return 2<qt(this)?this.g.status:-1}catch(gt){return-1}},e.oa=function(){try{return this.g?this.g.responseText:""}catch(gt){return""}},e.Oa=function(e){if(this.g){var t=this.g.responseText;return e&&0==t.indexOf(e)&&(t=t.substring(e.length)),de(t)}},e.Ba=function(){return this.m},e.Ka=function(){return"string"===typeof this.l?this.l:String(this.l)},(e=Xt.prototype).la=8,e.G=1,e.connect=function(e,t,n,r){xe(0),this.W=e,this.H=t||{},n&&void 0!==r&&(this.H.OSID=n,this.H.OAID=r),this.F=this.X,this.I=dn(this,null,this.W),$t(this)},e.Ga=function(e){if(this.s)if(this.s=null,1==this.G){if(!e){this.U=Math.floor(1e5*Math.random()),e=this.U++;const i=new De(this,this.j,e);let s=this.o;if(this.S&&(s?(s=b(s),_(s,this.S)):s=this.S),null!==this.m||this.O||(i.H=s,s=null),this.P)e:{for(var t=0,n=0;n<this.i.length;n++){var r=this.i[n];if(void 0===(r="__data__"in r.map&&"string"===typeof(r=r.map.__data__)?r.length:void 0))break;if(4096<(t+=r)){t=n;break e}if(4096===t||n===this.i.length-1){t=n+1;break e}}t=1e3}else t=1e3;t=tn(this,i,t),ut(n=at(this.I),"RID",e),ut(n,"CVER",22),this.D&&ut(n,"X-HTTP-Session-Id",this.D),en(this,n),s&&(this.O?t="headers="+encodeURIComponent(String(Dt(s)))+"&"+t:this.m&&Ot(n,this.m,s)),et(this.h,i),this.Ua&&ut(n,"TYPE","init"),this.P?(ut(n,"$req",t),ut(n,"SID","null"),i.T=!0,Be(i,n,null)):Be(i,n,t),this.G=2}}else 3==this.G&&(e?Zt(this,e):0==this.i.length||Je(this.h)||Zt(this))},e.Fa=function(){if(this.u=null,an(this),this.ba&&!(this.M||null==this.g||0>=this.R)){var e=2*this.R;this.j.info("BP detection timer enabled: "+e),this.A=Te(c(this.ab,this),e)}},e.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,xe(10),Yt(this),an(this))},e.Za=function(){null!=this.C&&(this.C=null,Yt(this),rn(this),xe(19))},e.fb=function(e){e?(this.j.info("Successfully pinged google.com"),xe(2)):(this.j.info("Failed to ping google.com"),xe(1))},e.isActive=function(){return!!this.l&&this.l.isActive(this)},(e=fn.prototype).ua=function(){},e.ta=function(){},e.sa=function(){},e.ra=function(){},e.isActive=function(){return!0},e.Na=function(){},gn.prototype.g=function(e,t){return new mn(e,t)},h(mn,ne),mn.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},mn.prototype.close=function(){Qt(this.g)},mn.prototype.o=function(e){var t=this.g;if("string"===typeof e){var n={};n.__data__=e,e=n}else this.u&&((n={}).__data__=he(e),e=n);t.i.push(new Qe(t.Ya++,e)),3==t.G&&$t(t)},mn.prototype.N=function(){this.g.l=null,delete this.j,Qt(this.g),delete this.g,mn.aa.N.call(this)},h(vn,ye),h(yn,be),h(bn,fn),bn.prototype.ua=function(){re(this.g,"a")},bn.prototype.ta=function(e){re(this.g,new vn(e))},bn.prototype.sa=function(e){re(this.g,new yn)},bn.prototype.ra=function(){re(this.g,"b")},gn.prototype.createWebChannel=gn.prototype.g,mn.prototype.send=mn.prototype.o,mn.prototype.open=mn.prototype.m,mn.prototype.close=mn.prototype.close,Za=to.createWebChannelTransport=function(){return new gn},$a=to.getStatEventTarget=function(){return Se()},Ja=to.Event=we,Ya=to.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},Pe.NO_ERROR=0,Pe.TIMEOUT=8,Pe.HTTP_ERROR=6,Qa=to.ErrorCode=Pe,Ne.COMPLETE="complete",Xa=to.EventType=Ne,me.EventType=ve,ve.OPEN="a",ve.CLOSE="b",ve.ERROR="c",ve.MESSAGE="d",ne.prototype.listen=ne.prototype.K,Ka=to.WebChannel=me,to.FetchXmlHttpFactory=Rt,Ft.prototype.listenOnce=Ft.prototype.L,Ft.prototype.getLastError=Ft.prototype.Ka,Ft.prototype.getLastErrorCode=Ft.prototype.Ba,Ft.prototype.getStatus=Ft.prototype.Z,Ft.prototype.getResponseJson=Ft.prototype.Oa,Ft.prototype.getResponseText=Ft.prototype.oa,Ft.prototype.send=Ft.prototype.ea,Ft.prototype.setWithCredentials=Ft.prototype.Ha,Ga=to.XhrIo=Ft}).apply("undefined"!==typeof eo?eo:"undefined"!==typeof self?self:"undefined"!==typeof window?window:{});const no="@firebase/firestore";class ro{constructor(e){this.uid=e}isAuthenticated(){return null!=this.uid}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}ro.UNAUTHENTICATED=new ro(null),ro.GOOGLE_CREDENTIALS=new ro("google-credentials-uid"),ro.FIRST_PARTY=new ro("first-party-uid"),ro.MOCK_USER=new ro("mock-user");let io="11.0.2";const so=new sn("@firebase/firestore");function ao(){return so.logLevel}function oo(e){if(so.logLevel<=Zt.DEBUG){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uo);so.debug("Firestore (".concat(io,"): ").concat(e),...i)}}function lo(e){if(so.logLevel<=Zt.ERROR){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uo);so.error("Firestore (".concat(io,"): ").concat(e),...i)}}function co(e){if(so.logLevel<=Zt.WARN){for(var t=arguments.length,n=new Array(t>1?t-1:0),r=1;r<t;r++)n[r-1]=arguments[r];const i=n.map(uo);so.warn("Firestore (".concat(io,"): ").concat(e),...i)}}function uo(e){if("string"==typeof e)return e;try{return function(e){return JSON.stringify(e)}(e)}catch(t){return e}}function ho(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"Unexpected state";const t="FIRESTORE (".concat(io,") INTERNAL ASSERTION FAILED: ")+e;throw lo(t),new Error(t)}function po(e,t){e||ho()}function fo(e,t){return e}const go={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class mo extends Ot{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>"".concat(this.name,": [code=").concat(this.code,"]: ").concat(this.message)}}class vo{constructor(){this.promise=new Promise(((e,t)=>{this.resolve=e,this.reject=t}))}}class yo{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization","Bearer ".concat(e))}}class bo{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable((()=>t(ro.UNAUTHENTICATED)))}shutdown(){}}class wo{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable((()=>t(this.token.user)))}shutdown(){this.changeListener=null}}class _o{constructor(e){this.t=e,this.currentUser=ro.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){po(void 0===this.o);let n=this.i;const r=e=>this.i!==n?(n=this.i,t(e)):Promise.resolve();let i=new vo;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new vo,e.enqueueRetryable((()=>r(this.currentUser)))};const s=()=>{const t=i;e.enqueueRetryable((async()=>{await t.promise,await r(this.currentUser)}))},a=e=>{oo("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=e,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit((e=>a(e))),setTimeout((()=>{if(!this.auth){const e=this.t.getImmediate({optional:!0});e?a(e):(oo("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new vo)}}),0),s()}getToken(){const e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then((t=>this.i!==e?(oo("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):t?(po("string"==typeof t.accessToken),new yo(t.accessToken,this.currentUser)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return po(null===e||"string"==typeof e),new ro(e)}}class So{constructor(e,t,n){this.l=e,this.h=t,this.P=n,this.type="FirstParty",this.user=ro.FIRST_PARTY,this.T=new Map}I(){return this.P?this.P():null}get headers(){this.T.set("X-Goog-AuthUser",this.l);const e=this.I();return e&&this.T.set("Authorization",e),this.h&&this.T.set("X-Goog-Iam-Authorization-Token",this.h),this.T}}class Eo{constructor(e,t,n){this.l=e,this.h=t,this.P=n}getToken(){return Promise.resolve(new So(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable((()=>t(ro.FIRST_PARTY)))}shutdown(){}invalidateToken(){}}class Ao{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class ko{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){po(void 0===this.o);const n=e=>{null!=e.error&&oo("FirebaseAppCheckTokenProvider","Error getting App Check token; using placeholder token instead. Error: ".concat(e.error.message));const n=e.token!==this.R;return this.R=e.token,oo("FirebaseAppCheckTokenProvider","Received ".concat(n?"new":"existing"," token.")),n?t(e.token):Promise.resolve()};this.o=t=>{e.enqueueRetryable((()=>n(t)))};const r=e=>{oo("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=e,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit((e=>r(e))),setTimeout((()=>{if(!this.appCheck){const e=this.A.getImmediate({optional:!0});e?r(e):oo("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}}),0)}getToken(){const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then((e=>e?(po("string"==typeof e.token),this.R=e.token,new Ao(e.token)):null)):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}function xo(e){const t="undefined"!=typeof self&&(self.crypto||self.msCrypto),n=new Uint8Array(e);if(t&&"function"==typeof t.getRandomValues)t.getRandomValues(n);else for(let r=0;r<e;r++)n[r]=Math.floor(256*Math.random());return n}class Co{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=62*Math.floor(256/62);let n="";for(;n.length<20;){const r=xo(40);for(let i=0;i<r.length;++i)n.length<20&&r[i]<t&&(n+=e.charAt(r[i]%62))}return n}}function To(e,t){return e<t?-1:e>t?1:0}function Io(e,t,n){return e.length===t.length&&e.every(((e,r)=>n(e,t[r])))}class Ro{static now(){return Ro.fromMillis(Date.now())}static fromDate(e){return Ro.fromMillis(e.getTime())}static fromMillis(e){const t=Math.floor(e/1e3),n=Math.floor(1e6*(e-1e3*t));return new Ro(t,n)}constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new mo(go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new mo(go.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new mo(go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new mo(go.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?To(this.nanoseconds,e.nanoseconds):To(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){const e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}class Mo{static fromTimestamp(e){return new Mo(e)}static min(){return new Mo(new Ro(0,0))}static max(){return new Mo(new Ro(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}class Po{constructor(e,t,n){void 0===t?t=0:t>e.length&&ho(),void 0===n?n=e.length-t:n>e.length-t&&ho(),this.segments=e,this.offset=t,this.len=n}get length(){return this.len}isEqual(e){return 0===Po.comparator(this,e)}child(e){const t=this.segments.slice(this.offset,this.limit());return e instanceof Po?e.forEach((e=>{t.push(e)})):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=void 0===e?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return 0===this.length}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,n=this.limit();t<n;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){const n=Math.min(e.length,t.length);for(let r=0;r<n;r++){const n=e.get(r),i=t.get(r);if(n<i)return-1;if(n>i)return 1}return e.length<t.length?-1:e.length>t.length?1:0}}class No extends Po{construct(e,t,n){return new No(e,t,n)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(){const e=[];for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n){if(i.indexOf("//")>=0)throw new mo(go.INVALID_ARGUMENT,"Invalid segment (".concat(i,"). Paths must not contain // in them."));e.push(...i.split("/").filter((e=>e.length>0)))}return new No(e)}static emptyPath(){return new No([])}}const Lo=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Do extends Po{construct(e,t,n){return new Do(e,t,n)}static isValidIdentifier(e){return Lo.test(e)}canonicalString(){return this.toArray().map((e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Do.isValidIdentifier(e)||(e="`"+e+"`"),e))).join(".")}toString(){return this.canonicalString()}isKeyField(){return 1===this.length&&"__name__"===this.get(0)}static keyField(){return new Do(["__name__"])}static fromServerFormat(e){const t=[];let n="",r=0;const i=()=>{if(0===n.length)throw new mo(go.INVALID_ARGUMENT,"Invalid field path (".concat(e,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"));t.push(n),n=""};let s=!1;for(;r<e.length;){const t=e[r];if("\\"===t){if(r+1===e.length)throw new mo(go.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const t=e[r+1];if("\\"!==t&&"."!==t&&"`"!==t)throw new mo(go.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);n+=t,r+=2}else"`"===t?(s=!s,r++):"."!==t||s?(n+=t,r++):(i(),r++)}if(i(),s)throw new mo(go.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Do(t)}static emptyPath(){return new Do([])}}class Oo{constructor(e){this.path=e}static fromPath(e){return new Oo(No.fromString(e))}static fromName(e){return new Oo(No.fromString(e).popFirst(5))}static empty(){return new Oo(No.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return null!==e&&0===No.comparator(this.path,e.path)}toString(){return this.path.toString()}static comparator(e,t){return No.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new Oo(new No(e.slice()))}}class Fo{constructor(e,t,n,r){this.indexId=e,this.collectionGroup=t,this.fields=n,this.indexState=r}}Fo.UNKNOWN_ID=-1;function jo(e,t){const n=e.toTimestamp().seconds,r=e.toTimestamp().nanoseconds+1,i=Mo.fromTimestamp(1e9===r?new Ro(n+1,0):new Ro(n,r));return new zo(i,Oo.empty(),t)}function Bo(e){return new zo(e.readTime,e.key,-1)}class zo{constructor(e,t,n){this.readTime=e,this.documentKey=t,this.largestBatchId=n}static min(){return new zo(Mo.min(),Oo.empty(),-1)}static max(){return new zo(Mo.max(),Oo.empty(),-1)}}function Vo(e,t){let n=e.readTime.compareTo(t.readTime);return 0!==n?n:(n=Oo.comparator(e.documentKey,t.documentKey),0!==n?n:To(e.largestBatchId,t.largestBatchId))}const Uo="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class Wo{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach((e=>e()))}}async function Ho(e){if(e.code!==go.FAILED_PRECONDITION||e.message!==Uo)throw e;oo("LocalStore","Unexpectedly lost primary lease")}class qo{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e((e=>{this.isDone=!0,this.result=e,this.nextCallback&&this.nextCallback(e)}),(e=>{this.isDone=!0,this.error=e,this.catchCallback&&this.catchCallback(e)}))}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ho(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new qo(((n,r)=>{this.nextCallback=t=>{this.wrapSuccess(e,t).next(n,r)},this.catchCallback=e=>{this.wrapFailure(t,e).next(n,r)}}))}toPromise(){return new Promise(((e,t)=>{this.next(e,t)}))}wrapUserFunction(e){try{const t=e();return t instanceof qo?t:qo.resolve(t)}catch(e){return qo.reject(e)}}wrapSuccess(e,t){return e?this.wrapUserFunction((()=>e(t))):qo.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction((()=>e(t))):qo.reject(t)}static resolve(e){return new qo(((t,n)=>{t(e)}))}static reject(e){return new qo(((t,n)=>{n(e)}))}static waitFor(e){return new qo(((t,n)=>{let r=0,i=0,s=!1;e.forEach((e=>{++r,e.next((()=>{++i,s&&i===r&&t()}),(e=>n(e)))})),s=!0,i===r&&t()}))}static or(e){let t=qo.resolve(!1);for(const n of e)t=t.next((e=>e?qo.resolve(e):n()));return t}static forEach(e,t){const n=[];return e.forEach(((e,r)=>{n.push(t.call(this,e,r))})),this.waitFor(n)}static mapArray(e,t){return new qo(((n,r)=>{const i=e.length,s=new Array(i);let a=0;for(let o=0;o<i;o++){const l=o;t(e[l]).next((e=>{s[l]=e,++a,a===i&&n(s)}),(e=>r(e)))}}))}static doWhile(e,t){return new qo(((n,r)=>{const i=()=>{!0===e()?t().next((()=>{i()}),r):n()};i()}))}}function Go(e){const t=e.match(/Android ([\d.]+)/i),n=t?t[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ko(e){return"IndexedDbTransactionError"===e.name}class Xo{constructor(e,t){this.previousValue=e,t&&(t.sequenceNumberHandler=e=>this.ie(e),this.se=e=>t.writeSequenceNumber(e))}ie(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.se&&this.se(e),e}}function Qo(e){return null==e}function Yo(e){return 0===e&&1/e==-1/0}function Jo(e){let t="";for(let n=0;n<e.length;n++)t.length>0&&(t=Zo(t)),t=$o(e.get(n),t);return Zo(t)}function $o(e,t){let n=t;const r=e.length;for(let i=0;i<r;i++){const t=e.charAt(i);switch(t){case"\0":n+="\x01\x10";break;case"\x01":n+="\x01\x11";break;default:n+=t}}return n}function Zo(e){return e+"\x01\x01"}Xo.oe=-1;const el=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],tl=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],nl=tl,rl=[...nl,"indexConfiguration","indexState","indexEntries"];function il(e){let t=0;for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t++;return t}function sl(e,t){for(const n in e)Object.prototype.hasOwnProperty.call(e,n)&&t(n,e[n])}function al(e){for(const t in e)if(Object.prototype.hasOwnProperty.call(e,t))return!1;return!0}class ol{constructor(e,t){this.comparator=e,this.root=t||cl.EMPTY}insert(e,t){return new ol(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,cl.BLACK,null,null))}remove(e){return new ol(this.comparator,this.root.remove(e,this.comparator).copy(null,null,cl.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){const n=this.comparator(e,t.key);if(0===n)return t.value;n<0?t=t.left:n>0&&(t=t.right)}return null}indexOf(e){let t=0,n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(0===r)return t+n.left.size;r<0?n=n.left:(t+=n.left.size+1,n=n.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal(((t,n)=>(e(t,n),!1)))}toString(){const e=[];return this.inorderTraversal(((t,n)=>(e.push("".concat(t,":").concat(n)),!1))),"{".concat(e.join(", "),"}")}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new ll(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new ll(this.root,e,this.comparator,!1)}getReverseIterator(){return new ll(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new ll(this.root,e,this.comparator,!0)}}class ll{constructor(e,t,n,r){this.isReverse=r,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=t?n(e.key,t):1,t&&r&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(0===i){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(0===this.nodeStack.length)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class cl{constructor(e,t,n,r,i){this.key=e,this.value=t,this.color=null!=n?n:cl.RED,this.left=null!=r?r:cl.EMPTY,this.right=null!=i?i:cl.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,n,r,i){return new cl(null!=e?e:this.key,null!=t?t:this.value,null!=n?n:this.color,null!=r?r:this.left,null!=i?i:this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,n){let r=this;const i=n(e,r.key);return r=i<0?r.copy(null,null,null,r.left.insert(e,t,n),null):0===i?r.copy(null,t,null,null,null):r.copy(null,null,null,null,r.right.insert(e,t,n)),r.fixUp()}removeMin(){if(this.left.isEmpty())return cl.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let n,r=this;if(t(e,r.key)<0)r.left.isEmpty()||r.left.isRed()||r.left.left.isRed()||(r=r.moveRedLeft()),r=r.copy(null,null,null,r.left.remove(e,t),null);else{if(r.left.isRed()&&(r=r.rotateRight()),r.right.isEmpty()||r.right.isRed()||r.right.left.isRed()||(r=r.moveRedRight()),0===t(e,r.key)){if(r.right.isEmpty())return cl.EMPTY;n=r.right.min(),r=r.copy(n.key,n.value,null,null,r.right.removeMin())}r=r.copy(null,null,null,null,r.right.remove(e,t))}return r.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,cl.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,cl.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw ho();if(this.right.isRed())throw ho();const e=this.left.check();if(e!==this.right.check())throw ho();return e+(this.isRed()?0:1)}}cl.EMPTY=null,cl.RED=!0,cl.BLACK=!1,cl.EMPTY=new class{constructor(){this.size=0}get key(){throw ho()}get value(){throw ho()}get color(){throw ho()}get left(){throw ho()}get right(){throw ho()}copy(e,t,n,r,i){return this}insert(e,t,n){return new cl(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};class ul{constructor(e){this.comparator=e,this.data=new ol(this.comparator)}has(e){return null!==this.data.get(e)}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal(((t,n)=>(e(t),!1)))}forEachInRange(e,t){const n=this.data.getIteratorFrom(e[0]);for(;n.hasNext();){const r=n.getNext();if(this.comparator(r.key,e[1])>=0)return;t(r.key)}}forEachWhile(e,t){let n;for(n=void 0!==t?this.data.getIteratorFrom(t):this.data.getIterator();n.hasNext();)if(!e(n.getNext().key))return}firstAfterOrEqual(e){const t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new hl(this.data.getIterator())}getIteratorFrom(e){return new hl(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach((e=>{t=t.add(e)})),t}isEqual(e){if(!(e instanceof ul))return!1;if(this.size!==e.size)return!1;const t=this.data.getIterator(),n=e.data.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(0!==this.comparator(e,r))return!1}return!0}toArray(){const e=[];return this.forEach((t=>{e.push(t)})),e}toString(){const e=[];return this.forEach((t=>e.push(t))),"SortedSet("+e.toString()+")"}copy(e){const t=new ul(this.comparator);return t.data=e,t}}class hl{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}class dl{constructor(e){this.fields=e,e.sort(Do.comparator)}static empty(){return new dl([])}unionWith(e){let t=new ul(Do.comparator);for(const n of this.fields)t=t.add(n);for(const n of e)t=t.add(n);return new dl(t.toArray())}covers(e){for(const t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return Io(this.fields,e.fields,((e,t)=>e.isEqual(t)))}}class pl extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}class fl{constructor(e){this.binaryString=e}static fromBase64String(e){const t=function(e){try{return atob(e)}catch(e){throw"undefined"!=typeof DOMException&&e instanceof DOMException?new pl("Invalid base64 string: "+e):e}}(e);return new fl(t)}static fromUint8Array(e){const t=function(e){let t="";for(let n=0;n<e.length;++n)t+=String.fromCharCode(e[n]);return t}(e);return new fl(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return e=this.binaryString,btoa(e);var e}toUint8Array(){return function(e){const t=new Uint8Array(e.length);for(let n=0;n<e.length;n++)t[n]=e.charCodeAt(n);return t}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return To(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}fl.EMPTY_BYTE_STRING=new fl("");const gl=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function ml(e){if(po(!!e),"string"==typeof e){let t=0;const n=gl.exec(e);if(po(!!n),n[1]){let e=n[1];e=(e+"000000000").substr(0,9),t=Number(e)}const r=new Date(e);return{seconds:Math.floor(r.getTime()/1e3),nanos:t}}return{seconds:vl(e.seconds),nanos:vl(e.nanos)}}function vl(e){return"number"==typeof e?e:"string"==typeof e?Number(e):0}function yl(e){return"string"==typeof e?fl.fromBase64String(e):fl.fromUint8Array(e)}function bl(e){var t,n;return"server_timestamp"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function wl(e){const t=e.mapValue.fields.__previous_value__;return bl(t)?wl(t):t}function _l(e){const t=ml(e.mapValue.fields.__local_write_time__.timestampValue);return new Ro(t.seconds,t.nanos)}class Sl{constructor(e,t,n,r,i,s,a,o,l){this.databaseId=e,this.appId=t,this.persistenceKey=n,this.host=r,this.ssl=i,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=o,this.useFetchStreams=l}}class El{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new El("","")}get isDefaultDatabase(){return"(default)"===this.database}isEqual(e){return e instanceof El&&e.projectId===this.projectId&&e.database===this.database}}const Al={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function kl(e){return"nullValue"in e?0:"booleanValue"in e?1:"integerValue"in e||"doubleValue"in e?2:"timestampValue"in e?3:"stringValue"in e?5:"bytesValue"in e?6:"referenceValue"in e?7:"geoPointValue"in e?8:"arrayValue"in e?9:"mapValue"in e?bl(e)?4:Vl(e)?9007199254740991:Bl(e)?10:11:ho()}function xl(e,t){if(e===t)return!0;const n=kl(e);if(n!==kl(t))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return e.booleanValue===t.booleanValue;case 4:return _l(e).isEqual(_l(t));case 3:return function(e,t){if("string"==typeof e.timestampValue&&"string"==typeof t.timestampValue&&e.timestampValue.length===t.timestampValue.length)return e.timestampValue===t.timestampValue;const n=ml(e.timestampValue),r=ml(t.timestampValue);return n.seconds===r.seconds&&n.nanos===r.nanos}(e,t);case 5:return e.stringValue===t.stringValue;case 6:return function(e,t){return yl(e.bytesValue).isEqual(yl(t.bytesValue))}(e,t);case 7:return e.referenceValue===t.referenceValue;case 8:return function(e,t){return vl(e.geoPointValue.latitude)===vl(t.geoPointValue.latitude)&&vl(e.geoPointValue.longitude)===vl(t.geoPointValue.longitude)}(e,t);case 2:return function(e,t){if("integerValue"in e&&"integerValue"in t)return vl(e.integerValue)===vl(t.integerValue);if("doubleValue"in e&&"doubleValue"in t){const n=vl(e.doubleValue),r=vl(t.doubleValue);return n===r?Yo(n)===Yo(r):isNaN(n)&&isNaN(r)}return!1}(e,t);case 9:return Io(e.arrayValue.values||[],t.arrayValue.values||[],xl);case 10:case 11:return function(e,t){const n=e.mapValue.fields||{},r=t.mapValue.fields||{};if(il(n)!==il(r))return!1;for(const i in n)if(n.hasOwnProperty(i)&&(void 0===r[i]||!xl(n[i],r[i])))return!1;return!0}(e,t);default:return ho()}}function Cl(e,t){return void 0!==(e.values||[]).find((e=>xl(e,t)))}function Tl(e,t){if(e===t)return 0;const n=kl(e),r=kl(t);if(n!==r)return To(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return To(e.booleanValue,t.booleanValue);case 2:return function(e,t){const n=vl(e.integerValue||e.doubleValue),r=vl(t.integerValue||t.doubleValue);return n<r?-1:n>r?1:n===r?0:isNaN(n)?isNaN(r)?0:-1:1}(e,t);case 3:return Il(e.timestampValue,t.timestampValue);case 4:return Il(_l(e),_l(t));case 5:return To(e.stringValue,t.stringValue);case 6:return function(e,t){const n=yl(e),r=yl(t);return n.compareTo(r)}(e.bytesValue,t.bytesValue);case 7:return function(e,t){const n=e.split("/"),r=t.split("/");for(let i=0;i<n.length&&i<r.length;i++){const e=To(n[i],r[i]);if(0!==e)return e}return To(n.length,r.length)}(e.referenceValue,t.referenceValue);case 8:return function(e,t){const n=To(vl(e.latitude),vl(t.latitude));return 0!==n?n:To(vl(e.longitude),vl(t.longitude))}(e.geoPointValue,t.geoPointValue);case 9:return Rl(e.arrayValue,t.arrayValue);case 10:return function(e,t){var n,r,i,s;const a=e.fields||{},o=t.fields||{},l=null===(n=a.value)||void 0===n?void 0:n.arrayValue,c=null===(r=o.value)||void 0===r?void 0:r.arrayValue,u=To((null===(i=null==l?void 0:l.values)||void 0===i?void 0:i.length)||0,(null===(s=null==c?void 0:c.values)||void 0===s?void 0:s.length)||0);return 0!==u?u:Rl(l,c)}(e.mapValue,t.mapValue);case 11:return function(e,t){if(e===Al.mapValue&&t===Al.mapValue)return 0;if(e===Al.mapValue)return 1;if(t===Al.mapValue)return-1;const n=e.fields||{},r=Object.keys(n),i=t.fields||{},s=Object.keys(i);r.sort(),s.sort();for(let a=0;a<r.length&&a<s.length;++a){const e=To(r[a],s[a]);if(0!==e)return e;const t=Tl(n[r[a]],i[s[a]]);if(0!==t)return t}return To(r.length,s.length)}(e.mapValue,t.mapValue);default:throw ho()}}function Il(e,t){if("string"==typeof e&&"string"==typeof t&&e.length===t.length)return To(e,t);const n=ml(e),r=ml(t),i=To(n.seconds,r.seconds);return 0!==i?i:To(n.nanos,r.nanos)}function Rl(e,t){const n=e.values||[],r=t.values||[];for(let i=0;i<n.length&&i<r.length;++i){const e=Tl(n[i],r[i]);if(e)return e}return To(n.length,r.length)}function Ml(e){return Pl(e)}function Pl(e){return"nullValue"in e?"null":"booleanValue"in e?""+e.booleanValue:"integerValue"in e?""+e.integerValue:"doubleValue"in e?""+e.doubleValue:"timestampValue"in e?function(e){const t=ml(e);return"time(".concat(t.seconds,",").concat(t.nanos,")")}(e.timestampValue):"stringValue"in e?e.stringValue:"bytesValue"in e?function(e){return yl(e).toBase64()}(e.bytesValue):"referenceValue"in e?function(e){return Oo.fromName(e).toString()}(e.referenceValue):"geoPointValue"in e?function(e){return"geo(".concat(e.latitude,",").concat(e.longitude,")")}(e.geoPointValue):"arrayValue"in e?function(e){let t="[",n=!0;for(const r of e.values||[])n?n=!1:t+=",",t+=Pl(r);return t+"]"}(e.arrayValue):"mapValue"in e?function(e){const t=Object.keys(e.fields||{}).sort();let n="{",r=!0;for(const i of t)r?r=!1:n+=",",n+="".concat(i,":").concat(Pl(e.fields[i]));return n+"}"}(e.mapValue):ho()}function Nl(e){switch(kl(e)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const t=wl(e);return t?16+Nl(t):16;case 5:return 2*e.stringValue.length;case 6:return yl(e.bytesValue).approximateByteSize();case 7:return e.referenceValue.length;case 9:return function(e){return(e.values||[]).reduce(((e,t)=>e+Nl(t)),0)}(e.arrayValue);case 10:case 11:return function(e){let t=0;return sl(e.fields,((e,n)=>{t+=e.length+Nl(n)})),t}(e.mapValue);default:throw ho()}}function Ll(e){return!!e&&"integerValue"in e}function Dl(e){return!!e&&"arrayValue"in e}function Ol(e){return!!e&&"nullValue"in e}function Fl(e){return!!e&&"doubleValue"in e&&isNaN(Number(e.doubleValue))}function jl(e){return!!e&&"mapValue"in e}function Bl(e){var t,n;return"__vector__"===(null===(n=((null===(t=null==e?void 0:e.mapValue)||void 0===t?void 0:t.fields)||{}).__type__)||void 0===n?void 0:n.stringValue)}function zl(e){if(e.geoPointValue)return{geoPointValue:Object.assign({},e.geoPointValue)};if(e.timestampValue&&"object"==typeof e.timestampValue)return{timestampValue:Object.assign({},e.timestampValue)};if(e.mapValue){const t={mapValue:{fields:{}}};return sl(e.mapValue.fields,((e,n)=>t.mapValue.fields[e]=zl(n))),t}if(e.arrayValue){const t={arrayValue:{values:[]}};for(let n=0;n<(e.arrayValue.values||[]).length;++n)t.arrayValue.values[n]=zl(e.arrayValue.values[n]);return t}return Object.assign({},e)}function Vl(e){return"__max__"===(((e.mapValue||{}).fields||{}).__type__||{}).stringValue}class Ul{constructor(e){this.value=e}static empty(){return new Ul({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let n=0;n<e.length-1;++n)if(t=(t.mapValue.fields||{})[e.get(n)],!jl(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=zl(t)}setAll(e){let t=Do.emptyPath(),n={},r=[];e.forEach(((e,i)=>{if(!t.isImmediateParentOf(i)){const e=this.getFieldsMap(t);this.applyChanges(e,n,r),n={},r=[],t=i.popLast()}e?n[i.lastSegment()]=zl(e):r.push(i.lastSegment())}));const i=this.getFieldsMap(t);this.applyChanges(i,n,r)}delete(e){const t=this.field(e.popLast());jl(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return xl(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let n=0;n<e.length;++n){let r=t.mapValue.fields[e.get(n)];jl(r)&&r.mapValue.fields||(r={mapValue:{fields:{}}},t.mapValue.fields[e.get(n)]=r),t=r}return t.mapValue.fields}applyChanges(e,t,n){sl(t,((t,n)=>e[t]=n));for(const r of n)delete e[r]}clone(){return new Ul(zl(this.value))}}class Wl{constructor(e,t,n,r,i,s,a){this.key=e,this.documentType=t,this.version=n,this.readTime=r,this.createTime=i,this.data=s,this.documentState=a}static newInvalidDocument(e){return new Wl(e,0,Mo.min(),Mo.min(),Mo.min(),Ul.empty(),0)}static newFoundDocument(e,t,n,r){return new Wl(e,1,t,Mo.min(),n,r,0)}static newNoDocument(e,t){return new Wl(e,2,t,Mo.min(),Mo.min(),Ul.empty(),0)}static newUnknownDocument(e,t){return new Wl(e,3,t,Mo.min(),Mo.min(),Ul.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(Mo.min())||2!==this.documentType&&0!==this.documentType||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=Ul.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=Ul.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=Mo.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return 1===this.documentState}get hasCommittedMutations(){return 2===this.documentState}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return 0!==this.documentType}isFoundDocument(){return 1===this.documentType}isNoDocument(){return 2===this.documentType}isUnknownDocument(){return 3===this.documentType}isEqual(e){return e instanceof Wl&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Wl(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return"Document(".concat(this.key,", ").concat(this.version,", ").concat(JSON.stringify(this.data.value),", {createTime: ").concat(this.createTime,"}), {documentType: ").concat(this.documentType,"}), {documentState: ").concat(this.documentState,"})")}}class Hl{constructor(e,t){this.position=e,this.inclusive=t}}function ql(e,t,n){let r=0;for(let i=0;i<e.position.length;i++){const s=t[i],a=e.position[i];if(r=s.field.isKeyField()?Oo.comparator(Oo.fromName(a.referenceValue),n.key):Tl(a,n.data.field(s.field)),"desc"===s.dir&&(r*=-1),0!==r)break}return r}function Gl(e,t){if(null===e)return null===t;if(null===t)return!1;if(e.inclusive!==t.inclusive||e.position.length!==t.position.length)return!1;for(let n=0;n<e.position.length;n++)if(!xl(e.position[n],t.position[n]))return!1;return!0}class Kl{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"asc";this.field=e,this.dir=t}}function Xl(e,t){return e.dir===t.dir&&e.field.isEqual(t.field)}class Ql{}class Yl extends Ql{constructor(e,t,n){super(),this.field=e,this.op=t,this.value=n}static create(e,t,n){return e.isKeyField()?"in"===t||"not-in"===t?this.createKeyFieldInFilter(e,t,n):new ic(e,t,n):"array-contains"===t?new lc(e,n):"in"===t?new cc(e,n):"not-in"===t?new uc(e,n):"array-contains-any"===t?new hc(e,n):new Yl(e,t,n)}static createKeyFieldInFilter(e,t,n){return"in"===t?new sc(e,n):new ac(e,n)}matches(e){const t=e.data.field(this.field);return"!="===this.op?null!==t&&this.matchesComparison(Tl(t,this.value)):null!==t&&kl(this.value)===kl(t)&&this.matchesComparison(Tl(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return 0===e;case"!=":return 0!==e;case">":return e>0;case">=":return e>=0;default:return ho()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class Jl extends Ql{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new Jl(e,t)}matches(e){return $l(this)?void 0===this.filters.find((t=>!t.matches(e))):void 0!==this.filters.find((t=>t.matches(e)))}getFlattenedFilters(){return null!==this.ae||(this.ae=this.filters.reduce(((e,t)=>e.concat(t.getFlattenedFilters())),[])),this.ae}getFilters(){return Object.assign([],this.filters)}}function $l(e){return"and"===e.op}function Zl(e){return ec(e)&&$l(e)}function ec(e){for(const t of e.filters)if(t instanceof Jl)return!1;return!0}function tc(e){if(e instanceof Yl)return e.field.canonicalString()+e.op.toString()+Ml(e.value);if(Zl(e))return e.filters.map((e=>tc(e))).join(",");{const t=e.filters.map((e=>tc(e))).join(",");return"".concat(e.op,"(").concat(t,")")}}function nc(e,t){return e instanceof Yl?function(e,t){return t instanceof Yl&&e.op===t.op&&e.field.isEqual(t.field)&&xl(e.value,t.value)}(e,t):e instanceof Jl?function(e,t){return t instanceof Jl&&e.op===t.op&&e.filters.length===t.filters.length&&e.filters.reduce(((e,n,r)=>e&&nc(n,t.filters[r])),!0)}(e,t):void ho()}function rc(e){return e instanceof Yl?function(e){return"".concat(e.field.canonicalString()," ").concat(e.op," ").concat(Ml(e.value))}(e):e instanceof Jl?function(e){return e.op.toString()+" {"+e.getFilters().map(rc).join(" ,")+"}"}(e):"Filter"}class ic extends Yl{constructor(e,t,n){super(e,t,n),this.key=Oo.fromName(n.referenceValue)}matches(e){const t=Oo.comparator(e.key,this.key);return this.matchesComparison(t)}}class sc extends Yl{constructor(e,t){super(e,"in",t),this.keys=oc("in",t)}matches(e){return this.keys.some((t=>t.isEqual(e.key)))}}class ac extends Yl{constructor(e,t){super(e,"not-in",t),this.keys=oc("not-in",t)}matches(e){return!this.keys.some((t=>t.isEqual(e.key)))}}function oc(e,t){var n;return((null===(n=t.arrayValue)||void 0===n?void 0:n.values)||[]).map((e=>Oo.fromName(e.referenceValue)))}class lc extends Yl{constructor(e,t){super(e,"array-contains",t)}matches(e){const t=e.data.field(this.field);return Dl(t)&&Cl(t.arrayValue,this.value)}}class cc extends Yl{constructor(e,t){super(e,"in",t)}matches(e){const t=e.data.field(this.field);return null!==t&&Cl(this.value.arrayValue,t)}}class uc extends Yl{constructor(e,t){super(e,"not-in",t)}matches(e){if(Cl(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const t=e.data.field(this.field);return null!==t&&!Cl(this.value.arrayValue,t)}}class hc extends Yl{constructor(e,t){super(e,"array-contains-any",t)}matches(e){const t=e.data.field(this.field);return!(!Dl(t)||!t.arrayValue.values)&&t.arrayValue.values.some((e=>Cl(this.value.arrayValue,e)))}}class dc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null;this.path=e,this.collectionGroup=t,this.orderBy=n,this.filters=r,this.limit=i,this.startAt=s,this.endAt=a,this.ue=null}}function pc(e){return new dc(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,arguments.length>5&&void 0!==arguments[5]?arguments[5]:null,arguments.length>6&&void 0!==arguments[6]?arguments[6]:null)}function fc(e){const t=fo(e);if(null===t.ue){let e=t.path.canonicalString();null!==t.collectionGroup&&(e+="|cg:"+t.collectionGroup),e+="|f:",e+=t.filters.map((e=>tc(e))).join(","),e+="|ob:",e+=t.orderBy.map((e=>function(e){return e.field.canonicalString()+e.dir}(e))).join(","),Qo(t.limit)||(e+="|l:",e+=t.limit),t.startAt&&(e+="|lb:",e+=t.startAt.inclusive?"b:":"a:",e+=t.startAt.position.map((e=>Ml(e))).join(",")),t.endAt&&(e+="|ub:",e+=t.endAt.inclusive?"a:":"b:",e+=t.endAt.position.map((e=>Ml(e))).join(",")),t.ue=e}return t.ue}function gc(e,t){if(e.limit!==t.limit)return!1;if(e.orderBy.length!==t.orderBy.length)return!1;for(let n=0;n<e.orderBy.length;n++)if(!Xl(e.orderBy[n],t.orderBy[n]))return!1;if(e.filters.length!==t.filters.length)return!1;for(let n=0;n<e.filters.length;n++)if(!nc(e.filters[n],t.filters[n]))return!1;return e.collectionGroup===t.collectionGroup&&!!e.path.isEqual(t.path)&&!!Gl(e.startAt,t.startAt)&&Gl(e.endAt,t.endAt)}function mc(e){return Oo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}class vc{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:"F",a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:null,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.path=e,this.collectionGroup=t,this.explicitOrderBy=n,this.filters=r,this.limit=i,this.limitType=s,this.startAt=a,this.endAt=o,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}}function yc(e,t,n,r,i,s,a,o){return new vc(e,t,n,r,i,s,a,o)}function bc(e){return new vc(e)}function wc(e){return 0===e.filters.length&&null===e.limit&&null==e.startAt&&null==e.endAt&&(0===e.explicitOrderBy.length||1===e.explicitOrderBy.length&&e.explicitOrderBy[0].field.isKeyField())}function _c(e){return null!==e.collectionGroup}function Sc(e){const t=fo(e);if(null===t.ce){t.ce=[];const e=new Set;for(const i of t.explicitOrderBy)t.ce.push(i),e.add(i.field.canonicalString());const n=t.explicitOrderBy.length>0?t.explicitOrderBy[t.explicitOrderBy.length-1].dir:"asc",r=function(e){let t=new ul(Do.comparator);return e.filters.forEach((e=>{e.getFlattenedFilters().forEach((e=>{e.isInequality()&&(t=t.add(e.field))}))})),t}(t);r.forEach((r=>{e.has(r.canonicalString())||r.isKeyField()||t.ce.push(new Kl(r,n))})),e.has(Do.keyField().canonicalString())||t.ce.push(new Kl(Do.keyField(),n))}return t.ce}function Ec(e){const t=fo(e);return t.le||(t.le=Ac(t,Sc(e))),t.le}function Ac(e,t){if("F"===e.limitType)return pc(e.path,e.collectionGroup,t,e.filters,e.limit,e.startAt,e.endAt);{t=t.map((e=>{const t="desc"===e.dir?"asc":"desc";return new Kl(e.field,t)}));const n=e.endAt?new Hl(e.endAt.position,e.endAt.inclusive):null,r=e.startAt?new Hl(e.startAt.position,e.startAt.inclusive):null;return pc(e.path,e.collectionGroup,t,e.filters,e.limit,n,r)}}function kc(e,t,n){return new vc(e.path,e.collectionGroup,e.explicitOrderBy.slice(),e.filters.slice(),t,n,e.startAt,e.endAt)}function xc(e,t){return gc(Ec(e),Ec(t))&&e.limitType===t.limitType}function Cc(e){return"".concat(fc(Ec(e)),"|lt:").concat(e.limitType)}function Tc(e){return"Query(target=".concat(function(e){let t=e.path.canonicalString();return null!==e.collectionGroup&&(t+=" collectionGroup="+e.collectionGroup),e.filters.length>0&&(t+=", filters: [".concat(e.filters.map((e=>rc(e))).join(", "),"]")),Qo(e.limit)||(t+=", limit: "+e.limit),e.orderBy.length>0&&(t+=", orderBy: [".concat(e.orderBy.map((e=>function(e){return"".concat(e.field.canonicalString()," (").concat(e.dir,")")}(e))).join(", "),"]")),e.startAt&&(t+=", startAt: ",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map((e=>Ml(e))).join(",")),e.endAt&&(t+=", endAt: ",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map((e=>Ml(e))).join(",")),"Target(".concat(t,")")}(Ec(e)),"; limitType=").concat(e.limitType,")")}function Ic(e,t){return t.isFoundDocument()&&function(e,t){const n=t.key.path;return null!==e.collectionGroup?t.key.hasCollectionId(e.collectionGroup)&&e.path.isPrefixOf(n):Oo.isDocumentKey(e.path)?e.path.isEqual(n):e.path.isImmediateParentOf(n)}(e,t)&&function(e,t){for(const n of Sc(e))if(!n.field.isKeyField()&&null===t.data.field(n.field))return!1;return!0}(e,t)&&function(e,t){for(const n of e.filters)if(!n.matches(t))return!1;return!0}(e,t)&&function(e,t){return!(e.startAt&&!function(e,t,n){const r=ql(e,t,n);return e.inclusive?r<=0:r<0}(e.startAt,Sc(e),t))&&!(e.endAt&&!function(e,t,n){const r=ql(e,t,n);return e.inclusive?r>=0:r>0}(e.endAt,Sc(e),t))}(e,t)}function Rc(e){return e.collectionGroup||(e.path.length%2==1?e.path.lastSegment():e.path.get(e.path.length-2))}function Mc(e){return(t,n)=>{let r=!1;for(const i of Sc(e)){const e=Pc(i,t,n);if(0!==e)return e;r=r||i.field.isKeyField()}return 0}}function Pc(e,t,n){const r=e.field.isKeyField()?Oo.comparator(t.key,n.key):function(e,t,n){const r=t.data.field(e),i=n.data.field(e);return null!==r&&null!==i?Tl(r,i):ho()}(e.field,t,n);switch(e.dir){case"asc":return r;case"desc":return-1*r;default:return ho()}}class Nc{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0!==n)for(const[r,i]of n)if(this.equalsFn(r,e))return i}has(e){return void 0!==this.get(e)}set(e,t){const n=this.mapKeyFn(e),r=this.inner[n];if(void 0===r)return this.inner[n]=[[e,t]],void this.innerSize++;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return void(r[i]=[e,t]);r.push([e,t]),this.innerSize++}delete(e){const t=this.mapKeyFn(e),n=this.inner[t];if(void 0===n)return!1;for(let r=0;r<n.length;r++)if(this.equalsFn(n[r][0],e))return 1===n.length?delete this.inner[t]:n.splice(r,1),this.innerSize--,!0;return!1}forEach(e){sl(this.inner,((t,n)=>{for(const[r,i]of n)e(r,i)}))}isEmpty(){return al(this.inner)}size(){return this.innerSize}}const Lc=new ol(Oo.comparator);function Dc(){return Lc}const Oc=new ol(Oo.comparator);function Fc(){let e=Oc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.insert(i.key,i);return e}function jc(e){let t=Oc;return e.forEach(((e,n)=>t=t.insert(e,n.overlayedDocument))),t}function Bc(){return Vc()}function zc(){return Vc()}function Vc(){return new Nc((e=>e.toString()),((e,t)=>e.isEqual(t)))}new ol(Oo.comparator);const Uc=new ul(Oo.comparator);function Wc(){let e=Uc;for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];for(const i of n)e=e.add(i);return e}const Hc=new ul(To);function qc(){return Hc}function Gc(e,t){if(e.useProto3Json){if(isNaN(t))return{doubleValue:"NaN"};if(t===1/0)return{doubleValue:"Infinity"};if(t===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Yo(t)?"-0":t}}function Kc(e){return{integerValue:""+e}}class Xc{constructor(){this._=void 0}}function Qc(e,t,n){return e instanceof $c?function(e,t){const n={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:e.seconds,nanos:e.nanoseconds}}}};return t&&bl(t)&&(t=wl(t)),t&&(n.fields.__previous_value__=t),{mapValue:n}}(n,t):e instanceof Zc?eu(e,t):e instanceof tu?nu(e,t):function(e,t){const n=Jc(e,t),r=iu(n)+iu(e.Pe);return Ll(n)&&Ll(e.Pe)?Kc(r):Gc(e.serializer,r)}(e,t)}function Yc(e,t,n){return e instanceof Zc?eu(e,t):e instanceof tu?nu(e,t):n}function Jc(e,t){return e instanceof ru?function(e){return Ll(e)||function(e){return!!e&&"doubleValue"in e}(e)}(t)?t:{integerValue:0}:null}class $c extends Xc{}class Zc extends Xc{constructor(e){super(),this.elements=e}}function eu(e,t){const n=su(t);for(const r of e.elements)n.some((e=>xl(e,r)))||n.push(r);return{arrayValue:{values:n}}}class tu extends Xc{constructor(e){super(),this.elements=e}}function nu(e,t){let n=su(t);for(const r of e.elements)n=n.filter((e=>!xl(e,r)));return{arrayValue:{values:n}}}class ru extends Xc{constructor(e,t){super(),this.serializer=e,this.Pe=t}}function iu(e){return vl(e.integerValue||e.doubleValue)}function su(e){return Dl(e)&&e.arrayValue.values?e.arrayValue.values.slice():[]}class au{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new au}static exists(e){return new au(void 0,e)}static updateTime(e){return new au(e)}get isNone(){return void 0===this.updateTime&&void 0===this.exists}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function ou(e,t){return void 0!==e.updateTime?t.isFoundDocument()&&t.version.isEqual(e.updateTime):void 0===e.exists||e.exists===t.isFoundDocument()}class lu{}function cu(e,t){if(!e.hasLocalMutations||t&&0===t.fields.length)return null;if(null===t)return e.isNoDocument()?new yu(e.key,au.none()):new pu(e.key,e.data,au.none());{const n=e.data,r=Ul.empty();let i=new ul(Do.comparator);for(let e of t.fields)if(!i.has(e)){let t=n.field(e);null===t&&e.length>1&&(e=e.popLast(),t=n.field(e)),null===t?r.delete(e):r.set(e,t),i=i.add(e)}return new fu(e.key,r,new dl(i.toArray()),au.none())}}function uu(e,t,n){e instanceof pu?function(e,t,n){const r=e.value.clone(),i=mu(e.fieldTransforms,t,n.transformResults);r.setAll(i),t.convertToFoundDocument(n.version,r).setHasCommittedMutations()}(e,t,n):e instanceof fu?function(e,t,n){if(!ou(e.precondition,t))return void t.convertToUnknownDocument(n.version);const r=mu(e.fieldTransforms,t,n.transformResults),i=t.data;i.setAll(gu(e)),i.setAll(r),t.convertToFoundDocument(n.version,i).setHasCommittedMutations()}(e,t,n):function(e,t,n){t.convertToNoDocument(n.version).setHasCommittedMutations()}(0,t,n)}function hu(e,t,n,r){return e instanceof pu?function(e,t,n,r){if(!ou(e.precondition,t))return n;const i=e.value.clone(),s=vu(e.fieldTransforms,r,t);return i.setAll(s),t.convertToFoundDocument(t.version,i).setHasLocalMutations(),null}(e,t,n,r):e instanceof fu?function(e,t,n,r){if(!ou(e.precondition,t))return n;const i=vu(e.fieldTransforms,r,t),s=t.data;return s.setAll(gu(e)),s.setAll(i),t.convertToFoundDocument(t.version,s).setHasLocalMutations(),null===n?null:n.unionWith(e.fieldMask.fields).unionWith(e.fieldTransforms.map((e=>e.field)))}(e,t,n,r):function(e,t,n){return ou(e.precondition,t)?(t.convertToNoDocument(t.version).setHasLocalMutations(),null):n}(e,t,n)}function du(e,t){return e.type===t.type&&!!e.key.isEqual(t.key)&&!!e.precondition.isEqual(t.precondition)&&!!function(e,t){return void 0===e&&void 0===t||!(!e||!t)&&Io(e,t,((e,t)=>function(e,t){return e.field.isEqual(t.field)&&function(e,t){return e instanceof Zc&&t instanceof Zc||e instanceof tu&&t instanceof tu?Io(e.elements,t.elements,xl):e instanceof ru&&t instanceof ru?xl(e.Pe,t.Pe):e instanceof $c&&t instanceof $c}(e.transform,t.transform)}(e,t)))}(e.fieldTransforms,t.fieldTransforms)&&(0===e.type?e.value.isEqual(t.value):1!==e.type||e.data.isEqual(t.data)&&e.fieldMask.isEqual(t.fieldMask))}class pu extends lu{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[];super(),this.key=e,this.value=t,this.precondition=n,this.fieldTransforms=r,this.type=0}getFieldMask(){return null}}class fu extends lu{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:[];super(),this.key=e,this.data=t,this.fieldMask=n,this.precondition=r,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function gu(e){const t=new Map;return e.fieldMask.fields.forEach((n=>{if(!n.isEmpty()){const r=e.data.field(n);t.set(n,r)}})),t}function mu(e,t,n){const r=new Map;po(e.length===n.length);for(let i=0;i<n.length;i++){const s=e[i],a=s.transform,o=t.data.field(s.field);r.set(s.field,Yc(a,o,n[i]))}return r}function vu(e,t,n){const r=new Map;for(const i of e){const e=i.transform,s=n.data.field(i.field);r.set(i.field,Qc(e,s,t))}return r}class yu extends lu{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class bu{constructor(e,t,n,r){this.batchId=e,this.localWriteTime=t,this.baseMutations=n,this.mutations=r}applyToRemoteDocument(e,t){const n=t.mutationResults;for(let r=0;r<this.mutations.length;r++){const t=this.mutations[r];t.key.isEqual(e.key)&&uu(t,e,n[r])}}applyToLocalView(e,t){for(const n of this.baseMutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));for(const n of this.mutations)n.key.isEqual(e.key)&&(t=hu(n,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){const n=zc();return this.mutations.forEach((r=>{const i=e.get(r.key),s=i.overlayedDocument;let a=this.applyToLocalView(s,i.mutatedFields);a=t.has(r.key)?null:a;const o=cu(s,a);null!==o&&n.set(r.key,o),s.isValidDocument()||s.convertToNoDocument(Mo.min())})),n}keys(){return this.mutations.reduce(((e,t)=>e.add(t.key)),Wc())}isEqual(e){return this.batchId===e.batchId&&Io(this.mutations,e.mutations,((e,t)=>du(e,t)))&&Io(this.baseMutations,e.baseMutations,((e,t)=>du(e,t)))}}class wu{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return null!==e&&this.mutation===e.mutation}toString(){return"Overlay{\n      largestBatchId: ".concat(this.largestBatchId,",\n      mutation: ").concat(this.mutation.toString(),"\n    }")}}class _u{constructor(e,t){this.count=e,this.unchangedNames=t}}var Su,Eu;function Au(e){if(void 0===e)return lo("GRPC error has no .code"),go.UNKNOWN;switch(e){case Su.OK:return go.OK;case Su.CANCELLED:return go.CANCELLED;case Su.UNKNOWN:return go.UNKNOWN;case Su.DEADLINE_EXCEEDED:return go.DEADLINE_EXCEEDED;case Su.RESOURCE_EXHAUSTED:return go.RESOURCE_EXHAUSTED;case Su.INTERNAL:return go.INTERNAL;case Su.UNAVAILABLE:return go.UNAVAILABLE;case Su.UNAUTHENTICATED:return go.UNAUTHENTICATED;case Su.INVALID_ARGUMENT:return go.INVALID_ARGUMENT;case Su.NOT_FOUND:return go.NOT_FOUND;case Su.ALREADY_EXISTS:return go.ALREADY_EXISTS;case Su.PERMISSION_DENIED:return go.PERMISSION_DENIED;case Su.FAILED_PRECONDITION:return go.FAILED_PRECONDITION;case Su.ABORTED:return go.ABORTED;case Su.OUT_OF_RANGE:return go.OUT_OF_RANGE;case Su.UNIMPLEMENTED:return go.UNIMPLEMENTED;case Su.DATA_LOSS:return go.DATA_LOSS;default:return ho()}}(Eu=Su||(Su={}))[Eu.OK=0]="OK",Eu[Eu.CANCELLED=1]="CANCELLED",Eu[Eu.UNKNOWN=2]="UNKNOWN",Eu[Eu.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Eu[Eu.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Eu[Eu.NOT_FOUND=5]="NOT_FOUND",Eu[Eu.ALREADY_EXISTS=6]="ALREADY_EXISTS",Eu[Eu.PERMISSION_DENIED=7]="PERMISSION_DENIED",Eu[Eu.UNAUTHENTICATED=16]="UNAUTHENTICATED",Eu[Eu.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Eu[Eu.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Eu[Eu.ABORTED=10]="ABORTED",Eu[Eu.OUT_OF_RANGE=11]="OUT_OF_RANGE",Eu[Eu.UNIMPLEMENTED=12]="UNIMPLEMENTED",Eu[Eu.INTERNAL=13]="INTERNAL",Eu[Eu.UNAVAILABLE=14]="UNAVAILABLE",Eu[Eu.DATA_LOSS=15]="DATA_LOSS";let ku=null;function xu(){return new TextEncoder}const Cu=new Ua([4294967295,4294967295],0);function Tu(e){const t=xu().encode(e),n=new Wa;return n.update(t),new Uint8Array(n.digest())}function Iu(e){const t=new DataView(e.buffer),n=t.getUint32(0,!0),r=t.getUint32(4,!0),i=t.getUint32(8,!0),s=t.getUint32(12,!0);return[new Ua([n,r],0),new Ua([i,s],0)]}class Ru{constructor(e,t,n){if(this.bitmap=e,this.padding=t,this.hashCount=n,t<0||t>=8)throw new Mu("Invalid padding: ".concat(t));if(n<0)throw new Mu("Invalid hash count: ".concat(n));if(e.length>0&&0===this.hashCount)throw new Mu("Invalid hash count: ".concat(n));if(0===e.length&&0!==t)throw new Mu("Invalid padding when bitmap length is 0: ".concat(t));this.Te=8*e.length-t,this.Ie=Ua.fromNumber(this.Te)}Ee(e,t,n){let r=e.add(t.multiply(Ua.fromNumber(n)));return 1===r.compare(Cu)&&(r=new Ua([r.getBits(0),r.getBits(1)],0)),r.modulo(this.Ie).toNumber()}de(e){return 0!=(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(0===this.Te)return!1;const t=Tu(e),[n,r]=Iu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);if(!this.de(e))return!1}return!0}static create(e,t,n){const r=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),s=new Ru(i,r,t);return n.forEach((e=>s.insert(e))),s}insert(e){if(0===this.Te)return;const t=Tu(e),[n,r]=Iu(t);for(let i=0;i<this.hashCount;i++){const e=this.Ee(n,r,i);this.Ae(e)}}Ae(e){const t=Math.floor(e/8),n=e%8;this.bitmap[t]|=1<<n}}class Mu extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}class Pu{constructor(e,t,n,r,i){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=n,this.documentUpdates=r,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,t,n){const r=new Map;return r.set(e,Nu.createSynthesizedTargetChangeForCurrentChange(e,t,n)),new Pu(Mo.min(),r,new ol(To),Dc(),Wc())}}class Nu{constructor(e,t,n,r,i){this.resumeToken=e,this.current=t,this.addedDocuments=n,this.modifiedDocuments=r,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,t,n){return new Nu(n,t,Wc(),Wc(),Wc())}}class Lu{constructor(e,t,n,r){this.Re=e,this.removedTargetIds=t,this.key=n,this.Ve=r}}class Du{constructor(e,t){this.targetId=e,this.me=t}}class Ou{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:fl.EMPTY_BYTE_STRING,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.state=e,this.targetIds=t,this.resumeToken=n,this.cause=r}}class Fu{constructor(){this.fe=0,this.ge=zu(),this.pe=fl.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return 0!==this.fe}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=Wc(),t=Wc(),n=Wc();return this.ge.forEach(((r,i)=>{switch(i){case 0:e=e.add(r);break;case 2:t=t.add(r);break;case 1:n=n.add(r);break;default:ho()}})),new Nu(this.pe,this.ye,e,t,n)}Ce(){this.we=!1,this.ge=zu()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,po(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}}class ju{constructor(e){this.Le=e,this.Be=new Map,this.ke=Dc(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new ol(To)}$e(e){for(const t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.Ue(t,e.Ve):this.We(t,e.key,e.Ve);for(const t of e.removedTargetIds)this.We(t,e.key,e.Ve)}Ge(e){this.forEachTarget(e,(t=>{const n=this.ze(t);switch(e.state){case 0:this.je(t)&&n.De(e.resumeToken);break;case 1:n.Oe(),n.Se||n.Ce(),n.De(e.resumeToken);break;case 2:n.Oe(),n.Se||this.removeTarget(t);break;case 3:this.je(t)&&(n.Ne(),n.De(e.resumeToken));break;case 4:this.je(t)&&(this.He(t),n.De(e.resumeToken));break;default:ho()}}))}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach(((e,n)=>{this.je(n)&&t(n)}))}Je(e){const t=e.targetId,n=e.me.count,r=this.Ye(t);if(r){const i=r.target;if(mc(i))if(0===n){const e=new Oo(i.path);this.We(t,e,Wl.newNoDocument(e,Mo.min()))}else po(1===n);else{const r=this.Ze(t);if(r!==n){const n=this.Xe(e),i=n?this.et(n,e,r):1;if(0!==i){this.He(t);const e=2===i?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ke=this.Ke.insert(t,e)}null==ku||ku.tt(function(e,t,n,r,i){var s,a,o,l,c,u;const h={localCacheCount:e,existenceFilterCount:t.count,databaseId:n.database,projectId:n.projectId},d=t.unchangedNames;return d&&(h.bloomFilter={applied:0===i,hashCount:null!==(s=null==d?void 0:d.hashCount)&&void 0!==s?s:0,bitmapLength:null!==(l=null===(o=null===(a=null==d?void 0:d.bits)||void 0===a?void 0:a.bitmap)||void 0===o?void 0:o.length)&&void 0!==l?l:0,padding:null!==(u=null===(c=null==d?void 0:d.bits)||void 0===c?void 0:c.padding)&&void 0!==u?u:0,mightContain:e=>{var t;return null!==(t=null==r?void 0:r.mightContain(e))&&void 0!==t&&t}}),h}(r,e.me,this.Le.nt(),n,i))}}}}Xe(e){const t=e.me.unchangedNames;if(!t||!t.bits)return null;const{bits:{bitmap:n="",padding:r=0},hashCount:i=0}=t;let s,a;try{s=yl(n).toUint8Array()}catch(e){if(e instanceof pl)return co("Decoding the base64 bloom filter in existence filter failed ("+e.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw e}try{a=new Ru(s,r,i)}catch(e){return co(e instanceof Mu?"BloomFilter error: ":"Applying bloom filter failed: ",e),null}return 0===a.Te?null:a}et(e,t,n){return t.me.count===n-this.rt(e,t.targetId)?0:2}rt(e,t){const n=this.Le.getRemoteKeysForTarget(t);let r=0;return n.forEach((n=>{const i=this.Le.nt(),s="projects/".concat(i.projectId,"/databases/").concat(i.database,"/documents/").concat(n.path.canonicalString());e.mightContain(s)||(this.We(t,n,null),r++)})),r}it(e){const t=new Map;this.Be.forEach(((n,r)=>{const i=this.Ye(r);if(i){if(n.current&&mc(i.target)){const t=new Oo(i.target.path);this.st(t).has(r)||this.ot(r,t)||this.We(r,t,Wl.newNoDocument(t,e))}n.be&&(t.set(r,n.ve()),n.Ce())}}));let n=Wc();this.Qe.forEach(((e,t)=>{let r=!0;t.forEachWhile((e=>{const t=this.Ye(e);return!t||"TargetPurposeLimboResolution"===t.purpose||(r=!1,!1)})),r&&(n=n.add(e))})),this.ke.forEach(((t,n)=>n.setReadTime(e)));const r=new Pu(e,t,this.Ke,this.ke,n);return this.ke=Dc(),this.qe=Bu(),this.Qe=Bu(),this.Ke=new ol(To),r}Ue(e,t){if(!this.je(e))return;const n=this.ot(e,t.key)?2:0;this.ze(e).Fe(t.key,n),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e)),this.Qe=this.Qe.insert(t.key,this._t(t.key).add(e))}We(e,t,n){if(!this.je(e))return;const r=this.ze(e);this.ot(e,t)?r.Fe(t,1):r.Me(t),this.Qe=this.Qe.insert(t,this._t(t).delete(e)),this.Qe=this.Qe.insert(t,this._t(t).add(e)),n&&(this.ke=this.ke.insert(t,n))}removeTarget(e){this.Be.delete(e)}Ze(e){const t=this.ze(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.ze(e).xe()}ze(e){let t=this.Be.get(e);return t||(t=new Fu,this.Be.set(e,t)),t}_t(e){let t=this.Qe.get(e);return t||(t=new ul(To),this.Qe=this.Qe.insert(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new ul(To),this.qe=this.qe.insert(e,t)),t}je(e){const t=null!==this.Ye(e);return t||oo("WatchChangeAggregator","Detected inactive target",e),t}Ye(e){const t=this.Be.get(e);return t&&t.Se?null:this.Le.ut(e)}He(e){this.Be.set(e,new Fu),this.Le.getRemoteKeysForTarget(e).forEach((t=>{this.We(e,t,null)}))}ot(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}}function Bu(){return new ol(Oo.comparator)}function zu(){return new ol(Oo.comparator)}const Vu={asc:"ASCENDING",desc:"DESCENDING"},Uu={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Wu={and:"AND",or:"OR"};class Hu{constructor(e,t){this.databaseId=e,this.useProto3Json=t}}function qu(e,t){return e.useProto3Json||Qo(t)?t:{value:t}}function Gu(e,t){return e.useProto3Json?"".concat(new Date(1e3*t.seconds).toISOString().replace(/\.\d*/,"").replace("Z",""),".").concat(("000000000"+t.nanoseconds).slice(-9),"Z"):{seconds:""+t.seconds,nanos:t.nanoseconds}}function Ku(e,t){return e.useProto3Json?t.toBase64():t.toUint8Array()}function Xu(e){return po(!!e),Mo.fromTimestamp(function(e){const t=ml(e);return new Ro(t.seconds,t.nanos)}(e))}function Qu(e,t){return Yu(e,t).canonicalString()}function Yu(e,t){const n=function(e){return new No(["projects",e.projectId,"databases",e.database])}(e).child("documents");return void 0===t?n:n.child(t)}function Ju(e){const t=No.fromString(e);return po(ph(t)),t}function $u(e,t){const n=Ju(t);if(n.get(1)!==e.databaseId.projectId)throw new mo(go.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+e.databaseId.projectId);if(n.get(3)!==e.databaseId.database)throw new mo(go.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+e.databaseId.database);return new Oo(nh(n))}function Zu(e,t){return Qu(e.databaseId,t)}function eh(e){const t=Ju(e);return 4===t.length?No.emptyPath():nh(t)}function th(e){return new No(["projects",e.databaseId.projectId,"databases",e.databaseId.database]).canonicalString()}function nh(e){return po(e.length>4&&"documents"===e.get(4)),e.popFirst(5)}function rh(e,t){return{documents:[Zu(e,t.path)]}}function ih(e,t){const n={structuredQuery:{}},r=t.path;let i;null!==t.collectionGroup?(i=r,n.structuredQuery.from=[{collectionId:t.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Zu(e,i);const s=function(e){if(0!==e.length)return dh(Jl.create(e,"and"))}(t.filters);s&&(n.structuredQuery.where=s);const a=function(e){if(0!==e.length)return e.map((e=>function(e){return{field:uh(e.field),direction:oh(e.dir)}}(e)))}(t.orderBy);a&&(n.structuredQuery.orderBy=a);const o=qu(e,t.limit);return null!==o&&(n.structuredQuery.limit=o),t.startAt&&(n.structuredQuery.startAt=function(e){return{before:e.inclusive,values:e.position}}(t.startAt)),t.endAt&&(n.structuredQuery.endAt=function(e){return{before:!e.inclusive,values:e.position}}(t.endAt)),{ct:n,parent:i}}function sh(e){let t=eh(e.parent);const n=e.structuredQuery,r=n.from?n.from.length:0;let i=null;if(r>0){po(1===r);const e=n.from[0];e.allDescendants?i=e.collectionId:t=t.child(e.collectionId)}let s=[];n.where&&(s=function(e){const t=ah(e);return t instanceof Jl&&Zl(t)?t.getFilters():[t]}(n.where));let a=[];n.orderBy&&(a=function(e){return e.map((e=>function(e){return new Kl(hh(e.field),function(e){switch(e){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(e.direction))}(e)))}(n.orderBy));let o=null;n.limit&&(o=function(e){let t;return t="object"==typeof e?e.value:e,Qo(t)?null:t}(n.limit));let l=null;n.startAt&&(l=function(e){const t=!!e.before,n=e.values||[];return new Hl(n,t)}(n.startAt));let c=null;return n.endAt&&(c=function(e){const t=!e.before,n=e.values||[];return new Hl(n,t)}(n.endAt)),yc(t,i,a,s,o,"F",l,c)}function ah(e){return void 0!==e.unaryFilter?function(e){switch(e.unaryFilter.op){case"IS_NAN":const t=hh(e.unaryFilter.field);return Yl.create(t,"==",{doubleValue:NaN});case"IS_NULL":const n=hh(e.unaryFilter.field);return Yl.create(n,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const r=hh(e.unaryFilter.field);return Yl.create(r,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const i=hh(e.unaryFilter.field);return Yl.create(i,"!=",{nullValue:"NULL_VALUE"});default:return ho()}}(e):void 0!==e.fieldFilter?function(e){return Yl.create(hh(e.fieldFilter.field),function(e){switch(e){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ho()}}(e.fieldFilter.op),e.fieldFilter.value)}(e):void 0!==e.compositeFilter?function(e){return Jl.create(e.compositeFilter.filters.map((e=>ah(e))),function(e){switch(e){case"AND":return"and";case"OR":return"or";default:return ho()}}(e.compositeFilter.op))}(e):ho()}function oh(e){return Vu[e]}function lh(e){return Uu[e]}function ch(e){return Wu[e]}function uh(e){return{fieldPath:e.canonicalString()}}function hh(e){return Do.fromServerFormat(e.fieldPath)}function dh(e){return e instanceof Yl?function(e){if("=="===e.op){if(Fl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NAN"}};if(Ol(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NULL"}}}else if("!="===e.op){if(Fl(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NAN"}};if(Ol(e.value))return{unaryFilter:{field:uh(e.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:uh(e.field),op:lh(e.op),value:e.value}}}(e):e instanceof Jl?function(e){const t=e.getFilters().map((e=>dh(e)));return 1===t.length?t[0]:{compositeFilter:{op:ch(e.op),filters:t}}}(e):ho()}function ph(e){return e.length>=4&&"projects"===e.get(0)&&"databases"===e.get(2)}class fh{constructor(e,t,n,r){let i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:Mo.min(),s=arguments.length>5&&void 0!==arguments[5]?arguments[5]:Mo.min(),a=arguments.length>6&&void 0!==arguments[6]?arguments[6]:fl.EMPTY_BYTE_STRING,o=arguments.length>7&&void 0!==arguments[7]?arguments[7]:null;this.target=e,this.targetId=t,this.purpose=n,this.sequenceNumber=r,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=o}withSequenceNumber(e){return new fh(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fh(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}class gh{constructor(e){this.ht=e}}function mh(e){const t=sh({parent:e.parent,structuredQuery:e.structuredQuery});return"LAST"===e.limitType?kc(t,t.limit,"L"):t}class vh{constructor(){}Et(e,t){this.dt(e,t),t.At()}dt(e,t){if("nullValue"in e)this.Rt(t,5);else if("booleanValue"in e)this.Rt(t,10),t.Vt(e.booleanValue?1:0);else if("integerValue"in e)this.Rt(t,15),t.Vt(vl(e.integerValue));else if("doubleValue"in e){const n=vl(e.doubleValue);isNaN(n)?this.Rt(t,13):(this.Rt(t,15),Yo(n)?t.Vt(0):t.Vt(n))}else if("timestampValue"in e){let n=e.timestampValue;this.Rt(t,20),"string"==typeof n&&(n=ml(n)),t.ft("".concat(n.seconds||"")),t.Vt(n.nanos||0)}else if("stringValue"in e)this.gt(e.stringValue,t),this.yt(t);else if("bytesValue"in e)this.Rt(t,30),t.wt(yl(e.bytesValue)),this.yt(t);else if("referenceValue"in e)this.St(e.referenceValue,t);else if("geoPointValue"in e){const n=e.geoPointValue;this.Rt(t,45),t.Vt(n.latitude||0),t.Vt(n.longitude||0)}else"mapValue"in e?Vl(e)?this.Rt(t,Number.MAX_SAFE_INTEGER):Bl(e)?this.bt(e.mapValue,t):(this.Dt(e.mapValue,t),this.yt(t)):"arrayValue"in e?(this.vt(e.arrayValue,t),this.yt(t)):ho()}gt(e,t){this.Rt(t,25),this.Ct(e,t)}Ct(e,t){t.ft(e)}Dt(e,t){const n=e.fields||{};this.Rt(t,55);for(const r of Object.keys(n))this.gt(r,t),this.dt(n[r],t)}bt(e,t){var n,r;const i=e.fields||{};this.Rt(t,53);const s="value",a=(null===(r=null===(n=i[s].arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.length)||0;this.Rt(t,15),t.Vt(vl(a)),this.gt(s,t),this.dt(i[s],t)}vt(e,t){const n=e.values||[];this.Rt(t,50);for(const r of n)this.dt(r,t)}St(e,t){this.Rt(t,37),Oo.fromName(e).path.forEach((e=>{this.Rt(t,60),this.Ct(e,t)}))}Rt(e,t){e.Vt(t)}yt(e){e.Vt(2)}}vh.Ft=new vh;class yh{constructor(){this.ln=new bh}addToCollectionParentIndex(e,t){return this.ln.add(t),qo.resolve()}getCollectionParents(e,t){return qo.resolve(this.ln.getEntries(t))}addFieldIndex(e,t){return qo.resolve()}deleteFieldIndex(e,t){return qo.resolve()}deleteAllFieldIndexes(e){return qo.resolve()}createTargetIndexes(e,t){return qo.resolve()}getDocumentsMatchingTarget(e,t){return qo.resolve(null)}getIndexType(e,t){return qo.resolve(0)}getFieldIndexes(e,t){return qo.resolve([])}getNextCollectionGroupToUpdate(e){return qo.resolve(null)}getMinOffset(e,t){return qo.resolve(zo.min())}getMinOffsetFromCollectionGroup(e,t){return qo.resolve(zo.min())}updateCollectionGroup(e,t,n){return qo.resolve()}updateIndexEntries(e,t){return qo.resolve()}}class bh{constructor(){this.index={}}add(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t]||new ul(No.comparator),i=!r.has(n);return this.index[t]=r.add(n),i}has(e){const t=e.lastSegment(),n=e.popLast(),r=this.index[t];return r&&r.has(n)}getEntries(e){return(this.index[e]||new ul(No.comparator)).toArray()}}new Uint8Array(0);const wh={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0};class _h{static withCacheSize(e){return new _h(e,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,t,n){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=n}}_h.DEFAULT_COLLECTION_PERCENTILE=10,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,_h.DEFAULT=new _h(41943040,_h.DEFAULT_COLLECTION_PERCENTILE,_h.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),_h.DISABLED=new _h(-1,0,0);class Sh{constructor(e){this.kn=e}next(){return this.kn+=2,this.kn}static qn(){return new Sh(0)}static Qn(){return new Sh(-1)}}function Eh(e,t){let[n,r]=e,[i,s]=t;const a=To(n,i);return 0===a?To(r,s):a}class Ah{constructor(e){this.Gn=e,this.buffer=new ul(Eh),this.zn=0}jn(){return++this.zn}Hn(e){const t=[e,this.jn()];if(this.buffer.size<this.Gn)this.buffer=this.buffer.add(t);else{const e=this.buffer.last();Eh(t,e)<0&&(this.buffer=this.buffer.delete(e).add(t))}}get maxValue(){return this.buffer.last()[0]}}class kh{constructor(e,t,n){this.garbageCollector=e,this.asyncQueue=t,this.localStore=n,this.Jn=null}start(){-1!==this.garbageCollector.params.cacheSizeCollectionThreshold&&this.Yn(6e4)}stop(){this.Jn&&(this.Jn.cancel(),this.Jn=null)}get started(){return null!==this.Jn}Yn(e){oo("LruGarbageCollector","Garbage collection scheduled in ".concat(e,"ms")),this.Jn=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,(async()=>{this.Jn=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(e){Ko(e)?oo("LruGarbageCollector","Ignoring IndexedDB error during garbage collection: ",e):await Ho(e)}await this.Yn(3e5)}))}}class xh{constructor(e,t){this.Zn=e,this.params=t}calculateTargetCount(e,t){return this.Zn.Xn(e).next((e=>Math.floor(t/100*e)))}nthSequenceNumber(e,t){if(0===t)return qo.resolve(Xo.oe);const n=new Ah(t);return this.Zn.forEachTarget(e,(e=>n.Hn(e.sequenceNumber))).next((()=>this.Zn.er(e,(e=>n.Hn(e))))).next((()=>n.maxValue))}removeTargets(e,t,n){return this.Zn.removeTargets(e,t,n)}removeOrphanedDocuments(e,t){return this.Zn.removeOrphanedDocuments(e,t)}collect(e,t){return-1===this.params.cacheSizeCollectionThreshold?(oo("LruGarbageCollector","Garbage collection skipped; disabled"),qo.resolve(wh)):this.getCacheSize(e).next((n=>n<this.params.cacheSizeCollectionThreshold?(oo("LruGarbageCollector","Garbage collection skipped; Cache size ".concat(n," is lower than threshold ").concat(this.params.cacheSizeCollectionThreshold)),wh):this.tr(e,t)))}getCacheSize(e){return this.Zn.getCacheSize(e)}tr(e,t){let n,r,i,s,a,o,l;const c=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next((t=>(t>this.params.maximumSequenceNumbersToCollect?(oo("LruGarbageCollector","Capping sequence numbers to collect down to the maximum of ".concat(this.params.maximumSequenceNumbersToCollect," from ").concat(t)),r=this.params.maximumSequenceNumbersToCollect):r=t,s=Date.now(),this.nthSequenceNumber(e,r)))).next((r=>(n=r,a=Date.now(),this.removeTargets(e,n,t)))).next((t=>(i=t,o=Date.now(),this.removeOrphanedDocuments(e,n)))).next((e=>(l=Date.now(),ao()<=Zt.DEBUG&&oo("LruGarbageCollector","LRU Garbage Collection\n\tCounted targets in ".concat(s-c,"ms\n\tDetermined least recently used ").concat(r," in ")+(a-s)+"ms\n"+"\tRemoved ".concat(i," targets in ")+(o-a)+"ms\n"+"\tRemoved ".concat(e," documents in ")+(l-o)+"ms\n"+"Total Duration: ".concat(l-c,"ms")),qo.resolve({didRun:!0,sequenceNumbersCollected:r,targetsRemoved:i,documentsRemoved:e}))))}}function Ch(e,t){return new xh(e,t)}class Th{constructor(){this.changes=new Nc((e=>e.toString()),((e,t)=>e.isEqual(t))),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Wl.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();const n=this.changes.get(t);return void 0!==n?qo.resolve(n):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}class Ih{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}}class Rh{constructor(e,t,n,r){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=n,this.indexManager=r}getDocument(e,t){let n=null;return this.documentOverlayCache.getOverlay(e,t).next((r=>(n=r,this.remoteDocumentCache.getEntry(e,t)))).next((e=>(null!==n&&hu(n.mutation,e,dl.empty(),Ro.now()),e)))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.getLocalViewOfDocuments(e,t,Wc()).next((()=>t))))}getLocalViewOfDocuments(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Wc();const r=Bc();return this.populateOverlays(e,r,t).next((()=>this.computeViews(e,t,r,n).next((e=>{let t=Fc();return e.forEach(((e,n)=>{t=t.insert(e,n.overlayedDocument)})),t}))))}getOverlayedDocuments(e,t){const n=Bc();return this.populateOverlays(e,n,t).next((()=>this.computeViews(e,t,n,Wc())))}populateOverlays(e,t,n){const r=[];return n.forEach((e=>{t.has(e)||r.push(e)})),this.documentOverlayCache.getOverlays(e,r).next((e=>{e.forEach(((e,n)=>{t.set(e,n)}))}))}computeViews(e,t,n,r){let i=Dc();const s=Vc(),a=Vc();return t.forEach(((e,t)=>{const a=n.get(t.key);r.has(t.key)&&(void 0===a||a.mutation instanceof fu)?i=i.insert(t.key,t):void 0!==a?(s.set(t.key,a.mutation.getFieldMask()),hu(a.mutation,t,a.mutation.getFieldMask(),Ro.now())):s.set(t.key,dl.empty())})),this.recalculateAndSaveOverlays(e,i).next((e=>(e.forEach(((e,t)=>s.set(e,t))),t.forEach(((e,t)=>{var n;return a.set(e,new Ih(t,null!==(n=s.get(e))&&void 0!==n?n:null))})),a)))}recalculateAndSaveOverlays(e,t){const n=Vc();let r=new ol(((e,t)=>e-t)),i=Wc();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next((e=>{for(const i of e)i.keys().forEach((e=>{const s=t.get(e);if(null===s)return;let a=n.get(e)||dl.empty();a=i.applyToLocalView(s,a),n.set(e,a);const o=(r.get(i.batchId)||Wc()).add(e);r=r.insert(i.batchId,o)}))})).next((()=>{const s=[],a=r.getReverseIterator();for(;a.hasNext();){const r=a.getNext(),o=r.key,l=r.value,c=zc();l.forEach((e=>{if(!i.has(e)){const r=cu(t.get(e),n.get(e));null!==r&&c.set(e,r),i=i.add(e)}})),s.push(this.documentOverlayCache.saveOverlays(e,o,c))}return qo.waitFor(s)})).next((()=>n))}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next((t=>this.recalculateAndSaveOverlays(e,t)))}getDocumentsMatchingQuery(e,t,n,r){return function(e){return Oo.isDocumentKey(e.path)&&null===e.collectionGroup&&0===e.filters.length}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):_c(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,n,r):this.getDocumentsMatchingCollectionQuery(e,t,n,r)}getNextDocuments(e,t,n,r){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,n,r).next((i=>{const s=r-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,n.largestBatchId,r-i.size):qo.resolve(Bc());let a=-1,o=i;return s.next((t=>qo.forEach(t,((t,n)=>(a<n.largestBatchId&&(a=n.largestBatchId),i.get(t)?qo.resolve():this.remoteDocumentCache.getEntry(e,t).next((e=>{o=o.insert(t,e)}))))).next((()=>this.populateOverlays(e,t,i))).next((()=>this.computeViews(e,o,t,Wc()))).next((e=>({batchId:a,changes:jc(e)})))))}))}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Oo(t)).next((e=>{let t=Fc();return e.isFoundDocument()&&(t=t.insert(e.key,e)),t}))}getDocumentsMatchingCollectionGroupQuery(e,t,n,r){const i=t.collectionGroup;let s=Fc();return this.indexManager.getCollectionParents(e,i).next((a=>qo.forEach(a,(a=>{const o=function(e,t){return new vc(t,null,e.explicitOrderBy.slice(),e.filters.slice(),e.limit,e.limitType,e.startAt,e.endAt)}(t,a.child(i));return this.getDocumentsMatchingCollectionQuery(e,o,n,r).next((e=>{e.forEach(((e,t)=>{s=s.insert(e,t)}))}))})).next((()=>s))))}getDocumentsMatchingCollectionQuery(e,t,n,r){let i;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,n.largestBatchId).next((s=>(i=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,n,i,r)))).next((e=>{i.forEach(((t,n)=>{const r=n.getKey();null===e.get(r)&&(e=e.insert(r,Wl.newInvalidDocument(r)))}));let n=Fc();return e.forEach(((e,r)=>{const s=i.get(e);void 0!==s&&hu(s.mutation,r,dl.empty(),Ro.now()),Ic(t,r)&&(n=n.insert(e,r))})),n}))}}class Mh{constructor(e){this.serializer=e,this.Tr=new Map,this.Ir=new Map}getBundleMetadata(e,t){return qo.resolve(this.Tr.get(t))}saveBundleMetadata(e,t){return this.Tr.set(t.id,function(e){return{id:e.id,version:e.version,createTime:Xu(e.createTime)}}(t)),qo.resolve()}getNamedQuery(e,t){return qo.resolve(this.Ir.get(t))}saveNamedQuery(e,t){return this.Ir.set(t.name,function(e){return{name:e.name,query:mh(e.bundledQuery),readTime:Xu(e.readTime)}}(t)),qo.resolve()}}class Ph{constructor(){this.overlays=new ol(Oo.comparator),this.Er=new Map}getOverlay(e,t){return qo.resolve(this.overlays.get(t))}getOverlays(e,t){const n=Bc();return qo.forEach(t,(t=>this.getOverlay(e,t).next((e=>{null!==e&&n.set(t,e)})))).next((()=>n))}saveOverlays(e,t,n){return n.forEach(((n,r)=>{this.Tt(e,t,r)})),qo.resolve()}removeOverlaysForBatchId(e,t,n){const r=this.Er.get(n);return void 0!==r&&(r.forEach((e=>this.overlays=this.overlays.remove(e))),this.Er.delete(n)),qo.resolve()}getOverlaysForCollection(e,t,n){const r=Bc(),i=t.length+1,s=new Oo(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){const e=a.getNext().value,s=e.getKey();if(!t.isPrefixOf(s.path))break;s.path.length===i&&e.largestBatchId>n&&r.set(e.getKey(),e)}return qo.resolve(r)}getOverlaysForCollectionGroup(e,t,n,r){let i=new ol(((e,t)=>e-t));const s=this.overlays.getIterator();for(;s.hasNext();){const e=s.getNext().value;if(e.getKey().getCollectionGroup()===t&&e.largestBatchId>n){let t=i.get(e.largestBatchId);null===t&&(t=Bc(),i=i.insert(e.largestBatchId,t)),t.set(e.getKey(),e)}}const a=Bc(),o=i.getIterator();for(;o.hasNext()&&(o.getNext().value.forEach(((e,t)=>a.set(e,t))),!(a.size()>=r)););return qo.resolve(a)}Tt(e,t,n){const r=this.overlays.get(n.key);if(null!==r){const e=this.Er.get(r.largestBatchId).delete(n.key);this.Er.set(r.largestBatchId,e)}this.overlays=this.overlays.insert(n.key,new wu(t,n));let i=this.Er.get(t);void 0===i&&(i=Wc(),this.Er.set(t,i)),this.Er.set(t,i.add(n.key))}}class Nh{constructor(){this.sessionToken=fl.EMPTY_BYTE_STRING}getSessionToken(e){return qo.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,qo.resolve()}}class Lh{constructor(){this.dr=new ul(Dh.Ar),this.Rr=new ul(Dh.Vr)}isEmpty(){return this.dr.isEmpty()}addReference(e,t){const n=new Dh(e,t);this.dr=this.dr.add(n),this.Rr=this.Rr.add(n)}mr(e,t){e.forEach((e=>this.addReference(e,t)))}removeReference(e,t){this.gr(new Dh(e,t))}pr(e,t){e.forEach((e=>this.removeReference(e,t)))}yr(e){const t=new Oo(new No([])),n=new Dh(t,e),r=new Dh(t,e+1),i=[];return this.Rr.forEachInRange([n,r],(e=>{this.gr(e),i.push(e.key)})),i}wr(){this.dr.forEach((e=>this.gr(e)))}gr(e){this.dr=this.dr.delete(e),this.Rr=this.Rr.delete(e)}Sr(e){const t=new Oo(new No([])),n=new Dh(t,e),r=new Dh(t,e+1);let i=Wc();return this.Rr.forEachInRange([n,r],(e=>{i=i.add(e.key)})),i}containsKey(e){const t=new Dh(e,0),n=this.dr.firstAfterOrEqual(t);return null!==n&&e.isEqual(n.key)}}class Dh{constructor(e,t){this.key=e,this.br=t}static Ar(e,t){return Oo.comparator(e.key,t.key)||To(e.br,t.br)}static Vr(e,t){return To(e.br,t.br)||Oo.comparator(e.key,t.key)}}class Oh{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Dr=1,this.vr=new ul(Dh.Ar)}checkEmpty(e){return qo.resolve(0===this.mutationQueue.length)}addMutationBatch(e,t,n,r){const i=this.Dr;this.Dr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const s=new bu(i,t,n,r);this.mutationQueue.push(s);for(const a of r)this.vr=this.vr.add(new Dh(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return qo.resolve(s)}lookupMutationBatch(e,t){return qo.resolve(this.Cr(t))}getNextMutationBatchAfterBatchId(e,t){const n=t+1,r=this.Fr(n),i=r<0?0:r;return qo.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return qo.resolve(0===this.mutationQueue.length?-1:this.Dr-1)}getAllMutationBatches(e){return qo.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){const n=new Dh(t,0),r=new Dh(t,Number.POSITIVE_INFINITY),i=[];return this.vr.forEachInRange([n,r],(e=>{const t=this.Cr(e.br);i.push(t)})),qo.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,t){let n=new ul(To);return t.forEach((e=>{const t=new Dh(e,0),r=new Dh(e,Number.POSITIVE_INFINITY);this.vr.forEachInRange([t,r],(e=>{n=n.add(e.br)}))})),qo.resolve(this.Mr(n))}getAllMutationBatchesAffectingQuery(e,t){const n=t.path,r=n.length+1;let i=n;Oo.isDocumentKey(i)||(i=i.child(""));const s=new Dh(new Oo(i),0);let a=new ul(To);return this.vr.forEachWhile((e=>{const t=e.key.path;return!!n.isPrefixOf(t)&&(t.length===r&&(a=a.add(e.br)),!0)}),s),qo.resolve(this.Mr(a))}Mr(e){const t=[];return e.forEach((e=>{const n=this.Cr(e);null!==n&&t.push(n)})),t}removeMutationBatch(e,t){po(0===this.Or(t.batchId,"removed")),this.mutationQueue.shift();let n=this.vr;return qo.forEach(t.mutations,(r=>{const i=new Dh(r.key,t.batchId);return n=n.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,r.key)})).next((()=>{this.vr=n}))}Ln(e){}containsKey(e,t){const n=new Dh(t,0),r=this.vr.firstAfterOrEqual(n);return qo.resolve(t.isEqual(r&&r.key))}performConsistencyCheck(e){return this.mutationQueue.length,qo.resolve()}Or(e,t){return this.Fr(e)}Fr(e){return 0===this.mutationQueue.length?0:e-this.mutationQueue[0].batchId}Cr(e){const t=this.Fr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}}class Fh{constructor(e){this.Nr=e,this.docs=new ol(Oo.comparator),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){const n=t.key,r=this.docs.get(n),i=r?r.size:0,s=this.Nr(t);return this.docs=this.docs.insert(n,{document:t.mutableCopy(),size:s}),this.size+=s-i,this.indexManager.addToCollectionParentIndex(e,n.path.popLast())}removeEntry(e){const t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){const n=this.docs.get(t);return qo.resolve(n?n.document.mutableCopy():Wl.newInvalidDocument(t))}getEntries(e,t){let n=Dc();return t.forEach((e=>{const t=this.docs.get(e);n=n.insert(e,t?t.document.mutableCopy():Wl.newInvalidDocument(e))})),qo.resolve(n)}getDocumentsMatchingQuery(e,t,n,r){let i=Dc();const s=t.path,a=new Oo(s.child("")),o=this.docs.getIteratorFrom(a);for(;o.hasNext();){const{key:e,value:{document:a}}=o.getNext();if(!s.isPrefixOf(e.path))break;e.path.length>s.length+1||Vo(Bo(a),n)<=0||(r.has(a.key)||Ic(t,a))&&(i=i.insert(a.key,a.mutableCopy()))}return qo.resolve(i)}getAllFromCollectionGroup(e,t,n,r){ho()}Lr(e,t){return qo.forEach(this.docs,(e=>t(e)))}newChangeBuffer(e){return new jh(this)}getSize(e){return qo.resolve(this.size)}}class jh extends Th{constructor(e){super(),this.hr=e}applyChanges(e){const t=[];return this.changes.forEach(((n,r)=>{r.isValidDocument()?t.push(this.hr.addEntry(e,r)):this.hr.removeEntry(n)})),qo.waitFor(t)}getFromCache(e,t){return this.hr.getEntry(e,t)}getAllFromCache(e,t){return this.hr.getEntries(e,t)}}class Bh{constructor(e){this.persistence=e,this.Br=new Nc((e=>fc(e)),gc),this.lastRemoteSnapshotVersion=Mo.min(),this.highestTargetId=0,this.kr=0,this.qr=new Lh,this.targetCount=0,this.Qr=Sh.qn()}forEachTarget(e,t){return this.Br.forEach(((e,n)=>t(n))),qo.resolve()}getLastRemoteSnapshotVersion(e){return qo.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return qo.resolve(this.kr)}allocateTargetId(e){return this.highestTargetId=this.Qr.next(),qo.resolve(this.highestTargetId)}setTargetsMetadata(e,t,n){return n&&(this.lastRemoteSnapshotVersion=n),t>this.kr&&(this.kr=t),qo.resolve()}Un(e){this.Br.set(e.target,e);const t=e.targetId;t>this.highestTargetId&&(this.Qr=new Sh(t),this.highestTargetId=t),e.sequenceNumber>this.kr&&(this.kr=e.sequenceNumber)}addTargetData(e,t){return this.Un(t),this.targetCount+=1,qo.resolve()}updateTargetData(e,t){return this.Un(t),qo.resolve()}removeTargetData(e,t){return this.Br.delete(t.target),this.qr.yr(t.targetId),this.targetCount-=1,qo.resolve()}removeTargets(e,t,n){let r=0;const i=[];return this.Br.forEach(((s,a)=>{a.sequenceNumber<=t&&null===n.get(a.targetId)&&(this.Br.delete(s),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),r++)})),qo.waitFor(i).next((()=>r))}getTargetCount(e){return qo.resolve(this.targetCount)}getTargetData(e,t){const n=this.Br.get(t)||null;return qo.resolve(n)}addMatchingKeys(e,t,n){return this.qr.mr(t,n),qo.resolve()}removeMatchingKeys(e,t,n){this.qr.pr(t,n);const r=this.persistence.referenceDelegate,i=[];return r&&t.forEach((t=>{i.push(r.markPotentiallyOrphaned(e,t))})),qo.waitFor(i)}removeMatchingKeysForTargetId(e,t){return this.qr.yr(t),qo.resolve()}getMatchingKeysForTargetId(e,t){const n=this.qr.Sr(t);return qo.resolve(n)}containsKey(e,t){return qo.resolve(this.qr.containsKey(t))}}class zh{constructor(e,t){this.Kr={},this.overlays={},this.$r=new Xo(0),this.Ur=!1,this.Ur=!0,this.Wr=new Nh,this.referenceDelegate=e(this),this.Gr=new Bh(this),this.indexManager=new yh,this.remoteDocumentCache=function(e){return new Fh(e)}((e=>this.referenceDelegate.zr(e))),this.serializer=new gh(t),this.jr=new Mh(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Ur=!1,Promise.resolve()}get started(){return this.Ur}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new Ph,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let n=this.Kr[e.toKey()];return n||(n=new Oh(t,this.referenceDelegate),this.Kr[e.toKey()]=n),n}getGlobalsCache(){return this.Wr}getTargetCache(){return this.Gr}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.jr}runTransaction(e,t,n){oo("MemoryPersistence","Starting transaction:",e);const r=new Vh(this.$r.next());return this.referenceDelegate.Hr(),n(r).next((e=>this.referenceDelegate.Jr(r).next((()=>e)))).toPromise().then((e=>(r.raiseOnCommittedEvent(),e)))}Yr(e,t){return qo.or(Object.values(this.Kr).map((n=>()=>n.containsKey(e,t))))}}class Vh extends Wo{constructor(e){super(),this.currentSequenceNumber=e}}class Uh{constructor(e){this.persistence=e,this.Zr=new Lh,this.Xr=null}static ei(e){return new Uh(e)}get ti(){if(this.Xr)return this.Xr;throw ho()}addReference(e,t,n){return this.Zr.addReference(n,t),this.ti.delete(n.toString()),qo.resolve()}removeReference(e,t,n){return this.Zr.removeReference(n,t),this.ti.add(n.toString()),qo.resolve()}markPotentiallyOrphaned(e,t){return this.ti.add(t.toString()),qo.resolve()}removeTarget(e,t){this.Zr.yr(t.targetId).forEach((e=>this.ti.add(e.toString())));const n=this.persistence.getTargetCache();return n.getMatchingKeysForTargetId(e,t.targetId).next((e=>{e.forEach((e=>this.ti.add(e.toString())))})).next((()=>n.removeTargetData(e,t)))}Hr(){this.Xr=new Set}Jr(e){const t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return qo.forEach(this.ti,(n=>{const r=Oo.fromPath(n);return this.ni(e,r).next((e=>{e||t.removeEntry(r,Mo.min())}))})).next((()=>(this.Xr=null,t.apply(e))))}updateLimboDocument(e,t){return this.ni(e,t).next((e=>{e?this.ti.delete(t.toString()):this.ti.add(t.toString())}))}zr(e){return 0}ni(e,t){return qo.or([()=>qo.resolve(this.Zr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Yr(e,t)])}}class Wh{constructor(e,t){this.persistence=e,this.ri=new Nc((e=>Jo(e.path)),((e,t)=>e.isEqual(t))),this.garbageCollector=Ch(this,t)}static ei(e,t){return new Wh(e,t)}Hr(){}Jr(e){return qo.resolve()}forEachTarget(e,t){return this.persistence.getTargetCache().forEachTarget(e,t)}Xn(e){const t=this.nr(e);return this.persistence.getTargetCache().getTargetCount(e).next((e=>t.next((t=>e+t))))}nr(e){let t=0;return this.er(e,(e=>{t++})).next((()=>t))}er(e,t){return qo.forEach(this.ri,((n,r)=>this.ir(e,n,r).next((e=>e?qo.resolve():t(r)))))}removeTargets(e,t,n){return this.persistence.getTargetCache().removeTargets(e,t,n)}removeOrphanedDocuments(e,t){let n=0;const r=this.persistence.getRemoteDocumentCache(),i=r.newChangeBuffer();return r.Lr(e,(r=>this.ir(e,r,t).next((e=>{e||(n++,i.removeEntry(r,Mo.min()))})))).next((()=>i.apply(e))).next((()=>n))}markPotentiallyOrphaned(e,t){return this.ri.set(t,e.currentSequenceNumber),qo.resolve()}removeTarget(e,t){const n=t.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,n)}addReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),qo.resolve()}removeReference(e,t,n){return this.ri.set(n,e.currentSequenceNumber),qo.resolve()}updateLimboDocument(e,t){return this.ri.set(t,e.currentSequenceNumber),qo.resolve()}zr(e){let t=e.key.toString().length;return e.isFoundDocument()&&(t+=Nl(e.data.value)),t}ir(e,t,n){return qo.or([()=>this.persistence.Yr(e,t),()=>this.persistence.getTargetCache().containsKey(e,t),()=>{const e=this.ri.get(t);return qo.resolve(void 0!==e&&e>n)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}class Hh{constructor(e,t,n,r){this.targetId=e,this.fromCache=t,this.Wi=n,this.Gi=r}static zi(e,t){let n=Wc(),r=Wc();for(const i of t.docChanges)switch(i.type){case 0:n=n.add(i.doc.key);break;case 1:r=r.add(i.doc.key)}return new Hh(e,t.fromCache,n,r)}}class qh{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}class Gh{constructor(){this.ji=!1,this.Hi=!1,this.Ji=100,this.Yi=Lt()?8:Go(Nt())>0?6:4}initialize(e,t){this.Zi=e,this.indexManager=t,this.ji=!0}getDocumentsMatchingQuery(e,t,n,r){const i={result:null};return this.Xi(e,t).next((e=>{i.result=e})).next((()=>{if(!i.result)return this.es(e,t,r,n).next((e=>{i.result=e}))})).next((()=>{if(i.result)return;const n=new qh;return this.ts(e,t,n).next((r=>{if(i.result=r,this.Hi)return this.ns(e,t,n,r.size)}))})).next((()=>i.result))}ns(e,t,n,r){return n.documentReadCount<this.Ji?(ao()<=Zt.DEBUG&&oo("QueryEngine","SDK will not create cache indexes for query:",Tc(t),"since it only creates cache indexes for collection contains","more than or equal to",this.Ji,"documents"),qo.resolve()):(ao()<=Zt.DEBUG&&oo("QueryEngine","Query:",Tc(t),"scans",n.documentReadCount,"local documents and returns",r,"documents as results."),n.documentReadCount>this.Yi*r?(ao()<=Zt.DEBUG&&oo("QueryEngine","The SDK decides to create cache indexes for query:",Tc(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Ec(t))):qo.resolve())}Xi(e,t){if(wc(t))return qo.resolve(null);let n=Ec(t);return this.indexManager.getIndexType(e,n).next((r=>0===r?null:(null!==t.limit&&1===r&&(t=kc(t,null,"F"),n=Ec(t)),this.indexManager.getDocumentsMatchingTarget(e,n).next((r=>{const i=Wc(...r);return this.Zi.getDocuments(e,i).next((r=>this.indexManager.getMinOffset(e,n).next((n=>{const s=this.rs(t,r);return this.ss(t,s,i,n.readTime)?this.Xi(e,kc(t,null,"F")):this.os(e,s,t,n)}))))})))))}es(e,t,n,r){return wc(t)||r.isEqual(Mo.min())?qo.resolve(null):this.Zi.getDocuments(e,n).next((i=>{const s=this.rs(t,i);return this.ss(t,s,n,r)?qo.resolve(null):(ao()<=Zt.DEBUG&&oo("QueryEngine","Re-using previous result from %s to execute query: %s",r.toString(),Tc(t)),this.os(e,s,t,jo(r,-1)).next((e=>e)))}))}rs(e,t){let n=new ul(Mc(e));return t.forEach(((t,r)=>{Ic(e,r)&&(n=n.add(r))})),n}ss(e,t,n,r){if(null===e.limit)return!1;if(n.size!==t.size)return!0;const i="F"===e.limitType?t.last():t.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(r)>0)}ts(e,t,n){return ao()<=Zt.DEBUG&&oo("QueryEngine","Using full collection scan to execute query:",Tc(t)),this.Zi.getDocumentsMatchingQuery(e,t,zo.min(),n)}os(e,t,n,r){return this.Zi.getDocumentsMatchingQuery(e,n,r).next((e=>(t.forEach((t=>{e=e.insert(t.key,t)})),e)))}}class Kh{constructor(e,t,n,r){this.persistence=e,this._s=t,this.serializer=r,this.us=new ol(To),this.cs=new Nc((e=>fc(e)),gc),this.ls=new Map,this.hs=e.getRemoteDocumentCache(),this.Gr=e.getTargetCache(),this.jr=e.getBundleCache(),this.Ps(n)}Ps(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Rh(this.hs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.hs.setIndexManager(this.indexManager),this._s.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",(t=>e.collect(t,this.us)))}}function Xh(e,t,n,r){return new Kh(e,t,n,r)}async function Qh(e,t){const n=fo(e);return await n.persistence.runTransaction("Handle user change","readonly",(e=>{let r;return n.mutationQueue.getAllMutationBatches(e).next((i=>(r=i,n.Ps(t),n.mutationQueue.getAllMutationBatches(e)))).next((t=>{const i=[],s=[];let a=Wc();for(const e of r){i.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}for(const e of t){s.push(e.batchId);for(const t of e.mutations)a=a.add(t.key)}return n.localDocuments.getDocuments(e,a).next((e=>({Ts:e,removedBatchIds:i,addedBatchIds:s})))}))}))}function Yh(e){const t=fo(e);return t.persistence.runTransaction("Get last remote snapshot version","readonly",(e=>t.Gr.getLastRemoteSnapshotVersion(e)))}function Jh(e,t,n){let r=Wc(),i=Wc();return n.forEach((e=>r=r.add(e))),t.getEntries(e,r).next((e=>{let r=Dc();return n.forEach(((n,s)=>{const a=e.get(n);s.isFoundDocument()!==a.isFoundDocument()&&(i=i.add(n)),s.isNoDocument()&&s.version.isEqual(Mo.min())?(t.removeEntry(n,s.readTime),r=r.insert(n,s)):!a.isValidDocument()||s.version.compareTo(a.version)>0||0===s.version.compareTo(a.version)&&a.hasPendingWrites?(t.addEntry(s),r=r.insert(n,s)):oo("LocalStore","Ignoring outdated watch update for ",n,". Current version:",a.version," Watch version:",s.version)})),{Is:r,Es:i}}))}function $h(e,t){const n=fo(e);return n.persistence.runTransaction("Allocate target","readwrite",(e=>{let r;return n.Gr.getTargetData(e,t).next((i=>i?(r=i,qo.resolve(r)):n.Gr.allocateTargetId(e).next((i=>(r=new fh(t,i,"TargetPurposeListen",e.currentSequenceNumber),n.Gr.addTargetData(e,r).next((()=>r)))))))})).then((e=>{const r=n.us.get(e.targetId);return(null===r||e.snapshotVersion.compareTo(r.snapshotVersion)>0)&&(n.us=n.us.insert(e.targetId,e),n.cs.set(t,e.targetId)),e}))}async function Zh(e,t,n){const r=fo(e),i=r.us.get(t),s=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",s,(e=>r.persistence.referenceDelegate.removeTarget(e,i)))}catch(e){if(!Ko(e))throw e;oo("LocalStore","Failed to update sequence numbers for target ".concat(t,": ").concat(e))}r.us=r.us.remove(t),r.cs.delete(i.target)}function ed(e,t,n){const r=fo(e);let i=Mo.min(),s=Wc();return r.persistence.runTransaction("Execute query","readwrite",(e=>function(e,t,n){const r=fo(e),i=r.cs.get(n);return void 0!==i?qo.resolve(r.us.get(i)):r.Gr.getTargetData(t,n)}(r,e,Ec(t)).next((t=>{if(t)return i=t.lastLimboFreeSnapshotVersion,r.Gr.getMatchingKeysForTargetId(e,t.targetId).next((e=>{s=e}))})).next((()=>r._s.getDocumentsMatchingQuery(e,t,n?i:Mo.min(),n?s:Wc()))).next((e=>(td(r,Rc(t),e),{documents:e,ds:s})))))}function td(e,t,n){let r=e.ls.get(t)||Mo.min();n.forEach(((e,t)=>{t.readTime.compareTo(r)>0&&(r=t.readTime)})),e.ls.set(t,r)}class nd{constructor(){this.activeTargetIds=qc()}ps(e){this.activeTargetIds=this.activeTargetIds.add(e)}ys(e){this.activeTargetIds=this.activeTargetIds.delete(e)}gs(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class rd{constructor(){this._o=new nd,this.ao={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,n){}addLocalQueryTarget(e){return(!(arguments.length>1&&void 0!==arguments[1])||arguments[1])&&this._o.ps(e),this.ao[e]||"not-current"}updateQueryState(e,t,n){this.ao[e]=t}removeLocalQueryTarget(e){this._o.ys(e)}isLocalQueryTarget(e){return this._o.activeTargetIds.has(e)}clearQueryState(e){delete this.ao[e]}getAllActiveQueryTargets(){return this._o.activeTargetIds}isActiveQueryTarget(e){return this._o.activeTargetIds.has(e)}start(){return this._o=new nd,Promise.resolve()}handleUserChange(e,t,n){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}class id{uo(e){}shutdown(){}}class sd{constructor(){this.co=()=>this.lo(),this.ho=()=>this.Po(),this.To=[],this.Io()}uo(e){this.To.push(e)}shutdown(){window.removeEventListener("online",this.co),window.removeEventListener("offline",this.ho)}Io(){window.addEventListener("online",this.co),window.addEventListener("offline",this.ho)}lo(){oo("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(const e of this.To)e(0)}Po(){oo("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(const e of this.To)e(1)}static p(){return"undefined"!=typeof window&&void 0!==window.addEventListener&&void 0!==window.removeEventListener}}let ad=null;function od(){return null===ad?ad=268435456+Math.round(2147483648*Math.random()):ad++,"0x"+ad.toString(16)}const ld={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};class cd{constructor(e){this.Eo=e.Eo,this.Ao=e.Ao}Ro(e){this.Vo=e}mo(e){this.fo=e}po(e){this.yo=e}onMessage(e){this.wo=e}close(){this.Ao()}send(e){this.Eo(e)}So(){this.Vo()}bo(){this.fo()}Do(e){this.yo(e)}vo(e){this.wo(e)}}const ud="WebChannelConnection";class hd extends class{get Co(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const t=e.ssl?"https":"http",n=encodeURIComponent(this.databaseId.projectId),r=encodeURIComponent(this.databaseId.database);this.Fo=t+"://"+e.host,this.Mo="projects/".concat(n,"/databases/").concat(r),this.xo="(default)"===this.databaseId.database?"project_id=".concat(n):"project_id=".concat(n,"&database_id=").concat(r)}Oo(e,t,n,r,i){const s=od(),a=this.No(e,t.toUriEncodedString());oo("RestConnection","Sending RPC '".concat(e,"' ").concat(s,":"),a,n);const o={"google-cloud-resource-prefix":this.Mo,"x-goog-request-params":this.xo};return this.Lo(o,r,i),this.Bo(e,a,o,n).then((t=>(oo("RestConnection","Received RPC '".concat(e,"' ").concat(s,": "),t),t)),(t=>{throw co("RestConnection","RPC '".concat(e,"' ").concat(s," failed with error: "),t,"url: ",a,"request:",n),t}))}ko(e,t,n,r,i,s){return this.Oo(e,t,n,r,i)}Lo(e,t,n){e["X-Goog-Api-Client"]="gl-js/ fire/"+io,e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),t&&t.headers.forEach(((t,n)=>e[n]=t)),n&&n.headers.forEach(((t,n)=>e[n]=t))}No(e,t){const n=ld[e];return"".concat(this.Fo,"/v1/").concat(t,":").concat(n)}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}Bo(e,t,n,r){const i=od();return new Promise(((s,a)=>{const o=new Ga;o.setWithCredentials(!0),o.listenOnce(Xa.COMPLETE,(()=>{try{switch(o.getLastErrorCode()){case Qa.NO_ERROR:const t=o.getResponseJson();oo(ud,"XHR for RPC '".concat(e,"' ").concat(i," received:"),JSON.stringify(t)),s(t);break;case Qa.TIMEOUT:oo(ud,"RPC '".concat(e,"' ").concat(i," timed out")),a(new mo(go.DEADLINE_EXCEEDED,"Request time out"));break;case Qa.HTTP_ERROR:const n=o.getStatus();if(oo(ud,"RPC '".concat(e,"' ").concat(i," failed with status:"),n,"response text:",o.getResponseText()),n>0){let e=o.getResponseJson();Array.isArray(e)&&(e=e[0]);const t=null==e?void 0:e.error;if(t&&t.status&&t.message){const e=function(e){const t=e.toLowerCase().replace(/_/g,"-");return Object.values(go).indexOf(t)>=0?t:go.UNKNOWN}(t.status);a(new mo(e,t.message))}else a(new mo(go.UNKNOWN,"Server responded with status "+o.getStatus()))}else a(new mo(go.UNAVAILABLE,"Connection failed."));break;default:ho()}}finally{oo(ud,"RPC '".concat(e,"' ").concat(i," completed."))}}));const l=JSON.stringify(r);oo(ud,"RPC '".concat(e,"' ").concat(i," sending request:"),r),o.send(t,"POST",l,n,15)}))}qo(e,t,n){const r=od(),i=[this.Fo,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=Za(),a=$a(),o={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:"projects/".concat(this.databaseId.projectId,"/databases/").concat(this.databaseId.database)},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;void 0!==l&&(o.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(o.useFetchStreams=!0),this.Lo(o.initMessageHeaders,t,n),o.encodeInitMessageHeaders=!0;const c=i.join("");oo(ud,"Creating RPC '".concat(e,"' stream ").concat(r,": ").concat(c),o);const u=s.createWebChannel(c,o);let h=!1,d=!1;const p=new cd({Eo:t=>{d?oo(ud,"Not sending because RPC '".concat(e,"' stream ").concat(r," is closed:"),t):(h||(oo(ud,"Opening RPC '".concat(e,"' stream ").concat(r," transport.")),u.open(),h=!0),oo(ud,"RPC '".concat(e,"' stream ").concat(r," sending:"),t),u.send(t))},Ao:()=>u.close()}),f=(e,t,n)=>{e.listen(t,(e=>{try{n(e)}catch(e){setTimeout((()=>{throw e}),0)}}))};return f(u,Ka.EventType.OPEN,(()=>{d||(oo(ud,"RPC '".concat(e,"' stream ").concat(r," transport opened.")),p.So())})),f(u,Ka.EventType.CLOSE,(()=>{d||(d=!0,oo(ud,"RPC '".concat(e,"' stream ").concat(r," transport closed")),p.Do())})),f(u,Ka.EventType.ERROR,(t=>{d||(d=!0,co(ud,"RPC '".concat(e,"' stream ").concat(r," transport errored:"),t),p.Do(new mo(go.UNAVAILABLE,"The operation could not be completed")))})),f(u,Ka.EventType.MESSAGE,(t=>{var n;if(!d){const i=t.data[0];po(!!i);const s=i,a=(null==s?void 0:s.error)||(null===(n=s[0])||void 0===n?void 0:n.error);if(a){oo(ud,"RPC '".concat(e,"' stream ").concat(r," received error:"),a);const t=a.status;let n=function(e){const t=Su[e];if(void 0!==t)return Au(t)}(t),i=a.message;void 0===n&&(n=go.INTERNAL,i="Unknown error status: "+t+" with message "+a.message),d=!0,p.Do(new mo(n,i)),u.close()}else oo(ud,"RPC '".concat(e,"' stream ").concat(r," received:"),i),p.vo(i)}})),f(a,Ja.STAT_EVENT,(t=>{t.stat===Ya.PROXY?oo(ud,"RPC '".concat(e,"' stream ").concat(r," detected buffering proxy")):t.stat===Ya.NOPROXY&&oo(ud,"RPC '".concat(e,"' stream ").concat(r," detected no buffering proxy"))})),setTimeout((()=>{p.bo()}),0),p}}function dd(){return"undefined"!=typeof document?document:null}function pd(e){return new Hu(e,!0)}class fd{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:1e3,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:1.5,i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:6e4;this.li=e,this.timerId=t,this.Qo=n,this.Ko=r,this.$o=i,this.Uo=0,this.Wo=null,this.Go=Date.now(),this.reset()}reset(){this.Uo=0}zo(){this.Uo=this.$o}jo(e){this.cancel();const t=Math.floor(this.Uo+this.Ho()),n=Math.max(0,Date.now()-this.Go),r=Math.max(0,t-n);r>0&&oo("ExponentialBackoff","Backing off for ".concat(r," ms (base delay: ").concat(this.Uo," ms, delay with jitter: ").concat(t," ms, last attempt: ").concat(n," ms ago)")),this.Wo=this.li.enqueueAfterDelay(this.timerId,r,(()=>(this.Go=Date.now(),e()))),this.Uo*=this.Ko,this.Uo<this.Qo&&(this.Uo=this.Qo),this.Uo>this.$o&&(this.Uo=this.$o)}Jo(){null!==this.Wo&&(this.Wo.skipDelay(),this.Wo=null)}cancel(){null!==this.Wo&&(this.Wo.cancel(),this.Wo=null)}Ho(){return(Math.random()-.5)*this.Uo}}class gd{constructor(e,t,n,r,i,s,a,o){this.li=e,this.Yo=n,this.Zo=r,this.connection=i,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=o,this.state=0,this.Xo=0,this.e_=null,this.t_=null,this.stream=null,this.n_=0,this.r_=new fd(e,t)}i_(){return 1===this.state||5===this.state||this.s_()}s_(){return 2===this.state||3===this.state}start(){this.n_=0,4!==this.state?this.auth():this.o_()}async stop(){this.i_()&&await this.close(0)}__(){this.state=0,this.r_.reset()}a_(){this.s_()&&null===this.e_&&(this.e_=this.li.enqueueAfterDelay(this.Yo,6e4,(()=>this.u_())))}c_(e){this.l_(),this.stream.send(e)}async u_(){if(this.s_())return this.close(0)}l_(){this.e_&&(this.e_.cancel(),this.e_=null)}h_(){this.t_&&(this.t_.cancel(),this.t_=null)}async close(e,t){this.l_(),this.h_(),this.r_.cancel(),this.Xo++,4!==e?this.r_.reset():t&&t.code===go.RESOURCE_EXHAUSTED?(lo(t.toString()),lo("Using maximum backoff delay to prevent overloading the backend."),this.r_.zo()):t&&t.code===go.UNAUTHENTICATED&&3!==this.state&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),null!==this.stream&&(this.P_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.po(t)}P_(){}auth(){this.state=1;const e=this.T_(this.Xo),t=this.Xo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then((e=>{let[n,r]=e;this.Xo===t&&this.I_(n,r)}),(t=>{e((()=>{const e=new mo(go.UNKNOWN,"Fetching auth token failed: "+t.message);return this.E_(e)}))}))}I_(e,t){const n=this.T_(this.Xo);this.stream=this.d_(e,t),this.stream.Ro((()=>{n((()=>this.listener.Ro()))})),this.stream.mo((()=>{n((()=>(this.state=2,this.t_=this.li.enqueueAfterDelay(this.Zo,1e4,(()=>(this.s_()&&(this.state=3),Promise.resolve()))),this.listener.mo())))})),this.stream.po((e=>{n((()=>this.E_(e)))})),this.stream.onMessage((e=>{n((()=>1==++this.n_?this.A_(e):this.onNext(e)))}))}o_(){this.state=5,this.r_.jo((async()=>{this.state=0,this.start()}))}E_(e){return oo("PersistentStream","close with error: ".concat(e)),this.stream=null,this.close(4,e)}T_(e){return t=>{this.li.enqueueAndForget((()=>this.Xo===e?t():(oo("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve())))}}}class md extends gd{constructor(e,t,n,r,i,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,n,r,s),this.serializer=i}d_(e,t){return this.connection.qo("Listen",e,t)}A_(e){return this.onNext(e)}onNext(e){this.r_.reset();const t=function(e,t){let n;if("targetChange"in t){t.targetChange;const r=function(e){return"NO_CHANGE"===e?0:"ADD"===e?1:"REMOVE"===e?2:"CURRENT"===e?3:"RESET"===e?4:ho()}(t.targetChange.targetChangeType||"NO_CHANGE"),i=t.targetChange.targetIds||[],s=function(e,t){return e.useProto3Json?(po(void 0===t||"string"==typeof t),fl.fromBase64String(t||"")):(po(void 0===t||t instanceof Buffer||t instanceof Uint8Array),fl.fromUint8Array(t||new Uint8Array))}(e,t.targetChange.resumeToken),a=t.targetChange.cause,o=a&&function(e){const t=void 0===e.code?go.UNKNOWN:Au(e.code);return new mo(t,e.message||"")}(a);n=new Ou(r,i,s,o||null)}else if("documentChange"in t){t.documentChange;const r=t.documentChange;r.document,r.document.name,r.document.updateTime;const i=$u(e,r.document.name),s=Xu(r.document.updateTime),a=r.document.createTime?Xu(r.document.createTime):Mo.min(),o=new Ul({mapValue:{fields:r.document.fields}}),l=Wl.newFoundDocument(i,s,a,o),c=r.targetIds||[],u=r.removedTargetIds||[];n=new Lu(c,u,l.key,l)}else if("documentDelete"in t){t.documentDelete;const r=t.documentDelete;r.document;const i=$u(e,r.document),s=r.readTime?Xu(r.readTime):Mo.min(),a=Wl.newNoDocument(i,s),o=r.removedTargetIds||[];n=new Lu([],o,a.key,a)}else if("documentRemove"in t){t.documentRemove;const r=t.documentRemove;r.document;const i=$u(e,r.document),s=r.removedTargetIds||[];n=new Lu([],s,i,null)}else{if(!("filter"in t))return ho();{t.filter;const e=t.filter;e.targetId;const{count:r=0,unchangedNames:i}=e,s=new _u(r,i),a=e.targetId;n=new Du(a,s)}}return n}(this.serializer,e),n=function(e){if(!("targetChange"in e))return Mo.min();const t=e.targetChange;return t.targetIds&&t.targetIds.length?Mo.min():t.readTime?Xu(t.readTime):Mo.min()}(e);return this.listener.R_(t,n)}V_(e){const t={};t.database=th(this.serializer),t.addTarget=function(e,t){let n;const r=t.target;if(n=mc(r)?{documents:rh(e,r)}:{query:ih(e,r).ct},n.targetId=t.targetId,t.resumeToken.approximateByteSize()>0){n.resumeToken=Ku(e,t.resumeToken);const r=qu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}else if(t.snapshotVersion.compareTo(Mo.min())>0){n.readTime=Gu(e,t.snapshotVersion.toTimestamp());const r=qu(e,t.expectedCount);null!==r&&(n.expectedCount=r)}return n}(this.serializer,e);const n=function(e,t){const n=function(e){switch(e){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ho()}}(t.purpose);return null==n?null:{"goog-listen-tags":n}}(this.serializer,e);n&&(t.labels=n),this.c_(t)}m_(e){const t={};t.database=th(this.serializer),t.removeTarget=e,this.c_(t)}}class vd extends class{}{constructor(e,t,n,r){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=n,this.serializer=r,this.S_=!1}b_(){if(this.S_)throw new mo(go.FAILED_PRECONDITION,"The client has already been terminated.")}Oo(e,t,n,r){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((i=>{let[s,a]=i;return this.connection.Oo(e,Yu(t,n),r,s,a)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mo(go.UNKNOWN,e.toString())}))}ko(e,t,n,r,i){return this.b_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then((s=>{let[a,o]=s;return this.connection.ko(e,Yu(t,n),r,a,o,i)})).catch((e=>{throw"FirebaseError"===e.name?(e.code===go.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),e):new mo(go.UNKNOWN,e.toString())}))}terminate(){this.S_=!0,this.connection.terminate()}}class yd{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.D_=0,this.v_=null,this.C_=!0}F_(){0===this.D_&&(this.M_("Unknown"),this.v_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,(()=>(this.v_=null,this.x_("Backend didn't respond within 10 seconds."),this.M_("Offline"),Promise.resolve()))))}O_(e){"Online"===this.state?this.M_("Unknown"):(this.D_++,this.D_>=1&&(this.N_(),this.x_("Connection failed 1 times. Most recent error: ".concat(e.toString())),this.M_("Offline")))}set(e){this.N_(),this.D_=0,"Online"===e&&(this.C_=!1),this.M_(e)}M_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}x_(e){const t="Could not reach Cloud Firestore backend. ".concat(e,"\nThis typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.");this.C_?(lo(t),this.C_=!1):oo("OnlineStateTracker",t)}N_(){null!==this.v_&&(this.v_.cancel(),this.v_=null)}}class bd{constructor(e,t,n,r,i){this.localStore=e,this.datastore=t,this.asyncQueue=n,this.remoteSyncer={},this.L_=[],this.B_=new Map,this.k_=new Set,this.q_=[],this.Q_=i,this.Q_.uo((e=>{n.enqueueAndForget((async()=>{Td(this)&&(oo("RemoteStore","Restarting streams for network reachability change."),await async function(e){const t=fo(e);t.k_.add(4),await _d(t),t.K_.set("Unknown"),t.k_.delete(4),await wd(t)}(this))}))})),this.K_=new yd(n,r)}}async function wd(e){if(Td(e))for(const t of e.q_)await t(!0)}async function _d(e){for(const t of e.q_)await t(!1)}function Sd(e,t){const n=fo(e);n.B_.has(t.targetId)||(n.B_.set(t.targetId,t),Cd(n)?xd(n):Fd(n).s_()&&Ad(n,t))}function Ed(e,t){const n=fo(e),r=Fd(n);n.B_.delete(t),r.s_()&&kd(n,t),0===n.B_.size&&(r.s_()?r.a_():Td(n)&&n.K_.set("Unknown"))}function Ad(e,t){if(e.U_.xe(t.targetId),t.resumeToken.approximateByteSize()>0||t.snapshotVersion.compareTo(Mo.min())>0){const n=e.remoteSyncer.getRemoteKeysForTarget(t.targetId).size;t=t.withExpectedCount(n)}Fd(e).V_(t)}function kd(e,t){e.U_.xe(t),Fd(e).m_(t)}function xd(e){e.U_=new ju({getRemoteKeysForTarget:t=>e.remoteSyncer.getRemoteKeysForTarget(t),ut:t=>e.B_.get(t)||null,nt:()=>e.datastore.serializer.databaseId}),Fd(e).start(),e.K_.F_()}function Cd(e){return Td(e)&&!Fd(e).i_()&&e.B_.size>0}function Td(e){return 0===fo(e).k_.size}function Id(e){e.U_=void 0}async function Rd(e){e.K_.set("Online")}async function Md(e){e.B_.forEach(((t,n)=>{Ad(e,t)}))}async function Pd(e,t){Id(e),Cd(e)?(e.K_.O_(t),xd(e)):e.K_.set("Unknown")}async function Nd(e,t,n){if(e.K_.set("Online"),t instanceof Ou&&2===t.state&&t.cause)try{await async function(e,t){const n=t.cause;for(const r of t.targetIds)e.B_.has(r)&&(await e.remoteSyncer.rejectListen(r,n),e.B_.delete(r),e.U_.removeTarget(r))}(e,t)}catch(n){oo("RemoteStore","Failed to remove targets %s: %s ",t.targetIds.join(","),n),await Ld(e,n)}else if(t instanceof Lu?e.U_.$e(t):t instanceof Du?e.U_.Je(t):e.U_.Ge(t),!n.isEqual(Mo.min()))try{const t=await Yh(e.localStore);n.compareTo(t)>=0&&await function(e,t){const n=e.U_.it(t);return n.targetChanges.forEach(((n,r)=>{if(n.resumeToken.approximateByteSize()>0){const i=e.B_.get(r);i&&e.B_.set(r,i.withResumeToken(n.resumeToken,t))}})),n.targetMismatches.forEach(((t,n)=>{const r=e.B_.get(t);if(!r)return;e.B_.set(t,r.withResumeToken(fl.EMPTY_BYTE_STRING,r.snapshotVersion)),kd(e,t);const i=new fh(r.target,t,n,r.sequenceNumber);Ad(e,i)})),e.remoteSyncer.applyRemoteEvent(n)}(e,n)}catch(t){oo("RemoteStore","Failed to raise snapshot:",t),await Ld(e,t)}}async function Ld(e,t,n){if(!Ko(t))throw t;e.k_.add(1),await _d(e),e.K_.set("Offline"),n||(n=()=>Yh(e.localStore)),e.asyncQueue.enqueueRetryable((async()=>{oo("RemoteStore","Retrying IndexedDB access"),await n(),e.k_.delete(1),await wd(e)}))}async function Dd(e,t){const n=fo(e);n.asyncQueue.verifyOperationInProgress(),oo("RemoteStore","RemoteStore received new credentials");const r=Td(n);n.k_.add(3),await _d(n),r&&n.K_.set("Unknown"),await n.remoteSyncer.handleCredentialChange(t),n.k_.delete(3),await wd(n)}async function Od(e,t){const n=fo(e);t?(n.k_.delete(2),await wd(n)):t||(n.k_.add(2),await _d(n),n.K_.set("Unknown"))}function Fd(e){return e.W_||(e.W_=function(e,t,n){const r=fo(e);return r.b_(),new md(t,r.connection,r.authCredentials,r.appCheckCredentials,r.serializer,n)}(e.datastore,e.asyncQueue,{Ro:Rd.bind(null,e),mo:Md.bind(null,e),po:Pd.bind(null,e),R_:Nd.bind(null,e)}),e.q_.push((async t=>{t?(e.W_.__(),Cd(e)?xd(e):e.K_.set("Unknown")):(await e.W_.stop(),Id(e))}))),e.W_}class jd{constructor(e,t,n,r,i){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=n,this.op=r,this.removalCallback=i,this.deferred=new vo,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch((e=>{}))}get promise(){return this.deferred.promise}static createAndSchedule(e,t,n,r,i){const s=Date.now()+n,a=new jd(e,t,s,r,i);return a.start(n),a}start(e){this.timerHandle=setTimeout((()=>this.handleDelayElapsed()),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){null!==this.timerHandle&&(this.clearTimeout(),this.deferred.reject(new mo(go.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget((()=>null!==this.timerHandle?(this.clearTimeout(),this.op().then((e=>this.deferred.resolve(e)))):Promise.resolve()))}clearTimeout(){null!==this.timerHandle&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Bd(e,t){if(lo("AsyncQueue","".concat(t,": ").concat(e)),Ko(e))return new mo(go.UNAVAILABLE,"".concat(t,": ").concat(e));throw e}class zd{static emptySet(e){return new zd(e.comparator)}constructor(e){this.comparator=e?(t,n)=>e(t,n)||Oo.comparator(t.key,n.key):(e,t)=>Oo.comparator(e.key,t.key),this.keyedMap=Fc(),this.sortedSet=new ol(this.comparator)}has(e){return null!=this.keyedMap.get(e)}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal(((t,n)=>(e(t),!1)))}add(e){const t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){const t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof zd))return!1;if(this.size!==e.size)return!1;const t=this.sortedSet.getIterator(),n=e.sortedSet.getIterator();for(;t.hasNext();){const e=t.getNext().key,r=n.getNext().key;if(!e.isEqual(r))return!1}return!0}toString(){const e=[];return this.forEach((t=>{e.push(t.toString())})),0===e.length?"DocumentSet ()":"DocumentSet (\n  "+e.join("  \n")+"\n)"}copy(e,t){const n=new zd;return n.comparator=this.comparator,n.keyedMap=e,n.sortedSet=t,n}}class Vd{constructor(){this.z_=new ol(Oo.comparator)}track(e){const t=e.doc.key,n=this.z_.get(t);n?0!==e.type&&3===n.type?this.z_=this.z_.insert(t,e):3===e.type&&1!==n.type?this.z_=this.z_.insert(t,{type:n.type,doc:e.doc}):2===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):2===e.type&&0===n.type?this.z_=this.z_.insert(t,{type:0,doc:e.doc}):1===e.type&&0===n.type?this.z_=this.z_.remove(t):1===e.type&&2===n.type?this.z_=this.z_.insert(t,{type:1,doc:n.doc}):0===e.type&&1===n.type?this.z_=this.z_.insert(t,{type:2,doc:e.doc}):ho():this.z_=this.z_.insert(t,e)}j_(){const e=[];return this.z_.inorderTraversal(((t,n)=>{e.push(n)})),e}}class Ud{constructor(e,t,n,r,i,s,a,o,l){this.query=e,this.docs=t,this.oldDocs=n,this.docChanges=r,this.mutatedKeys=i,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=o,this.hasCachedResults=l}static fromInitialDocuments(e,t,n,r,i){const s=[];return t.forEach((e=>{s.push({type:0,doc:e})})),new Ud(e,t,zd.emptySet(t),s,n,r,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&xc(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const t=this.docChanges,n=e.docChanges;if(t.length!==n.length)return!1;for(let r=0;r<t.length;r++)if(t[r].type!==n[r].type||!t[r].doc.isEqual(n[r].doc))return!1;return!0}}class Wd{constructor(){this.H_=void 0,this.J_=[]}Y_(){return this.J_.some((e=>e.Z_()))}}class Hd{constructor(){this.queries=qd(),this.onlineState="Unknown",this.X_=new Set}terminate(){!function(e,t){const n=fo(e),r=n.queries;n.queries=qd(),r.forEach(((e,n)=>{for(const r of n.J_)r.onError(t)}))}(this,new mo(go.ABORTED,"Firestore shutting down"))}}function qd(){return new Nc((e=>Cc(e)),xc)}async function Gd(e,t){const n=fo(e);let r=3;const i=t.query;let s=n.queries.get(i);s?!s.Y_()&&t.Z_()&&(r=2):(s=new Wd,r=t.Z_()?0:1);try{switch(r){case 0:s.H_=await n.onListen(i,!0);break;case 1:s.H_=await n.onListen(i,!1);break;case 2:await n.onFirstRemoteStoreListen(i)}}catch(e){const n=Bd(e,"Initialization of query '".concat(Tc(t.query),"' failed"));return void t.onError(n)}n.queries.set(i,s),s.J_.push(t),t.ea(n.onlineState),s.H_&&t.ta(s.H_)&&Yd(n)}async function Kd(e,t){const n=fo(e),r=t.query;let i=3;const s=n.queries.get(r);if(s){const e=s.J_.indexOf(t);e>=0&&(s.J_.splice(e,1),0===s.J_.length?i=t.Z_()?0:1:!s.Y_()&&t.Z_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function Xd(e,t){const n=fo(e);let r=!1;for(const i of t){const e=i.query,t=n.queries.get(e);if(t){for(const e of t.J_)e.ta(i)&&(r=!0);t.H_=i}}r&&Yd(n)}function Qd(e,t,n){const r=fo(e),i=r.queries.get(t);if(i)for(const s of i.J_)s.onError(n);r.queries.delete(t)}function Yd(e){e.X_.forEach((e=>{e.next()}))}var Jd,$d;($d=Jd||(Jd={})).na="default",$d.Cache="cache";class Zd{constructor(e,t,n){this.query=e,this.ra=t,this.ia=!1,this.sa=null,this.onlineState="Unknown",this.options=n||{}}ta(e){if(!this.options.includeMetadataChanges){const t=[];for(const n of e.docChanges)3!==n.type&&t.push(n);e=new Ud(e.query,e.docs,e.oldDocs,t,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.ia?this.oa(e)&&(this.ra.next(e),t=!0):this._a(e,this.onlineState)&&(this.aa(e),t=!0),this.sa=e,t}onError(e){this.ra.error(e)}ea(e){this.onlineState=e;let t=!1;return this.sa&&!this.ia&&this._a(this.sa,e)&&(this.aa(this.sa),t=!0),t}_a(e,t){if(!e.fromCache)return!0;if(!this.Z_())return!0;const n="Offline"!==t;return(!this.options.ua||!n)&&(!e.docs.isEmpty()||e.hasCachedResults||"Offline"===t)}oa(e){if(e.docChanges.length>0)return!0;const t=this.sa&&this.sa.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&!0===this.options.includeMetadataChanges}aa(e){e=Ud.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.ia=!0,this.ra.next(e)}Z_(){return this.options.source!==Jd.Cache}}class ep{constructor(e){this.key=e}}class tp{constructor(e){this.key=e}}class np{constructor(e,t){this.query=e,this.da=t,this.Aa=null,this.hasCachedResults=!1,this.current=!1,this.Ra=Wc(),this.mutatedKeys=Wc(),this.Va=Mc(e),this.ma=new zd(this.Va)}get fa(){return this.da}ga(e,t){const n=t?t.pa:new Vd,r=t?t.ma:this.ma;let i=t?t.mutatedKeys:this.mutatedKeys,s=r,a=!1;const o="F"===this.query.limitType&&r.size===this.query.limit?r.last():null,l="L"===this.query.limitType&&r.size===this.query.limit?r.first():null;if(e.inorderTraversal(((e,t)=>{const c=r.get(e),u=Ic(this.query,t)?t:null,h=!!c&&this.mutatedKeys.has(c.key),d=!!u&&(u.hasLocalMutations||this.mutatedKeys.has(u.key)&&u.hasCommittedMutations);let p=!1;c&&u?c.data.isEqual(u.data)?h!==d&&(n.track({type:3,doc:u}),p=!0):this.ya(c,u)||(n.track({type:2,doc:u}),p=!0,(o&&this.Va(u,o)>0||l&&this.Va(u,l)<0)&&(a=!0)):!c&&u?(n.track({type:0,doc:u}),p=!0):c&&!u&&(n.track({type:1,doc:c}),p=!0,(o||l)&&(a=!0)),p&&(u?(s=s.add(u),i=d?i.add(e):i.delete(e)):(s=s.delete(e),i=i.delete(e)))})),null!==this.query.limit)for(;s.size>this.query.limit;){const e="F"===this.query.limitType?s.last():s.first();s=s.delete(e.key),i=i.delete(e.key),n.track({type:1,doc:e})}return{ma:s,pa:n,ss:a,mutatedKeys:i}}ya(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,n,r){const i=this.ma;this.ma=e.ma,this.mutatedKeys=e.mutatedKeys;const s=e.pa.j_();s.sort(((e,t)=>function(e,t){const n=e=>{switch(e){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ho()}};return n(e)-n(t)}(e.type,t.type)||this.Va(e.doc,t.doc))),this.wa(n),r=null!=r&&r;const a=t&&!r?this.Sa():[],o=0===this.Ra.size&&this.current&&!r?1:0,l=o!==this.Aa;return this.Aa=o,0!==s.length||l?{snapshot:new Ud(this.query,e.ma,i,s,e.mutatedKeys,0===o,l,!1,!!n&&n.resumeToken.approximateByteSize()>0),ba:a}:{ba:a}}ea(e){return this.current&&"Offline"===e?(this.current=!1,this.applyChanges({ma:this.ma,pa:new Vd,mutatedKeys:this.mutatedKeys,ss:!1},!1)):{ba:[]}}Da(e){return!this.da.has(e)&&!!this.ma.has(e)&&!this.ma.get(e).hasLocalMutations}wa(e){e&&(e.addedDocuments.forEach((e=>this.da=this.da.add(e))),e.modifiedDocuments.forEach((e=>{})),e.removedDocuments.forEach((e=>this.da=this.da.delete(e))),this.current=e.current)}Sa(){if(!this.current)return[];const e=this.Ra;this.Ra=Wc(),this.ma.forEach((e=>{this.Da(e.key)&&(this.Ra=this.Ra.add(e.key))}));const t=[];return e.forEach((e=>{this.Ra.has(e)||t.push(new tp(e))})),this.Ra.forEach((n=>{e.has(n)||t.push(new ep(n))})),t}va(e){this.da=e.ds,this.Ra=Wc();const t=this.ga(e.documents);return this.applyChanges(t,!0)}Ca(){return Ud.fromInitialDocuments(this.query,this.ma,this.mutatedKeys,0===this.Aa,this.hasCachedResults)}}class rp{constructor(e,t,n){this.query=e,this.targetId=t,this.view=n}}class ip{constructor(e){this.key=e,this.Fa=!1}}class sp{constructor(e,t,n,r,i,s){this.localStore=e,this.remoteStore=t,this.eventManager=n,this.sharedClientState=r,this.currentUser=i,this.maxConcurrentLimboResolutions=s,this.Ma={},this.xa=new Nc((e=>Cc(e)),xc),this.Oa=new Map,this.Na=new Set,this.La=new ol(Oo.comparator),this.Ba=new Map,this.ka=new Lh,this.qa={},this.Qa=new Map,this.Ka=Sh.Qn(),this.onlineState="Unknown",this.$a=void 0}get isPrimaryClient(){return!0===this.$a}}async function ap(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=Ep(e);let i;const s=r.xa.get(t);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Ca()):i=await lp(r,t,n,!0),i}async function op(e,t){const n=Ep(e);await lp(n,t,!0,!1)}async function lp(e,t,n,r){const i=await $h(e.localStore,Ec(t)),s=i.targetId,a=e.sharedClientState.addLocalQueryTarget(s,n);let o;return r&&(o=await cp(e,t,s,"current"===a,i.resumeToken)),e.isPrimaryClient&&n&&Sd(e.remoteStore,i),o}async function cp(e,t,n,r,i){e.Ua=(t,n,r)=>async function(e,t,n,r){let i=t.view.ga(n);i.ss&&(i=await ed(e.localStore,t.query,!1).then((e=>{let{documents:n}=e;return t.view.ga(n,i)})));const s=r&&r.targetChanges.get(t.targetId),a=r&&null!=r.targetMismatches.get(t.targetId),o=t.view.applyChanges(i,e.isPrimaryClient,s,a);return vp(e,t.targetId,o.ba),o.snapshot}(e,t,n,r);const s=await ed(e.localStore,t,!0),a=new np(t,s.ds),o=a.ga(s.documents),l=Nu.createSynthesizedTargetChangeForCurrentChange(n,r&&"Offline"!==e.onlineState,i),c=a.applyChanges(o,e.isPrimaryClient,l);vp(e,n,c.ba);const u=new rp(t,n,a);return e.xa.set(t,u),e.Oa.has(n)?e.Oa.get(n).push(t):e.Oa.set(n,[t]),c.snapshot}async function up(e,t,n){const r=fo(e),i=r.xa.get(t),s=r.Oa.get(i.targetId);if(s.length>1)return r.Oa.set(i.targetId,s.filter((e=>!xc(e,t)))),void r.xa.delete(t);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||await Zh(r.localStore,i.targetId,!1).then((()=>{r.sharedClientState.clearQueryState(i.targetId),n&&Ed(r.remoteStore,i.targetId),gp(r,i.targetId)})).catch(Ho)):(gp(r,i.targetId),await Zh(r.localStore,i.targetId,!0))}async function hp(e,t){const n=fo(e),r=n.xa.get(t),i=n.Oa.get(r.targetId);n.isPrimaryClient&&1===i.length&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ed(n.remoteStore,r.targetId))}async function dp(e,t){const n=fo(e);try{const e=await function(e,t){const n=fo(e),r=t.snapshotVersion;let i=n.us;return n.persistence.runTransaction("Apply remote event","readwrite-primary",(e=>{const s=n.hs.newChangeBuffer({trackRemovals:!0});i=n.us;const a=[];t.targetChanges.forEach(((s,o)=>{const l=i.get(o);if(!l)return;a.push(n.Gr.removeMatchingKeys(e,s.removedDocuments,o).next((()=>n.Gr.addMatchingKeys(e,s.addedDocuments,o))));let c=l.withSequenceNumber(e.currentSequenceNumber);null!==t.targetMismatches.get(o)?c=c.withResumeToken(fl.EMPTY_BYTE_STRING,Mo.min()).withLastLimboFreeSnapshotVersion(Mo.min()):s.resumeToken.approximateByteSize()>0&&(c=c.withResumeToken(s.resumeToken,r)),i=i.insert(o,c),function(e,t,n){return 0===e.resumeToken.approximateByteSize()||t.snapshotVersion.toMicroseconds()-e.snapshotVersion.toMicroseconds()>=3e8||n.addedDocuments.size+n.modifiedDocuments.size+n.removedDocuments.size>0}(l,c,s)&&a.push(n.Gr.updateTargetData(e,c))}));let o=Dc(),l=Wc();if(t.documentUpdates.forEach((r=>{t.resolvedLimboDocuments.has(r)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(e,r))})),a.push(Jh(e,s,t.documentUpdates).next((e=>{o=e.Is,l=e.Es}))),!r.isEqual(Mo.min())){const t=n.Gr.getLastRemoteSnapshotVersion(e).next((t=>n.Gr.setTargetsMetadata(e,e.currentSequenceNumber,r)));a.push(t)}return qo.waitFor(a).next((()=>s.apply(e))).next((()=>n.localDocuments.getLocalViewOfDocuments(e,o,l))).next((()=>o))})).then((e=>(n.us=i,e)))}(n.localStore,t);t.targetChanges.forEach(((e,t)=>{const r=n.Ba.get(t);r&&(po(e.addedDocuments.size+e.modifiedDocuments.size+e.removedDocuments.size<=1),e.addedDocuments.size>0?r.Fa=!0:e.modifiedDocuments.size>0?po(r.Fa):e.removedDocuments.size>0&&(po(r.Fa),r.Fa=!1))})),await wp(n,e,t)}catch(e){await Ho(e)}}function pp(e,t,n){const r=fo(e);if(r.isPrimaryClient&&0===n||!r.isPrimaryClient&&1===n){const e=[];r.xa.forEach(((n,r)=>{const i=r.view.ea(t);i.snapshot&&e.push(i.snapshot)})),function(e,t){const n=fo(e);n.onlineState=t;let r=!1;n.queries.forEach(((e,n)=>{for(const i of n.J_)i.ea(t)&&(r=!0)})),r&&Yd(n)}(r.eventManager,t),e.length&&r.Ma.R_(e),r.onlineState=t,r.isPrimaryClient&&r.sharedClientState.setOnlineState(t)}}async function fp(e,t,n){const r=fo(e);r.sharedClientState.updateQueryState(t,"rejected",n);const i=r.Ba.get(t),s=i&&i.key;if(s){let e=new ol(Oo.comparator);e=e.insert(s,Wl.newNoDocument(s,Mo.min()));const n=Wc().add(s),i=new Pu(Mo.min(),new Map,new ol(To),e,n);await dp(r,i),r.La=r.La.remove(s),r.Ba.delete(t),bp(r)}else await Zh(r.localStore,t,!1).then((()=>gp(r,t,n))).catch(Ho)}function gp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.sharedClientState.removeLocalQueryTarget(t);for(const r of e.Oa.get(t))e.xa.delete(r),n&&e.Ma.Wa(r,n);e.Oa.delete(t),e.isPrimaryClient&&e.ka.yr(t).forEach((t=>{e.ka.containsKey(t)||mp(e,t)}))}function mp(e,t){e.Na.delete(t.path.canonicalString());const n=e.La.get(t);null!==n&&(Ed(e.remoteStore,n),e.La=e.La.remove(t),e.Ba.delete(n),bp(e))}function vp(e,t,n){for(const r of n)r instanceof ep?(e.ka.addReference(r.key,t),yp(e,r)):r instanceof tp?(oo("SyncEngine","Document no longer in limbo: "+r.key),e.ka.removeReference(r.key,t),e.ka.containsKey(r.key)||mp(e,r.key)):ho()}function yp(e,t){const n=t.key,r=n.path.canonicalString();e.La.get(n)||e.Na.has(r)||(oo("SyncEngine","New document in limbo: "+n),e.Na.add(r),bp(e))}function bp(e){for(;e.Na.size>0&&e.La.size<e.maxConcurrentLimboResolutions;){const t=e.Na.values().next().value;e.Na.delete(t);const n=new Oo(No.fromString(t)),r=e.Ka.next();e.Ba.set(r,new ip(n)),e.La=e.La.insert(n,r),Sd(e.remoteStore,new fh(Ec(bc(n.path)),r,"TargetPurposeLimboResolution",Xo.oe))}}async function wp(e,t,n){const r=fo(e),i=[],s=[],a=[];r.xa.isEmpty()||(r.xa.forEach(((e,o)=>{a.push(r.Ua(o,t,n).then((e=>{var t;if((e||n)&&r.isPrimaryClient){const i=e?!e.fromCache:null===(t=null==n?void 0:n.targetChanges.get(o.targetId))||void 0===t?void 0:t.current;r.sharedClientState.updateQueryState(o.targetId,i?"current":"not-current")}if(e){i.push(e);const t=Hh.zi(o.targetId,e);s.push(t)}})))})),await Promise.all(a),r.Ma.R_(i),await async function(e,t){const n=fo(e);try{await n.persistence.runTransaction("notifyLocalViewChanges","readwrite",(e=>qo.forEach(t,(t=>qo.forEach(t.Wi,(r=>n.persistence.referenceDelegate.addReference(e,t.targetId,r))).next((()=>qo.forEach(t.Gi,(r=>n.persistence.referenceDelegate.removeReference(e,t.targetId,r)))))))))}catch(e){if(!Ko(e))throw e;oo("LocalStore","Failed to update sequence numbers: "+e)}for(const r of t){const e=r.targetId;if(!r.fromCache){const t=n.us.get(e),r=t.snapshotVersion,i=t.withLastLimboFreeSnapshotVersion(r);n.us=n.us.insert(e,i)}}}(r.localStore,s))}async function _p(e,t){const n=fo(e);if(!n.currentUser.isEqual(t)){oo("SyncEngine","User change. New user:",t.toKey());const e=await Qh(n.localStore,t);n.currentUser=t,function(e,t){e.Qa.forEach((e=>{e.forEach((e=>{e.reject(new mo(go.CANCELLED,t))}))})),e.Qa.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(t,e.removedBatchIds,e.addedBatchIds),await wp(n,e.Ts)}}function Sp(e,t){const n=fo(e),r=n.Ba.get(t);if(r&&r.Fa)return Wc().add(r.key);{let e=Wc();const r=n.Oa.get(t);if(!r)return e;for(const t of r){const r=n.xa.get(t);e=e.unionWith(r.view.fa)}return e}}function Ep(e){const t=fo(e);return t.remoteStore.remoteSyncer.applyRemoteEvent=dp.bind(null,t),t.remoteStore.remoteSyncer.getRemoteKeysForTarget=Sp.bind(null,t),t.remoteStore.remoteSyncer.rejectListen=fp.bind(null,t),t.Ma.R_=Xd.bind(null,t.eventManager),t.Ma.Wa=Qd.bind(null,t.eventManager),t}class Ap{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=pd(e.databaseInfo.databaseId),this.sharedClientState=this.za(e),this.persistence=this.ja(e),await this.persistence.start(),this.localStore=this.Ha(e),this.gcScheduler=this.Ja(e,this.localStore),this.indexBackfillerScheduler=this.Ya(e,this.localStore)}Ja(e,t){return null}Ya(e,t){return null}Ha(e){return Xh(this.persistence,new Gh,e.initialUser,this.serializer)}ja(e){return new zh(Uh.ei,this.serializer)}za(e){return new rd}async terminate(){var e,t;null===(e=this.gcScheduler)||void 0===e||e.stop(),null===(t=this.indexBackfillerScheduler)||void 0===t||t.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Ap.provider={build:()=>new Ap};class kp extends Ap{constructor(e){super(),this.cacheSizeBytes=e}Ja(e,t){po(this.persistence.referenceDelegate instanceof Wh);const n=this.persistence.referenceDelegate.garbageCollector;return new kh(n,e.asyncQueue,t)}ja(e){const t=void 0!==this.cacheSizeBytes?_h.withCacheSize(this.cacheSizeBytes):_h.DEFAULT;return new zh((e=>Wh.ei(e,t)),this.serializer)}}class xp{async initialize(e,t){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(t),this.remoteStore=this.createRemoteStore(t),this.eventManager=this.createEventManager(t),this.syncEngine=this.createSyncEngine(t,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=e=>pp(this.syncEngine,e,1),this.remoteStore.remoteSyncer.handleCredentialChange=_p.bind(null,this.syncEngine),await Od(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return new Hd}createDatastore(e){const t=pd(e.databaseInfo.databaseId),n=function(e){return new hd(e)}(e.databaseInfo);return function(e,t,n,r){return new vd(e,t,n,r)}(e.authCredentials,e.appCheckCredentials,n,t)}createRemoteStore(e){return function(e,t,n,r,i){return new bd(e,t,n,r,i)}(this.localStore,this.datastore,e.asyncQueue,(e=>pp(this.syncEngine,e,0)),sd.p()?new sd:new id)}createSyncEngine(e,t){return function(e,t,n,r,i,s,a){const o=new sp(e,t,n,r,i,s);return a&&(o.$a=!0),o}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,t)}async terminate(){var e,t;await async function(e){const t=fo(e);oo("RemoteStore","RemoteStore shutting down."),t.k_.add(5),await _d(t),t.Q_.shutdown(),t.K_.set("Unknown")}(this.remoteStore),null===(e=this.datastore)||void 0===e||e.terminate(),null===(t=this.eventManager)||void 0===t||t.terminate()}}xp.provider={build:()=>new xp};class Cp{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Xa(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Xa(this.observer.error,e):lo("Uncaught Error in snapshot listener:",e.toString()))}eu(){this.muted=!0}Xa(e,t){setTimeout((()=>{this.muted||e(t)}),0)}}class Tp{constructor(e,t,n,r,i){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=n,this.databaseInfo=r,this.user=ro.UNAUTHENTICATED,this.clientId=Co.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(n,(async e=>{oo("FirestoreClient","Received user=",e.uid),await this.authCredentialListener(e),this.user=e})),this.appCheckCredentials.start(n,(e=>(oo("FirestoreClient","Received new app check token=",e),this.appCheckCredentialListener(e,this.user))))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new vo;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted((async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){const n=Bd(t,"Failed to shutdown persistence");e.reject(n)}})),e.promise}}async function Ip(e,t){e.asyncQueue.verifyOperationInProgress(),oo("FirestoreClient","Initializing OfflineComponentProvider");const n=e.configuration;await t.initialize(n);let r=n.initialUser;e.setCredentialChangeListener((async e=>{r.isEqual(e)||(await Qh(t.localStore,e),r=e)})),t.persistence.setDatabaseDeletedListener((()=>e.terminate())),e._offlineComponents=t}async function Rp(e,t){e.asyncQueue.verifyOperationInProgress();const n=await Mp(e);oo("FirestoreClient","Initializing OnlineComponentProvider"),await t.initialize(n,e.configuration),e.setCredentialChangeListener((e=>Dd(t.remoteStore,e))),e.setAppCheckTokenChangeListener(((e,n)=>Dd(t.remoteStore,n))),e._onlineComponents=t}async function Mp(e){if(!e._offlineComponents)if(e._uninitializedComponentsProvider){oo("FirestoreClient","Using user provided OfflineComponentProvider");try{await Ip(e,e._uninitializedComponentsProvider._offline)}catch(t){const n=t;if(!function(e){return"FirebaseError"===e.name?e.code===go.FAILED_PRECONDITION||e.code===go.UNIMPLEMENTED:!("undefined"!=typeof DOMException&&e instanceof DOMException)||22===e.code||20===e.code||11===e.code}(n))throw n;co("Error using user provided cache. Falling back to memory cache: "+n),await Ip(e,new Ap)}}else oo("FirestoreClient","Using default OfflineComponentProvider"),await Ip(e,new kp(void 0));return e._offlineComponents}async function Pp(e){return e._onlineComponents||(e._uninitializedComponentsProvider?(oo("FirestoreClient","Using user provided OnlineComponentProvider"),await Rp(e,e._uninitializedComponentsProvider._online)):(oo("FirestoreClient","Using default OnlineComponentProvider"),await Rp(e,new xp))),e._onlineComponents}async function Np(e){const t=await Pp(e),n=t.eventManager;return n.onListen=ap.bind(null,t.syncEngine),n.onUnlisten=up.bind(null,t.syncEngine),n.onFirstRemoteStoreListen=op.bind(null,t.syncEngine),n.onLastRemoteStoreUnlisten=hp.bind(null,t.syncEngine),n}function Lp(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=new vo;return e.asyncQueue.enqueueAndForget((async()=>function(e,t,n,r,i){const s=new Cp({next:o=>{s.eu(),t.enqueueAndForget((()=>Kd(e,a)));const l=o.docs.has(n);!l&&o.fromCache?i.reject(new mo(go.UNAVAILABLE,"Failed to get document because the client is offline.")):l&&o.fromCache&&r&&"server"===r.source?i.reject(new mo(go.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):i.resolve(o)},error:e=>i.reject(e)}),a=new Zd(bc(n.path),s,{includeMetadataChanges:!0,ua:!0});return Gd(e,a)}(await Np(e),e.asyncQueue,t,n,r))),r.promise}function Dp(e){const t={};return void 0!==e.timeoutSeconds&&(t.timeoutSeconds=e.timeoutSeconds),t}const Op=new Map;function Fp(e,t,n){if(!n)throw new mo(go.INVALID_ARGUMENT,"Function ".concat(e,"() cannot be called with an empty ").concat(t,"."))}function jp(e){if(!Oo.isDocumentKey(e))throw new mo(go.INVALID_ARGUMENT,"Invalid document reference. Document references must have an even number of segments, but ".concat(e," has ").concat(e.length,"."))}function Bp(e){if(void 0===e)return"undefined";if(null===e)return"null";if("string"==typeof e)return e.length>20&&(e="".concat(e.substring(0,20),"...")),JSON.stringify(e);if("number"==typeof e||"boolean"==typeof e)return""+e;if("object"==typeof e){if(e instanceof Array)return"an array";{const t=function(e){return e.constructor?e.constructor.name:null}(e);return t?"a custom ".concat(t," object"):"an object"}}return"function"==typeof e?"a function":ho()}function zp(e,t){if("_delegate"in e&&(e=e._delegate),!(e instanceof t)){if(t.name===e.constructor.name)throw new mo(go.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Bp(e);throw new mo(go.INVALID_ARGUMENT,"Expected type '".concat(t.name,"', but it was: ").concat(n))}}return e}class Vp{constructor(e){var t,n;if(void 0===e.host){if(void 0!==e.ssl)throw new mo(go.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=null===(t=e.ssl)||void 0===t||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,void 0===e.cacheSizeBytes)this.cacheSizeBytes=41943040;else{if(-1!==e.cacheSizeBytes&&e.cacheSizeBytes<1048576)throw new mo(go.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}(function(e,t,n,r){if(!0===t&&!0===r)throw new mo(go.INVALID_ARGUMENT,"".concat(e," and ").concat(n," cannot be used together."))})("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:void 0===e.experimentalAutoDetectLongPolling?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Dp(null!==(n=e.experimentalLongPollingOptions)&&void 0!==n?n:{}),function(e){if(void 0!==e.timeoutSeconds){if(isNaN(e.timeoutSeconds))throw new mo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (must not be NaN)"));if(e.timeoutSeconds<5)throw new mo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (minimum allowed value is 5)"));if(e.timeoutSeconds>30)throw new mo(go.INVALID_ARGUMENT,"invalid long polling timeout: ".concat(e.timeoutSeconds," (maximum allowed value is 30)"))}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(e,t){return e.timeoutSeconds===t.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Up{constructor(e,t,n,r){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=n,this._app=r,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Vp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new mo(go.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return"notTerminated"!==this._terminateTask}_setSettings(e){if(this._settingsFrozen)throw new mo(go.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Vp(e),void 0!==e.credentials&&(this._authCredentials=function(e){if(!e)return new bo;switch(e.type){case"firstParty":return new Eo(e.sessionIndex||"0",e.iamToken||null,e.authTokenFactory||null);case"provider":return e.client;default:throw new mo(go.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return"notTerminated"===this._terminateTask&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){"notTerminated"===this._terminateTask?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(e){const t=Op.get(e);t&&(oo("ComponentProvider","Removing Datastore"),Op.delete(e),t.terminate())}(this),Promise.resolve()}}function Wp(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:{};var i;const s=(e=zp(e,Up))._getSettings(),a="".concat(t,":").concat(n);if("firestore.googleapis.com"!==s.host&&s.host!==a&&co("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),e._setSettings(Object.assign(Object.assign({},s),{host:a,ssl:!1})),r.mockUserToken){let t,n;if("string"==typeof r.mockUserToken)t=r.mockUserToken,n=ro.MOCK_USER;else{t=function(e,t){if(e.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n=t||"demo-project",r=e.iat||0,i=e.sub||e.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const s=Object.assign({iss:"https://securetoken.google.com/".concat(n),aud:n,iat:r,exp:r+3600,auth_time:r,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}}},e);return[kt(JSON.stringify({alg:"none",type:"JWT"})),kt(JSON.stringify(s)),""].join(".")}(r.mockUserToken,null===(i=e._app)||void 0===i?void 0:i.options.projectId);const s=r.mockUserToken.sub||r.mockUserToken.user_id;if(!s)throw new mo(go.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");n=new ro(s)}e._authCredentials=new wo(new yo(t,n))}}class Hp{constructor(e,t,n){this.converter=t,this._query=n,this.type="query",this.firestore=e}withConverter(e){return new Hp(this.firestore,e,this._query)}}class qp{constructor(e,t,n){this.converter=t,this._key=n,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Gp(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new qp(this.firestore,e,this._key)}}class Gp extends Hp{constructor(e,t,n){super(e,t,bc(n)),this._path=n,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new qp(this.firestore,null,new Oo(e))}withConverter(e){return new Gp(this.firestore,e,this._path)}}function Kp(e,t){for(var n=arguments.length,r=new Array(n>2?n-2:0),i=2;i<n;i++)r[i-2]=arguments[i];if(e=Gt(e),1===arguments.length&&(t=Co.newId()),Fp("doc","path",t),e instanceof Up){const n=No.fromString(t,...r);return jp(n),new qp(e,null,new Oo(n))}{if(!(e instanceof qp||e instanceof Gp))throw new mo(go.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const n=e._path.child(No.fromString(t,...r));return jp(n),new qp(e.firestore,e instanceof Gp?e.converter:null,new Oo(n))}}class Xp{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:Promise.resolve();this.Iu=[],this.Eu=!1,this.du=[],this.Au=null,this.Ru=!1,this.Vu=!1,this.mu=[],this.r_=new fd(this,"async_queue_retry"),this.fu=()=>{const e=dd();e&&oo("AsyncQueue","Visibility state changed to "+e.visibilityState),this.r_.Jo()},this.gu=e;const t=dd();t&&"function"==typeof t.addEventListener&&t.addEventListener("visibilitychange",this.fu)}get isShuttingDown(){return this.Eu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.pu(),this.yu(e)}enterRestrictedMode(e){if(!this.Eu){this.Eu=!0,this.Vu=e||!1;const t=dd();t&&"function"==typeof t.removeEventListener&&t.removeEventListener("visibilitychange",this.fu)}}enqueue(e){if(this.pu(),this.Eu)return new Promise((()=>{}));const t=new vo;return this.yu((()=>this.Eu&&this.Vu?Promise.resolve():(e().then(t.resolve,t.reject),t.promise))).then((()=>t.promise))}enqueueRetryable(e){this.enqueueAndForget((()=>(this.Iu.push(e),this.wu())))}async wu(){if(0!==this.Iu.length){try{await this.Iu[0](),this.Iu.shift(),this.r_.reset()}catch(ez){if(!Ko(ez))throw ez;oo("AsyncQueue","Operation failed with retryable error: "+ez)}this.Iu.length>0&&this.r_.jo((()=>this.wu()))}}yu(e){const t=this.gu.then((()=>(this.Ru=!0,e().catch((e=>{this.Au=e,this.Ru=!1;const t=function(e){let t=e.message||"";return e.stack&&(t=e.stack.includes(e.message)?e.stack:e.message+"\n"+e.stack),t}(e);throw lo("INTERNAL UNHANDLED ERROR: ",t),e})).then((e=>(this.Ru=!1,e))))));return this.gu=t,t}enqueueAfterDelay(e,t,n){this.pu(),this.mu.indexOf(e)>-1&&(t=0);const r=jd.createAndSchedule(this,e,t,n,(e=>this.Su(e)));return this.du.push(r),r}pu(){this.Au&&ho()}verifyOperationInProgress(){}async bu(){let e;do{e=this.gu,await e}while(e!==this.gu)}Du(e){for(const t of this.du)if(t.timerId===e)return!0;return!1}vu(e){return this.bu().then((()=>{this.du.sort(((e,t)=>e.targetTimeMs-t.targetTimeMs));for(const t of this.du)if(t.skipDelay(),"all"!==e&&t.timerId===e)break;return this.bu()}))}Cu(e){this.mu.push(e)}Su(e){const t=this.du.indexOf(e);this.du.splice(t,1)}}class Qp extends Up{constructor(e,t,n,r){super(e,t,n,r),this.type="firestore",this._queue=new Xp,this._persistenceKey=(null==r?void 0:r.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new Xp(e),this._firestoreClient=void 0,await e}}}function Yp(e){if(e._terminated)throw new mo(go.FAILED_PRECONDITION,"The client has already been terminated.");return e._firestoreClient||Jp(e),e._firestoreClient}function Jp(e){var t,n,r;const i=e._freezeSettings(),s=function(e,t,n,r){return new Sl(e,t,n,r.host,r.ssl,r.experimentalForceLongPolling,r.experimentalAutoDetectLongPolling,Dp(r.experimentalLongPollingOptions),r.useFetchStreams)}(e._databaseId,(null===(t=e._app)||void 0===t?void 0:t.options.appId)||"",e._persistenceKey,i);e._componentsProvider||(null===(n=i.localCache)||void 0===n?void 0:n._offlineComponentProvider)&&(null===(r=i.localCache)||void 0===r?void 0:r._onlineComponentProvider)&&(e._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),e._firestoreClient=new Tp(e._authCredentials,e._appCheckCredentials,e._queue,s,e._componentsProvider&&function(e){const t=null==e?void 0:e._online.build();return{_offline:null==e?void 0:e._offline.build(t),_online:t}}(e._componentsProvider))}class $p{constructor(e){this._byteString=e}static fromBase64String(e){try{return new $p(fl.fromBase64String(e))}catch(e){throw new mo(go.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+e)}}static fromUint8Array(e){return new $p(fl.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}}class Zp{constructor(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];for(let r=0;r<t.length;++r)if(0===t[r].length)throw new mo(go.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Do(t)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}class ef{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new mo(go.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new mo(go.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return To(this._lat,e._lat)||To(this._long,e._long)}}class tf{constructor(e){this._values=(e||[]).map((e=>e))}toArray(){return this._values.map((e=>e))}isEqual(e){return function(e,t){if(e.length!==t.length)return!1;for(let n=0;n<e.length;++n)if(e[n]!==t[n])return!1;return!0}(this._values,e._values)}}const nf=new RegExp("[~\\*/\\[\\]]");function rf(e,t,n){if(t.search(nf)>=0)throw sf("Invalid field path (".concat(t,"). Paths must not contain '~', '*', '/', '[', or ']'"),e,!1,void 0,n);try{return new Zp(...t.split("."))._internalPath}catch(Sf){throw sf("Invalid field path (".concat(t,"). Paths must not be empty, begin with '.', end with '.', or contain '..'"),e,!1,void 0,n)}}function sf(e,t,n,r,i){const s=r&&!r.isEmpty(),a=void 0!==i;let o="Function ".concat(t,"() called with invalid data");n&&(o+=" (via `toFirestore()`)"),o+=". ";let l="";return(s||a)&&(l+=" (found",s&&(l+=" in field ".concat(r)),a&&(l+=" in document ".concat(i)),l+=")"),new mo(go.INVALID_ARGUMENT,o+e+l)}class af{constructor(e,t,n,r,i){this._firestore=e,this._userDataWriter=t,this._key=n,this._document=r,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new qp(this._firestore,this._converter,this._key)}exists(){return null!==this._document}data(){if(this._document){if(this._converter){const e=new of(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){const t=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==t)return this._userDataWriter.convertValue(t)}}}class of extends af{data(){return super.data()}}function lf(e,t){return"string"==typeof t?rf(e,t):t instanceof Zp?t._internalPath:t._delegate._internalPath}class cf{convertValue(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";switch(kl(e)){case 0:return null;case 1:return e.booleanValue;case 2:return vl(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(yl(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ho()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"none";const n={};return sl(e,((e,r)=>{n[e]=this.convertValue(r,t)})),n}convertVectorValue(e){var t,n,r;const i=null===(r=null===(n=null===(t=e.fields)||void 0===t?void 0:t.value.arrayValue)||void 0===n?void 0:n.values)||void 0===r?void 0:r.map((e=>vl(e.doubleValue)));return new tf(i)}convertGeoPoint(e){return new ef(vl(e.latitude),vl(e.longitude))}convertArray(e,t){return(e.values||[]).map((e=>this.convertValue(e,t)))}convertServerTimestamp(e,t){switch(t){case"previous":const n=wl(e);return null==n?null:this.convertValue(n,t);case"estimate":return this.convertTimestamp(_l(e));default:return null}}convertTimestamp(e){const t=ml(e);return new Ro(t.seconds,t.nanos)}convertDocumentKey(e,t){const n=No.fromString(e);po(ph(n));const r=new El(n.get(1),n.get(3)),i=new Oo(n.popFirst(5));return r.isEqual(t)||lo("Document ".concat(i," contains a document reference within a different database (").concat(r.projectId,"/").concat(r.database,") which is not supported. It will be treated as a reference in the current database (").concat(t.projectId,"/").concat(t.database,") instead.")),i}}class uf{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class hf extends af{constructor(e,t,n,r,i,s){super(e,t,n,r,s),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._document){if(this._converter){const t=new df(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};if(this._document){const n=this._document.data.field(lf("DocumentSnapshot.get",e));if(null!==n)return this._userDataWriter.convertValue(n,t.serverTimestamps)}}}class df extends hf{data(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return super.data(e)}}class pf extends cf{constructor(e){super(),this.firestore=e}convertBytes(e){return new $p(e)}convertReference(e){const t=this.convertDocumentKey(e,this.firestore._databaseId);return new qp(this.firestore,null,t)}}function ff(e,t,n){const r=n.docs.get(t._key),i=new pf(e);return new hf(e,i,t._key,r,new uf(n.hasPendingWrites,n.fromCache),t.converter)}new WeakMap;!function(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];!function(e){io=e}(cr),ir(new Kt("firestore",((e,n)=>{let{instanceIdentifier:r,options:i}=n;const s=e.getProvider("app").getImmediate(),a=new Qp(new _o(e.getProvider("auth-internal")),new ko(e.getProvider("app-check-internal")),function(e,t){if(!Object.prototype.hasOwnProperty.apply(e.options,["projectId"]))throw new mo(go.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new El(e.options.projectId,t)}(s,r),s);return i=Object.assign({useFetchStreams:t},i),a._setSettings(i),a}),"PUBLIC").setMultipleInstances(!0)),dr(no,"4.7.5",e),dr(no,"4.7.5","esm2017")}();const gf=ur({apiKey:"AIzaSyBN29j2NMRYMXdL2ihv54xo_nTf8xkh1P0",authDomain:"nextqbicle-3d4f7.firebaseapp.com",projectId:"nextqbicle-3d4f7",storageBucket:"nextqbicle-3d4f7.firebasestorage.app",messagingSenderId:"931692518668",appId:"1:931692518668:web:8fbe3cd772d1d747d7bd29",measurementId:"G-TVGFJG3KNJ"}),mf=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:hr();const t=sr(e,"auth");if(t.isInitialized())return t.getImmediate();const n=function(e,t){const n=sr(e,"auth");if(n.isInitialized()){const e=n.getImmediate();if(Bt(n.getOptions(),null!==t&&void 0!==t?t:{}))return e;Ir(e,"already-initialized")}return n.initialize({options:t})}(e,{popupRedirectResolver:Da,persistence:[qs,Ts,Rs]}),r=Mt("authTokenSyncURL");if(r&&"boolean"===typeof isSecureContext&&isSecureContext){const e=new URL(r,location.origin);if(location.origin===e.origin){const t=(i=e.toString(),async e=>{const t=e&&await e.getIdTokenResult(),n=t&&((new Date).getTime()-Date.parse(t.issuedAtTime))/1e3;if(n&&n>Ba)return;const r=null===t||void 0===t?void 0:t.token;za!==r&&(za=r,await fetch(i,{method:r?"POST":"DELETE",headers:r?{Authorization:"Bearer ".concat(r)}:{}}))});!function(e,t,n){Gt(e).beforeAuthStateChanged(t,n)}(n,t,(()=>t(n.currentUser))),function(e,t,n,r){Gt(e).onIdTokenChanged(t,n,r)}(n,(e=>t(e)))}}var i;const s=It("auth");return s&&Qi(n,"http://".concat(s)),n}(gf),vf=function(e,t){const n="string"==typeof e?e:t||"(default)",r=sr("object"==typeof e?e:hr(),"firestore").getImmediate({identifier:n});if(!r._initialized){const e=(e=>{const t=It(e);if(!t)return;const n=t.lastIndexOf(":");if(n<=0||n+1===t.length)throw new Error("Invalid host ".concat(t," with no separate hostname and port!"));const r=parseInt(t.substring(n+1),10);return"["===t[0]?[t.substring(1,n-1),r]:[t.substring(0,n),r]})("firestore");e&&Wp(r,...e)}return r}(gf);var yf=n(579);const bf=(0,i.createContext)(),wf=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(!0);async function o(e){try{const t=await function(e){e=zp(e,qp);const t=zp(e.firestore,Qp);return Lp(Yp(t),e._key).then((n=>ff(t,e,n)))}(Kp(vf,"Users",e));return t.exists()?t.data():(console.error("No such user document!"),null)}catch(t){return console.error("Error fetching user data:",t),null}}return(0,i.useEffect)((()=>{const e=function(e,t,n,r){return Gt(e).onAuthStateChanged(t,n,r)}(mf,(async e=>{if(e){const t=await o(e.uid);r(p(p({},e),t))}else r(null);a(!1)}));return e}),[]),s?(0,yf.jsx)("p",{children:"Loading..."}):(0,yf.jsx)(bf.Provider,{value:{user:n,login:function(e,t){return function(e,t,n){return ar(e.app)?Promise.reject(Pr(e)):Ss(Gt(e),ls.credential(t,n)).catch((async t=>{throw t.code==="auth/".concat("password-does-not-meet-requirements")&&Es(e),t}))}(mf,e,t)},logout:function(){return function(e){return Gt(e).signOut()}(mf)}},children:t})};function _f(){return(0,i.useContext)(bf)}function Sf(e){var t,n,r="";if("string"==typeof e||"number"==typeof e)r+=e;else if("object"==typeof e)if(Array.isArray(e)){var i=e.length;for(t=0;t<i;t++)e[t]&&(n=Sf(e[t]))&&(r&&(r+=" "),r+=n)}else for(n in e)e[n]&&(r&&(r+=" "),r+=n);return r}const Ef=function(){for(var e,t,n=0,r="",i=arguments.length;n<i;n++)(e=arguments[n])&&(t=Sf(e))&&(r&&(r+=" "),r+=t);return r};function Af(){return Af=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)({}).hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e},Af.apply(null,arguments)}var kf=function(){function e(e){var t=this;this._insertTag=function(e){var n;n=0===t.tags.length?t.insertionPoint?t.insertionPoint.nextSibling:t.prepend?t.container.firstChild:t.before:t.tags[t.tags.length-1].nextSibling,t.container.insertBefore(e,n),t.tags.push(e)},this.isSpeedy=void 0===e.speedy||e.speedy,this.tags=[],this.ctr=0,this.nonce=e.nonce,this.key=e.key,this.container=e.container,this.prepend=e.prepend,this.insertionPoint=e.insertionPoint,this.before=null}var t=e.prototype;return t.hydrate=function(e){e.forEach(this._insertTag)},t.insert=function(e){this.ctr%(this.isSpeedy?65e3:1)===0&&this._insertTag(function(e){var t=document.createElement("style");return t.setAttribute("data-emotion",e.key),void 0!==e.nonce&&t.setAttribute("nonce",e.nonce),t.appendChild(document.createTextNode("")),t.setAttribute("data-s",""),t}(this));var t=this.tags[this.tags.length-1];if(this.isSpeedy){var n=function(e){if(e.sheet)return e.sheet;for(var t=0;t<document.styleSheets.length;t++)if(document.styleSheets[t].ownerNode===e)return document.styleSheets[t]}(t);try{n.insertRule(e,n.cssRules.length)}catch(ez){}}else t.appendChild(document.createTextNode(e));this.ctr++},t.flush=function(){this.tags.forEach((function(e){var t;return null==(t=e.parentNode)?void 0:t.removeChild(e)})),this.tags=[],this.ctr=0},e}(),xf=Math.abs,Cf=String.fromCharCode,Tf=Object.assign;function If(e){return e.trim()}function Rf(e,t,n){return e.replace(t,n)}function Mf(e,t){return e.indexOf(t)}function Pf(e,t){return 0|e.charCodeAt(t)}function Nf(e,t,n){return e.slice(t,n)}function Lf(e){return e.length}function Df(e){return e.length}function Of(e,t){return t.push(e),e}var Ff=1,jf=1,Bf=0,zf=0,Vf=0,Uf="";function Wf(e,t,n,r,i,s,a){return{value:e,root:t,parent:n,type:r,props:i,children:s,line:Ff,column:jf,length:a,return:""}}function Hf(e,t){return Tf(Wf("",null,null,"",null,null,0),e,{length:-e.length},t)}function qf(){return Vf=zf>0?Pf(Uf,--zf):0,jf--,10===Vf&&(jf=1,Ff--),Vf}function Gf(){return Vf=zf<Bf?Pf(Uf,zf++):0,jf++,10===Vf&&(jf=1,Ff++),Vf}function Kf(){return Pf(Uf,zf)}function Xf(){return zf}function Qf(e,t){return Nf(Uf,e,t)}function Yf(e){switch(e){case 0:case 9:case 10:case 13:case 32:return 5;case 33:case 43:case 44:case 47:case 62:case 64:case 126:case 59:case 123:case 125:return 4;case 58:return 3;case 34:case 39:case 40:case 91:return 2;case 41:case 93:return 1}return 0}function Jf(e){return Ff=jf=1,Bf=Lf(Uf=e),zf=0,[]}function $f(e){return Uf="",e}function Zf(e){return If(Qf(zf-1,ng(91===e?e+2:40===e?e+1:e)))}function eg(e){for(;(Vf=Kf())&&Vf<33;)Gf();return Yf(e)>2||Yf(Vf)>3?"":" "}function tg(e,t){for(;--t&&Gf()&&!(Vf<48||Vf>102||Vf>57&&Vf<65||Vf>70&&Vf<97););return Qf(e,Xf()+(t<6&&32==Kf()&&32==Gf()))}function ng(e){for(;Gf();)switch(Vf){case e:return zf;case 34:case 39:34!==e&&39!==e&&ng(Vf);break;case 40:41===e&&ng(e);break;case 92:Gf()}return zf}function rg(e,t){for(;Gf()&&e+Vf!==57&&(e+Vf!==84||47!==Kf()););return"/*"+Qf(t,zf-1)+"*"+Cf(47===e?e:Gf())}function ig(e){for(;!Yf(Kf());)Gf();return Qf(e,zf)}var sg="-ms-",ag="-moz-",og="-webkit-",lg="comm",cg="rule",ug="decl",hg="@keyframes";function dg(e,t){for(var n="",r=Df(e),i=0;i<r;i++)n+=t(e[i],i,e,t)||"";return n}function pg(e,t,n,r){switch(e.type){case"@layer":if(e.children.length)break;case"@import":case ug:return e.return=e.return||e.value;case lg:return"";case hg:return e.return=e.value+"{"+dg(e.children,r)+"}";case cg:e.value=e.props.join(",")}return Lf(n=dg(e.children,r))?e.return=e.value+"{"+n+"}":""}function fg(e){return function(t){t.root||(t=t.return)&&e(t)}}function gg(e){return $f(mg("",null,null,null,[""],e=Jf(e),0,[0],e))}function mg(e,t,n,r,i,s,a,o,l){for(var c=0,u=0,h=a,d=0,p=0,f=0,g=1,m=1,v=1,y=0,b="",w=i,_=s,S=r,E=b;m;)switch(f=y,y=Gf()){case 40:if(108!=f&&58==Pf(E,h-1)){-1!=Mf(E+=Rf(Zf(y),"&","&\f"),"&\f")&&(v=-1);break}case 34:case 39:case 91:E+=Zf(y);break;case 9:case 10:case 13:case 32:E+=eg(f);break;case 92:E+=tg(Xf()-1,7);continue;case 47:switch(Kf()){case 42:case 47:Of(yg(rg(Gf(),Xf()),t,n),l);break;default:E+="/"}break;case 123*g:o[c++]=Lf(E)*v;case 125*g:case 59:case 0:switch(y){case 0:case 125:m=0;case 59+u:-1==v&&(E=Rf(E,/\f/g,"")),p>0&&Lf(E)-h&&Of(p>32?bg(E+";",r,n,h-1):bg(Rf(E," ","")+";",r,n,h-2),l);break;case 59:E+=";";default:if(Of(S=vg(E,t,n,c,u,i,o,b,w=[],_=[],h),s),123===y)if(0===u)mg(E,t,S,S,w,s,h,o,_);else switch(99===d&&110===Pf(E,3)?100:d){case 100:case 108:case 109:case 115:mg(e,S,S,r&&Of(vg(e,S,S,0,0,i,o,b,i,w=[],h),_),i,_,h,o,r?w:_);break;default:mg(E,S,S,S,[""],_,0,o,_)}}c=u=p=0,g=v=1,b=E="",h=a;break;case 58:h=1+Lf(E),p=f;default:if(g<1)if(123==y)--g;else if(125==y&&0==g++&&125==qf())continue;switch(E+=Cf(y),y*g){case 38:v=u>0?1:(E+="\f",-1);break;case 44:o[c++]=(Lf(E)-1)*v,v=1;break;case 64:45===Kf()&&(E+=Zf(Gf())),d=Kf(),u=h=Lf(b=E+=ig(Xf())),y++;break;case 45:45===f&&2==Lf(E)&&(g=0)}}return s}function vg(e,t,n,r,i,s,a,o,l,c,u){for(var h=i-1,d=0===i?s:[""],p=Df(d),f=0,g=0,m=0;f<r;++f)for(var v=0,y=Nf(e,h+1,h=xf(g=a[f])),b=e;v<p;++v)(b=If(g>0?d[v]+" "+y:Rf(y,/&\f/g,d[v])))&&(l[m++]=b);return Wf(e,t,n,0===i?cg:o,l,c,u)}function yg(e,t,n){return Wf(e,t,n,lg,Cf(Vf),Nf(e,2,-2),0)}function bg(e,t,n,r){return Wf(e,t,n,ug,Nf(e,0,r),Nf(e,r+1,-1),r)}var wg=function(e,t,n){for(var r=0,i=0;r=i,i=Kf(),38===r&&12===i&&(t[n]=1),!Yf(i);)Gf();return Qf(e,zf)},_g=function(e,t){return $f(function(e,t){var n=-1,r=44;do{switch(Yf(r)){case 0:38===r&&12===Kf()&&(t[n]=1),e[n]+=wg(zf-1,t,n);break;case 2:e[n]+=Zf(r);break;case 4:if(44===r){e[++n]=58===Kf()?"&\f":"",t[n]=e[n].length;break}default:e[n]+=Cf(r)}}while(r=Gf());return e}(Jf(e),t))},Sg=new WeakMap,Eg=function(e){if("rule"===e.type&&e.parent&&!(e.length<1)){for(var t=e.value,n=e.parent,r=e.column===n.column&&e.line===n.line;"rule"!==n.type;)if(!(n=n.parent))return;if((1!==e.props.length||58===t.charCodeAt(0)||Sg.get(n))&&!r){Sg.set(e,!0);for(var i=[],s=_g(t,i),a=n.props,o=0,l=0;o<s.length;o++)for(var c=0;c<a.length;c++,l++)e.props[l]=i[o]?s[o].replace(/&\f/g,a[c]):a[c]+" "+s[o]}}},Ag=function(e){if("decl"===e.type){var t=e.value;108===t.charCodeAt(0)&&98===t.charCodeAt(2)&&(e.return="",e.value="")}};function kg(e,t){switch(function(e,t){return 45^Pf(e,0)?(((t<<2^Pf(e,0))<<2^Pf(e,1))<<2^Pf(e,2))<<2^Pf(e,3):0}(e,t)){case 5103:return og+"print-"+e+e;case 5737:case 4201:case 3177:case 3433:case 1641:case 4457:case 2921:case 5572:case 6356:case 5844:case 3191:case 6645:case 3005:case 6391:case 5879:case 5623:case 6135:case 4599:case 4855:case 4215:case 6389:case 5109:case 5365:case 5621:case 3829:return og+e+e;case 5349:case 4246:case 4810:case 6968:case 2756:return og+e+ag+e+sg+e+e;case 6828:case 4268:return og+e+sg+e+e;case 6165:return og+e+sg+"flex-"+e+e;case 5187:return og+e+Rf(e,/(\w+).+(:[^]+)/,og+"box-$1$2"+sg+"flex-$1$2")+e;case 5443:return og+e+sg+"flex-item-"+Rf(e,/flex-|-self/,"")+e;case 4675:return og+e+sg+"flex-line-pack"+Rf(e,/align-content|flex-|-self/,"")+e;case 5548:return og+e+sg+Rf(e,"shrink","negative")+e;case 5292:return og+e+sg+Rf(e,"basis","preferred-size")+e;case 6060:return og+"box-"+Rf(e,"-grow","")+og+e+sg+Rf(e,"grow","positive")+e;case 4554:return og+Rf(e,/([^-])(transform)/g,"$1"+og+"$2")+e;case 6187:return Rf(Rf(Rf(e,/(zoom-|grab)/,og+"$1"),/(image-set)/,og+"$1"),e,"")+e;case 5495:case 3959:return Rf(e,/(image-set\([^]*)/,og+"$1$`$1");case 4968:return Rf(Rf(e,/(.+:)(flex-)?(.*)/,og+"box-pack:$3"+sg+"flex-pack:$3"),/s.+-b[^;]+/,"justify")+og+e+e;case 4095:case 3583:case 4068:case 2532:return Rf(e,/(.+)-inline(.+)/,og+"$1$2")+e;case 8116:case 7059:case 5753:case 5535:case 5445:case 5701:case 4933:case 4677:case 5533:case 5789:case 5021:case 4765:if(Lf(e)-1-t>6)switch(Pf(e,t+1)){case 109:if(45!==Pf(e,t+4))break;case 102:return Rf(e,/(.+:)(.+)-([^]+)/,"$1"+og+"$2-$3$1"+ag+(108==Pf(e,t+3)?"$3":"$2-$3"))+e;case 115:return~Mf(e,"stretch")?kg(Rf(e,"stretch","fill-available"),t)+e:e}break;case 4949:if(115!==Pf(e,t+1))break;case 6444:switch(Pf(e,Lf(e)-3-(~Mf(e,"!important")&&10))){case 107:return Rf(e,":",":"+og)+e;case 101:return Rf(e,/(.+:)([^;!]+)(;|!.+)?/,"$1"+og+(45===Pf(e,14)?"inline-":"")+"box$3$1"+og+"$2$3$1"+sg+"$2box$3")+e}break;case 5936:switch(Pf(e,t+11)){case 114:return og+e+sg+Rf(e,/[svh]\w+-[tblr]{2}/,"tb")+e;case 108:return og+e+sg+Rf(e,/[svh]\w+-[tblr]{2}/,"tb-rl")+e;case 45:return og+e+sg+Rf(e,/[svh]\w+-[tblr]{2}/,"lr")+e}return og+e+sg+e+e}return e}var xg=[function(e,t,n,r){if(e.length>-1&&!e.return)switch(e.type){case ug:e.return=kg(e.value,e.length);break;case hg:return dg([Hf(e,{value:Rf(e.value,"@","@"+og)})],r);case cg:if(e.length)return function(e,t){return e.map(t).join("")}(e.props,(function(t){switch(function(e,t){return(e=t.exec(e))?e[0]:e}(t,/(::plac\w+|:read-\w+)/)){case":read-only":case":read-write":return dg([Hf(e,{props:[Rf(t,/:(read-\w+)/,":-moz-$1")]})],r);case"::placeholder":return dg([Hf(e,{props:[Rf(t,/:(plac\w+)/,":"+og+"input-$1")]}),Hf(e,{props:[Rf(t,/:(plac\w+)/,":-moz-$1")]}),Hf(e,{props:[Rf(t,/:(plac\w+)/,sg+"input-$1")]})],r)}return""}))}}],Cg=function(e){var t=e.key;if("css"===t){var n=document.querySelectorAll("style[data-emotion]:not([data-s])");Array.prototype.forEach.call(n,(function(e){-1!==e.getAttribute("data-emotion").indexOf(" ")&&(document.head.appendChild(e),e.setAttribute("data-s",""))}))}var r,i,s=e.stylisPlugins||xg,a={},o=[];r=e.container||document.head,Array.prototype.forEach.call(document.querySelectorAll('style[data-emotion^="'+t+' "]'),(function(e){for(var t=e.getAttribute("data-emotion").split(" "),n=1;n<t.length;n++)a[t[n]]=!0;o.push(e)}));var l,c=[Eg,Ag],u=[pg,fg((function(e){l.insert(e)}))],h=function(e){var t=Df(e);return function(n,r,i,s){for(var a="",o=0;o<t;o++)a+=e[o](n,r,i,s)||"";return a}}(c.concat(s,u));i=function(e,t,n,r){l=n,function(e){dg(gg(e),h)}(e?e+"{"+t.styles+"}":t.styles),r&&(d.inserted[t.name]=!0)};var d={key:t,sheet:new kf({key:t,container:r,nonce:e.nonce,speedy:e.speedy,prepend:e.prepend,insertionPoint:e.insertionPoint}),nonce:e.nonce,inserted:a,registered:{},insert:i};return d.sheet.hydrate(o),d};function Tg(e,t,n){var r="";return n.split(" ").forEach((function(n){void 0!==e[n]?t.push(e[n]+";"):n&&(r+=n+" ")})),r}var Ig=function(e,t,n){var r=e.key+"-"+t.name;!1===n&&void 0===e.registered[r]&&(e.registered[r]=t.styles)},Rg=function(e,t,n){Ig(e,t,n);var r=e.key+"-"+t.name;if(void 0===e.inserted[t.name]){var i=t;do{e.insert(t===i?"."+r:"",i,e.sheet,!0),i=i.next}while(void 0!==i)}};var Mg={animationIterationCount:1,aspectRatio:1,borderImageOutset:1,borderImageSlice:1,borderImageWidth:1,boxFlex:1,boxFlexGroup:1,boxOrdinalGroup:1,columnCount:1,columns:1,flex:1,flexGrow:1,flexPositive:1,flexShrink:1,flexNegative:1,flexOrder:1,gridRow:1,gridRowEnd:1,gridRowSpan:1,gridRowStart:1,gridColumn:1,gridColumnEnd:1,gridColumnSpan:1,gridColumnStart:1,msGridRow:1,msGridRowSpan:1,msGridColumn:1,msGridColumnSpan:1,fontWeight:1,lineHeight:1,opacity:1,order:1,orphans:1,scale:1,tabSize:1,widows:1,zIndex:1,zoom:1,WebkitLineClamp:1,fillOpacity:1,floodOpacity:1,stopOpacity:1,strokeDasharray:1,strokeDashoffset:1,strokeMiterlimit:1,strokeOpacity:1,strokeWidth:1};function Pg(e){var t=Object.create(null);return function(n){return void 0===t[n]&&(t[n]=e(n)),t[n]}}var Ng=/[A-Z]|^ms/g,Lg=/_EMO_([^_]+?)_([^]*?)_EMO_/g,Dg=function(e){return 45===e.charCodeAt(1)},Og=function(e){return null!=e&&"boolean"!==typeof e},Fg=Pg((function(e){return Dg(e)?e:e.replace(Ng,"-$&").toLowerCase()})),jg=function(e,t){switch(e){case"animation":case"animationName":if("string"===typeof t)return t.replace(Lg,(function(e,t,n){return zg={name:t,styles:n,next:zg},t}))}return 1===Mg[e]||Dg(e)||"number"!==typeof t||0===t?t:t+"px"};function Bg(e,t,n){if(null==n)return"";var r=n;if(void 0!==r.__emotion_styles)return r;switch(typeof n){case"boolean":return"";case"object":var i=n;if(1===i.anim)return zg={name:i.name,styles:i.styles,next:zg},i.name;var s=n;if(void 0!==s.styles){var a=s.next;if(void 0!==a)for(;void 0!==a;)zg={name:a.name,styles:a.styles,next:zg},a=a.next;return s.styles+";"}return function(e,t,n){var r="";if(Array.isArray(n))for(var i=0;i<n.length;i++)r+=Bg(e,t,n[i])+";";else for(var s in n){var a=n[s];if("object"!==typeof a){var o=a;null!=t&&void 0!==t[o]?r+=s+"{"+t[o]+"}":Og(o)&&(r+=Fg(s)+":"+jg(s,o)+";")}else if(!Array.isArray(a)||"string"!==typeof a[0]||null!=t&&void 0!==t[a[0]]){var l=Bg(e,t,a);switch(s){case"animation":case"animationName":r+=Fg(s)+":"+l+";";break;default:r+=s+"{"+l+"}"}}else for(var c=0;c<a.length;c++)Og(a[c])&&(r+=Fg(s)+":"+jg(s,a[c])+";")}return r}(e,t,n);case"function":if(void 0!==e){var o=zg,l=n(e);return zg=o,Bg(e,t,l)}}var c=n;if(null==t)return c;var u=t[c];return void 0!==u?u:c}var zg,Vg=/label:\s*([^\s;{]+)\s*(;|$)/g;function Ug(e,t,n){if(1===e.length&&"object"===typeof e[0]&&null!==e[0]&&void 0!==e[0].styles)return e[0];var r=!0,i="";zg=void 0;var s=e[0];null==s||void 0===s.raw?(r=!1,i+=Bg(n,t,s)):i+=s[0];for(var a=1;a<e.length;a++){if(i+=Bg(n,t,e[a]),r)i+=s[a]}Vg.lastIndex=0;for(var o,l="";null!==(o=Vg.exec(i));)l+="-"+o[1];var c=function(e){for(var t,n=0,r=0,i=e.length;i>=4;++r,i-=4)t=1540483477*(65535&(t=255&e.charCodeAt(r)|(255&e.charCodeAt(++r))<<8|(255&e.charCodeAt(++r))<<16|(255&e.charCodeAt(++r))<<24))+(59797*(t>>>16)<<16),n=1540483477*(65535&(t^=t>>>24))+(59797*(t>>>16)<<16)^1540483477*(65535&n)+(59797*(n>>>16)<<16);switch(i){case 3:n^=(255&e.charCodeAt(r+2))<<16;case 2:n^=(255&e.charCodeAt(r+1))<<8;case 1:n=1540483477*(65535&(n^=255&e.charCodeAt(r)))+(59797*(n>>>16)<<16)}return(((n=1540483477*(65535&(n^=n>>>13))+(59797*(n>>>16)<<16))^n>>>15)>>>0).toString(36)}(i)+l;return{name:c,styles:i,next:zg}}var Wg=!!s.useInsertionEffect&&s.useInsertionEffect,Hg=Wg||function(e){return e()},qg=Wg||i.useLayoutEffect,Gg=i.createContext("undefined"!==typeof HTMLElement?Cg({key:"css"}):null),Kg=(Gg.Provider,function(e){return(0,i.forwardRef)((function(t,n){var r=(0,i.useContext)(Gg);return e(t,r,n)}))}),Xg=i.createContext({});var Qg={}.hasOwnProperty,Yg="__EMOTION_TYPE_PLEASE_DO_NOT_USE__",Jg=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Ig(t,n,r),Hg((function(){return Rg(t,n,r)})),null},$g=Kg((function(e,t,n){var r=e.css;"string"===typeof r&&void 0!==t.registered[r]&&(r=t.registered[r]);var s=e[Yg],a=[r],o="";"string"===typeof e.className?o=Tg(t.registered,a,e.className):null!=e.className&&(o=e.className+" ");var l=Ug(a,void 0,i.useContext(Xg));o+=t.key+"-"+l.name;var c={};for(var u in e)Qg.call(e,u)&&"css"!==u&&u!==Yg&&(c[u]=e[u]);return c.className=o,n&&(c.ref=n),i.createElement(i.Fragment,null,i.createElement(Jg,{cache:t,serialized:l,isStringTag:"string"===typeof s}),i.createElement(s,c))})),Zg=/^((children|dangerouslySetInnerHTML|key|ref|autoFocus|defaultValue|defaultChecked|innerHTML|suppressContentEditableWarning|suppressHydrationWarning|valueLink|abbr|accept|acceptCharset|accessKey|action|allow|allowUserMedia|allowPaymentRequest|allowFullScreen|allowTransparency|alt|async|autoComplete|autoPlay|capture|cellPadding|cellSpacing|challenge|charSet|checked|cite|classID|className|cols|colSpan|content|contentEditable|contextMenu|controls|controlsList|coords|crossOrigin|data|dateTime|decoding|default|defer|dir|disabled|disablePictureInPicture|disableRemotePlayback|download|draggable|encType|enterKeyHint|fetchpriority|fetchPriority|form|formAction|formEncType|formMethod|formNoValidate|formTarget|frameBorder|headers|height|hidden|high|href|hrefLang|htmlFor|httpEquiv|id|inputMode|integrity|is|keyParams|keyType|kind|label|lang|list|loading|loop|low|marginHeight|marginWidth|max|maxLength|media|mediaGroup|method|min|minLength|multiple|muted|name|nonce|noValidate|open|optimum|pattern|placeholder|playsInline|poster|preload|profile|radioGroup|readOnly|referrerPolicy|rel|required|reversed|role|rows|rowSpan|sandbox|scope|scoped|scrolling|seamless|selected|shape|size|sizes|slot|span|spellCheck|src|srcDoc|srcLang|srcSet|start|step|style|summary|tabIndex|target|title|translate|type|useMap|value|width|wmode|wrap|about|datatype|inlist|prefix|property|resource|typeof|vocab|autoCapitalize|autoCorrect|autoSave|color|incremental|fallback|inert|itemProp|itemScope|itemType|itemID|itemRef|on|option|results|security|unselectable|accentHeight|accumulate|additive|alignmentBaseline|allowReorder|alphabetic|amplitude|arabicForm|ascent|attributeName|attributeType|autoReverse|azimuth|baseFrequency|baselineShift|baseProfile|bbox|begin|bias|by|calcMode|capHeight|clip|clipPathUnits|clipPath|clipRule|colorInterpolation|colorInterpolationFilters|colorProfile|colorRendering|contentScriptType|contentStyleType|cursor|cx|cy|d|decelerate|descent|diffuseConstant|direction|display|divisor|dominantBaseline|dur|dx|dy|edgeMode|elevation|enableBackground|end|exponent|externalResourcesRequired|fill|fillOpacity|fillRule|filter|filterRes|filterUnits|floodColor|floodOpacity|focusable|fontFamily|fontSize|fontSizeAdjust|fontStretch|fontStyle|fontVariant|fontWeight|format|from|fr|fx|fy|g1|g2|glyphName|glyphOrientationHorizontal|glyphOrientationVertical|glyphRef|gradientTransform|gradientUnits|hanging|horizAdvX|horizOriginX|ideographic|imageRendering|in|in2|intercept|k|k1|k2|k3|k4|kernelMatrix|kernelUnitLength|kerning|keyPoints|keySplines|keyTimes|lengthAdjust|letterSpacing|lightingColor|limitingConeAngle|local|markerEnd|markerMid|markerStart|markerHeight|markerUnits|markerWidth|mask|maskContentUnits|maskUnits|mathematical|mode|numOctaves|offset|opacity|operator|order|orient|orientation|origin|overflow|overlinePosition|overlineThickness|panose1|paintOrder|pathLength|patternContentUnits|patternTransform|patternUnits|pointerEvents|points|pointsAtX|pointsAtY|pointsAtZ|preserveAlpha|preserveAspectRatio|primitiveUnits|r|radius|refX|refY|renderingIntent|repeatCount|repeatDur|requiredExtensions|requiredFeatures|restart|result|rotate|rx|ry|scale|seed|shapeRendering|slope|spacing|specularConstant|specularExponent|speed|spreadMethod|startOffset|stdDeviation|stemh|stemv|stitchTiles|stopColor|stopOpacity|strikethroughPosition|strikethroughThickness|string|stroke|strokeDasharray|strokeDashoffset|strokeLinecap|strokeLinejoin|strokeMiterlimit|strokeOpacity|strokeWidth|surfaceScale|systemLanguage|tableValues|targetX|targetY|textAnchor|textDecoration|textRendering|textLength|to|transform|u1|u2|underlinePosition|underlineThickness|unicode|unicodeBidi|unicodeRange|unitsPerEm|vAlphabetic|vHanging|vIdeographic|vMathematical|values|vectorEffect|version|vertAdvY|vertOriginX|vertOriginY|viewBox|viewTarget|visibility|widths|wordSpacing|writingMode|x|xHeight|x1|x2|xChannelSelector|xlinkActuate|xlinkArcrole|xlinkHref|xlinkRole|xlinkShow|xlinkTitle|xlinkType|xmlBase|xmlns|xmlnsXlink|xmlLang|xmlSpace|y|y1|y2|yChannelSelector|z|zoomAndPan|for|class|autofocus)|(([Dd][Aa][Tt][Aa]|[Aa][Rr][Ii][Aa]|x)-.*))$/,em=Pg((function(e){return Zg.test(e)||111===e.charCodeAt(0)&&110===e.charCodeAt(1)&&e.charCodeAt(2)<91})),tm=function(e){return"theme"!==e},nm=function(e){return"string"===typeof e&&e.charCodeAt(0)>96?em:tm},rm=function(e,t,n){var r;if(t){var i=t.shouldForwardProp;r=e.__emotion_forwardProp&&i?function(t){return e.__emotion_forwardProp(t)&&i(t)}:i}return"function"!==typeof r&&n&&(r=e.__emotion_forwardProp),r},im=function(e){var t=e.cache,n=e.serialized,r=e.isStringTag;return Ig(t,n,r),Hg((function(){return Rg(t,n,r)})),null},sm=function e(t,n){var r,s,a=t.__emotion_real===t,o=a&&t.__emotion_base||t;void 0!==n&&(r=n.label,s=n.target);var l=rm(t,n,a),c=l||nm(o),u=!c("as");return function(){var h=arguments,d=a&&void 0!==t.__emotion_styles?t.__emotion_styles.slice(0):[];if(void 0!==r&&d.push("label:"+r+";"),null==h[0]||void 0===h[0].raw)d.push.apply(d,h);else{var p=h[0];d.push(p[0]);for(var f=h.length,g=1;g<f;g++)d.push(h[g],p[g])}var m=Kg((function(e,t,n){var r=u&&e.as||o,a="",h=[],p=e;if(null==e.theme){for(var f in p={},e)p[f]=e[f];p.theme=i.useContext(Xg)}"string"===typeof e.className?a=Tg(t.registered,h,e.className):null!=e.className&&(a=e.className+" ");var g=Ug(d.concat(h),t.registered,p);a+=t.key+"-"+g.name,void 0!==s&&(a+=" "+s);var m=u&&void 0===l?nm(r):c,v={};for(var y in e)u&&"as"===y||m(y)&&(v[y]=e[y]);return v.className=a,n&&(v.ref=n),i.createElement(i.Fragment,null,i.createElement(im,{cache:t,serialized:g,isStringTag:"string"===typeof r}),i.createElement(r,v))}));return m.displayName=void 0!==r?r:"Styled("+("string"===typeof o?o:o.displayName||o.name||"Component")+")",m.defaultProps=t.defaultProps,m.__emotion_real=m,m.__emotion_base=o,m.__emotion_styles=d,m.__emotion_forwardProp=l,Object.defineProperty(m,"toString",{value:function(){return"."+s}}),m.withComponent=function(t,r){return e(t,Af({},n,r,{shouldForwardProp:rm(m,r,!0)})).apply(void 0,d)},m}}.bind(null);function am(e,t){return sm(e,t)}["a","abbr","address","area","article","aside","audio","b","base","bdi","bdo","big","blockquote","body","br","button","canvas","caption","cite","code","col","colgroup","data","datalist","dd","del","details","dfn","dialog","div","dl","dt","em","embed","fieldset","figcaption","figure","footer","form","h1","h2","h3","h4","h5","h6","head","header","hgroup","hr","html","i","iframe","img","input","ins","kbd","keygen","label","legend","li","link","main","map","mark","marquee","menu","menuitem","meta","meter","nav","noscript","object","ol","optgroup","option","output","p","param","picture","pre","progress","q","rp","rt","ruby","s","samp","script","section","select","small","source","span","strong","style","sub","summary","sup","table","tbody","td","textarea","tfoot","th","thead","time","title","tr","track","u","ul","var","video","wbr","circle","clipPath","defs","ellipse","foreignObject","g","image","line","linearGradient","mask","path","pattern","polygon","polyline","radialGradient","rect","stop","svg","text","tspan"].forEach((function(e){sm[e]=sm(e)}));const om=[];function lm(e){return om[0]=e,Ug(om)}function cm(e){const t=new URL("https://mui.com/production-error/?code=".concat(e));for(var n=arguments.length,r=new Array(n>1?n-1:0),i=1;i<n;i++)r[i-1]=arguments[i];return r.forEach((e=>t.searchParams.append("args[]",e))),"Minified MUI error #".concat(e,"; visit ").concat(t," for the full message.")}function um(e){if("string"!==typeof e)throw new Error(cm(7));return e.charAt(0).toUpperCase()+e.slice(1)}function hm(e){if("object"!==typeof e||null===e)return!1;const t=Object.getPrototypeOf(e);return(null===t||t===Object.prototype||null===Object.getPrototypeOf(t))&&!(Symbol.toStringTag in e)&&!(Symbol.iterator in e)}function dm(e){if(i.isValidElement(e)||!hm(e))return e;const t={};return Object.keys(e).forEach((n=>{t[n]=dm(e[n])})),t}function pm(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{clone:!0};const r=n.clone?p({},e):e;return hm(e)&&hm(t)&&Object.keys(t).forEach((s=>{i.isValidElement(t[s])?r[s]=t[s]:hm(t[s])&&Object.prototype.hasOwnProperty.call(e,s)&&hm(e[s])?r[s]=pm(e[s],t[s],n):n.clone?r[s]=hm(t[s])?dm(t[s]):t[s]:r[s]=t[s]})),r}const fm=function(e,t){return t?pm(e,t,{clone:!1}):e};const gm={xs:0,sm:600,md:900,lg:1200,xl:1536},mm={keys:["xs","sm","md","lg","xl"],up:e=>"@media (min-width:".concat(gm[e],"px)")},vm={containerQueries:e=>({up:t=>{let n="number"===typeof t?t:gm[t]||t;return"number"===typeof n&&(n="".concat(n,"px")),e?"@container ".concat(e," (min-width:").concat(n,")"):"@container (min-width:".concat(n,")")}})};function ym(e,t,n){const r=e.theme||{};if(Array.isArray(t)){const e=r.breakpoints||mm;return t.reduce(((r,i,s)=>(r[e.up(e.keys[s])]=n(t[s]),r)),{})}if("object"===typeof t){const e=r.breakpoints||mm;return Object.keys(t).reduce(((i,s)=>{if(function(e,t){return"@"===t||t.startsWith("@")&&(e.some((e=>t.startsWith("@".concat(e))))||!!t.match(/^@\d/))}(e.keys,s)){const e=function(e,t){const n=t.match(/^@([^/]+)?\/?(.+)?$/);if(!n)return null;const[,r,i]=n,s=Number.isNaN(+r)?r||0:+r;return e.containerQueries(i).up(s)}(r.containerQueries?r:vm,s);e&&(i[e]=n(t[s],s))}else if(Object.keys(e.values||gm).includes(s)){i[e.up(s)]=n(t[s],s)}else{const e=s;i[e]=t[e]}return i}),{})}return n(t)}function bm(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return(null===(e=t.keys)||void 0===e?void 0:e.reduce(((e,n)=>(e[t.up(n)]={},e)),{}))||{}}function wm(e,t){return e.reduce(((e,t)=>{const n=e[t];return(!n||0===Object.keys(n).length)&&delete e[t],e}),t)}function _m(e,t){let n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];if(!t||"string"!==typeof t)return null;if(e&&e.vars&&n){const n="vars.".concat(t).split(".").reduce(((e,t)=>e&&e[t]?e[t]:null),e);if(null!=n)return n}return t.split(".").reduce(((e,t)=>e&&null!=e[t]?e[t]:null),e)}function Sm(e,t,n){let r,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:n;return r="function"===typeof e?e(n):Array.isArray(e)?e[n]||i:_m(e,n)||i,t&&(r=t(r,i,e)),r}const Em=function(e){const{prop:t,cssProperty:n=e.prop,themeKey:r,transform:i}=e,s=e=>{if(null==e[t])return null;const s=e[t],a=_m(e.theme,r)||{};return ym(e,s,(e=>{let r=Sm(a,i,e);return e===r&&"string"===typeof e&&(r=Sm(a,i,"".concat(t).concat("default"===e?"":um(e)),e)),!1===n?r:{[n]:r}}))};return s.propTypes={},s.filterProps=[t],s};const Am={m:"margin",p:"padding"},km={t:"Top",r:"Right",b:"Bottom",l:"Left",x:["Left","Right"],y:["Top","Bottom"]},xm={marginX:"mx",marginY:"my",paddingX:"px",paddingY:"py"},Cm=function(e){const t={};return n=>(void 0===t[n]&&(t[n]=e(n)),t[n])}((e=>{if(e.length>2){if(!xm[e])return[e];e=xm[e]}const[t,n]=e.split(""),r=Am[t],i=km[n]||"";return Array.isArray(i)?i.map((e=>r+e)):[r+i]})),Tm=["m","mt","mr","mb","ml","mx","my","margin","marginTop","marginRight","marginBottom","marginLeft","marginX","marginY","marginInline","marginInlineStart","marginInlineEnd","marginBlock","marginBlockStart","marginBlockEnd"],Im=["p","pt","pr","pb","pl","px","py","padding","paddingTop","paddingRight","paddingBottom","paddingLeft","paddingX","paddingY","paddingInline","paddingInlineStart","paddingInlineEnd","paddingBlock","paddingBlockStart","paddingBlockEnd"],Rm=[...Tm,...Im];function Mm(e,t,n,r){var i;const s=null!==(i=_m(e,t,!0))&&void 0!==i?i:n;return"number"===typeof s||"string"===typeof s?e=>"string"===typeof e?e:"string"===typeof s?"calc(".concat(e," * ").concat(s,")"):s*e:Array.isArray(s)?e=>{if("string"===typeof e)return e;const t=Math.abs(e);const n=s[t];return e>=0?n:"number"===typeof n?-n:"-".concat(n)}:"function"===typeof s?s:()=>{}}function Pm(e){return Mm(e,"spacing",8)}function Nm(e,t){return"string"===typeof t||null==t?t:e(t)}function Lm(e,t,n,r){if(!t.includes(n))return null;const i=function(e,t){return n=>e.reduce(((e,r)=>(e[r]=Nm(t,n),e)),{})}(Cm(n),r);return ym(e,e[n],i)}function Dm(e,t){const n=Pm(e.theme);return Object.keys(e).map((r=>Lm(e,t,r,n))).reduce(fm,{})}function Om(e){return Dm(e,Tm)}function Fm(e){return Dm(e,Im)}function jm(e){return Dm(e,Rm)}Om.propTypes={},Om.filterProps=Tm,Fm.propTypes={},Fm.filterProps=Im,jm.propTypes={},jm.filterProps=Rm;const Bm=function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>(t.filterProps.forEach((n=>{e[n]=t})),e)),{}),i=e=>Object.keys(e).reduce(((t,n)=>r[n]?fm(t,r[n](e)):t),{});return i.propTypes={},i.filterProps=t.reduce(((e,t)=>e.concat(t.filterProps)),[]),i};function zm(e){return"number"!==typeof e?e:"".concat(e,"px solid")}function Vm(e,t){return Em({prop:e,themeKey:"borders",transform:t})}const Um=Vm("border",zm),Wm=Vm("borderTop",zm),Hm=Vm("borderRight",zm),qm=Vm("borderBottom",zm),Gm=Vm("borderLeft",zm),Km=Vm("borderColor"),Xm=Vm("borderTopColor"),Qm=Vm("borderRightColor"),Ym=Vm("borderBottomColor"),Jm=Vm("borderLeftColor"),$m=Vm("outline",zm),Zm=Vm("outlineColor"),ev=e=>{if(void 0!==e.borderRadius&&null!==e.borderRadius){const t=Mm(e.theme,"shape.borderRadius",4),n=e=>({borderRadius:Nm(t,e)});return ym(e,e.borderRadius,n)}return null};ev.propTypes={},ev.filterProps=["borderRadius"];Bm(Um,Wm,Hm,qm,Gm,Km,Xm,Qm,Ym,Jm,ev,$m,Zm);const tv=e=>{if(void 0!==e.gap&&null!==e.gap){const t=Mm(e.theme,"spacing",8),n=e=>({gap:Nm(t,e)});return ym(e,e.gap,n)}return null};tv.propTypes={},tv.filterProps=["gap"];const nv=e=>{if(void 0!==e.columnGap&&null!==e.columnGap){const t=Mm(e.theme,"spacing",8),n=e=>({columnGap:Nm(t,e)});return ym(e,e.columnGap,n)}return null};nv.propTypes={},nv.filterProps=["columnGap"];const rv=e=>{if(void 0!==e.rowGap&&null!==e.rowGap){const t=Mm(e.theme,"spacing",8),n=e=>({rowGap:Nm(t,e)});return ym(e,e.rowGap,n)}return null};rv.propTypes={},rv.filterProps=["rowGap"];Bm(tv,nv,rv,Em({prop:"gridColumn"}),Em({prop:"gridRow"}),Em({prop:"gridAutoFlow"}),Em({prop:"gridAutoColumns"}),Em({prop:"gridAutoRows"}),Em({prop:"gridTemplateColumns"}),Em({prop:"gridTemplateRows"}),Em({prop:"gridTemplateAreas"}),Em({prop:"gridArea"}));function iv(e,t){return"grey"===t?t:e}Bm(Em({prop:"color",themeKey:"palette",transform:iv}),Em({prop:"bgcolor",cssProperty:"backgroundColor",themeKey:"palette",transform:iv}),Em({prop:"backgroundColor",themeKey:"palette",transform:iv}));function sv(e){return e<=1&&0!==e?"".concat(100*e,"%"):e}const av=Em({prop:"width",transform:sv}),ov=e=>{if(void 0!==e.maxWidth&&null!==e.maxWidth){const t=t=>{var n,r;const i=(null===(n=e.theme)||void 0===n||null===(n=n.breakpoints)||void 0===n||null===(n=n.values)||void 0===n?void 0:n[t])||gm[t];return i?"px"!==(null===(r=e.theme)||void 0===r||null===(r=r.breakpoints)||void 0===r?void 0:r.unit)?{maxWidth:"".concat(i).concat(e.theme.breakpoints.unit)}:{maxWidth:i}:{maxWidth:sv(t)}};return ym(e,e.maxWidth,t)}return null};ov.filterProps=["maxWidth"];const lv=Em({prop:"minWidth",transform:sv}),cv=Em({prop:"height",transform:sv}),uv=Em({prop:"maxHeight",transform:sv}),hv=Em({prop:"minHeight",transform:sv}),dv=(Em({prop:"size",cssProperty:"width",transform:sv}),Em({prop:"size",cssProperty:"height",transform:sv}),Bm(av,ov,lv,cv,uv,hv,Em({prop:"boxSizing"})),{border:{themeKey:"borders",transform:zm},borderTop:{themeKey:"borders",transform:zm},borderRight:{themeKey:"borders",transform:zm},borderBottom:{themeKey:"borders",transform:zm},borderLeft:{themeKey:"borders",transform:zm},borderColor:{themeKey:"palette"},borderTopColor:{themeKey:"palette"},borderRightColor:{themeKey:"palette"},borderBottomColor:{themeKey:"palette"},borderLeftColor:{themeKey:"palette"},outline:{themeKey:"borders",transform:zm},outlineColor:{themeKey:"palette"},borderRadius:{themeKey:"shape.borderRadius",style:ev},color:{themeKey:"palette",transform:iv},bgcolor:{themeKey:"palette",cssProperty:"backgroundColor",transform:iv},backgroundColor:{themeKey:"palette",transform:iv},p:{style:Fm},pt:{style:Fm},pr:{style:Fm},pb:{style:Fm},pl:{style:Fm},px:{style:Fm},py:{style:Fm},padding:{style:Fm},paddingTop:{style:Fm},paddingRight:{style:Fm},paddingBottom:{style:Fm},paddingLeft:{style:Fm},paddingX:{style:Fm},paddingY:{style:Fm},paddingInline:{style:Fm},paddingInlineStart:{style:Fm},paddingInlineEnd:{style:Fm},paddingBlock:{style:Fm},paddingBlockStart:{style:Fm},paddingBlockEnd:{style:Fm},m:{style:Om},mt:{style:Om},mr:{style:Om},mb:{style:Om},ml:{style:Om},mx:{style:Om},my:{style:Om},margin:{style:Om},marginTop:{style:Om},marginRight:{style:Om},marginBottom:{style:Om},marginLeft:{style:Om},marginX:{style:Om},marginY:{style:Om},marginInline:{style:Om},marginInlineStart:{style:Om},marginInlineEnd:{style:Om},marginBlock:{style:Om},marginBlockStart:{style:Om},marginBlockEnd:{style:Om},displayPrint:{cssProperty:!1,transform:e=>({"@media print":{display:e}})},display:{},overflow:{},textOverflow:{},visibility:{},whiteSpace:{},flexBasis:{},flexDirection:{},flexWrap:{},justifyContent:{},alignItems:{},alignContent:{},order:{},flex:{},flexGrow:{},flexShrink:{},alignSelf:{},justifyItems:{},justifySelf:{},gap:{style:tv},rowGap:{style:rv},columnGap:{style:nv},gridColumn:{},gridRow:{},gridAutoFlow:{},gridAutoColumns:{},gridAutoRows:{},gridTemplateColumns:{},gridTemplateRows:{},gridTemplateAreas:{},gridArea:{},position:{},zIndex:{themeKey:"zIndex"},top:{},right:{},bottom:{},left:{},boxShadow:{themeKey:"shadows"},width:{transform:sv},maxWidth:{style:ov},minWidth:{transform:sv},height:{transform:sv},maxHeight:{transform:sv},minHeight:{transform:sv},boxSizing:{},font:{themeKey:"font"},fontFamily:{themeKey:"typography"},fontSize:{themeKey:"typography"},fontStyle:{themeKey:"typography"},fontWeight:{themeKey:"typography"},letterSpacing:{},textTransform:{},lineHeight:{},textAlign:{},typography:{cssProperty:!1,themeKey:"typography"}});const pv=function(){function e(e,t,n,r){const i={[e]:t,theme:n},s=r[e];if(!s)return{[e]:t};const{cssProperty:a=e,themeKey:o,transform:l,style:c}=s;if(null==t)return null;if("typography"===o&&"inherit"===t)return{[e]:t};const u=_m(n,o)||{};if(c)return c(i);return ym(i,t,(t=>{let n=Sm(u,l,t);return t===n&&"string"===typeof t&&(n=Sm(u,l,"".concat(e).concat("default"===t?"":um(t)),t)),!1===a?n:{[a]:n}}))}return function t(n){var r;const{sx:i,theme:s={}}=n||{};if(!i)return null;const a=null!==(r=s.unstable_sxConfig)&&void 0!==r?r:dv;function o(n){let r=n;if("function"===typeof n)r=n(s);else if("object"!==typeof n)return n;if(!r)return null;const i=bm(s.breakpoints),o=Object.keys(i);let l=i;return Object.keys(r).forEach((n=>{const i=function(e,t){return"function"===typeof e?e(t):e}(r[n],s);if(null!==i&&void 0!==i)if("object"===typeof i)if(a[n])l=fm(l,e(n,i,s,a));else{const e=ym({theme:s},i,(e=>({[n]:e})));!function(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];const r=t.reduce(((e,t)=>e.concat(Object.keys(t))),[]),i=new Set(r);return t.every((e=>i.size===Object.keys(e).length))}(e,i)?l=fm(l,e):l[n]=t({sx:i,theme:s})}else l=fm(l,e(n,i,s,a))})),function(e,t){if(!e.containerQueries)return t;const n=Object.keys(t).filter((e=>e.startsWith("@container"))).sort(((e,t)=>{var n,r;const i=/min-width:\s*([0-9.]+)/;return+((null===(n=e.match(i))||void 0===n?void 0:n[1])||0)-+((null===(r=t.match(i))||void 0===r?void 0:r[1])||0)}));return n.length?n.reduce(((e,n)=>{const r=t[n];return delete e[n],e[n]=r,e}),p({},t)):t}(s,wm(o,l))}return Array.isArray(i)?i.map(o):o(i)}}();pv.filterProps=["sx"];const fv=pv,gv=["sx"];function mv(e){const{sx:t}=e,n=l(e,gv),{systemProps:r,otherProps:i}=(e=>{var t,n;const r={systemProps:{},otherProps:{}},i=null!==(t=null===e||void 0===e||null===(n=e.theme)||void 0===n?void 0:n.unstable_sxConfig)&&void 0!==t?t:dv;return Object.keys(e).forEach((t=>{i[t]?r.systemProps[t]=e[t]:r.otherProps[t]=e[t]})),r})(n);let s;return s=Array.isArray(t)?[r,...t]:"function"===typeof t?function(){const e=t(...arguments);return hm(e)?p(p({},r),e):r}:p(p({},r),t),p(p({},i),{},{sx:s})}const vv=["values","unit","step"];function yv(e){const{values:t={xs:0,sm:600,md:900,lg:1200,xl:1536},unit:n="px",step:r=5}=e,i=l(e,vv),s=(e=>{const t=Object.keys(e).map((t=>({key:t,val:e[t]})))||[];return t.sort(((e,t)=>e.val-t.val)),t.reduce(((e,t)=>p(p({},e),{},{[t.key]:t.val})),{})})(t),a=Object.keys(s);function o(e){const r="number"===typeof t[e]?t[e]:e;return"@media (min-width:".concat(r).concat(n,")")}function c(e){const i="number"===typeof t[e]?t[e]:e;return"@media (max-width:".concat(i-r/100).concat(n,")")}function u(e,i){const s=a.indexOf(i);return"@media (min-width:".concat("number"===typeof t[e]?t[e]:e).concat(n,") and ")+"(max-width:".concat((-1!==s&&"number"===typeof t[a[s]]?t[a[s]]:i)-r/100).concat(n,")")}return p({keys:a,values:s,up:o,down:c,between:u,only:function(e){return a.indexOf(e)+1<a.length?u(e,a[a.indexOf(e)+1]):o(e)},not:function(e){const t=a.indexOf(e);return 0===t?o(a[1]):t===a.length-1?c(a[t]):u(e,a[a.indexOf(e)+1]).replace("@media","@media not all and")},unit:n},i)}const bv={borderRadius:4};function wv(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:8,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Pm({spacing:e});if(e.mui)return e;const n=function(){for(var e=arguments.length,n=new Array(e),r=0;r<e;r++)n[r]=arguments[r];return(0===n.length?[1]:n).map((e=>{const n=t(e);return"number"===typeof n?"".concat(n,"px"):n})).join(" ")};return n.mui=!0,n}function _v(e,t){const n=this;if(n.vars){var r;if(null===(r=n.colorSchemes)||void 0===r||!r[e]||"function"!==typeof n.getColorSchemeSelector)return{};let i=n.getColorSchemeSelector(e);return"&"===i?t:((i.includes("data-")||i.includes("."))&&(i="*:where(".concat(i.replace(/\s*&$/,""),") &")),{[i]:t})}return n.palette.mode===e?t:{}}const Sv=["breakpoints","palette","spacing","shape"];const Ev=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t={},palette:n={},spacing:r,shape:i={}}=e,s=l(e,Sv),a=yv(t),o=wv(r);let c=pm({breakpoints:a,direction:"ltr",components:{},palette:p({mode:"light"},n),spacing:o,shape:p(p({},bv),i)},s);c=function(e){const t=(e,t)=>e.replace("@media",t?"@container ".concat(t):"@container");function n(n,r){n.up=function(){return t(e.breakpoints.up(...arguments),r)},n.down=function(){return t(e.breakpoints.down(...arguments),r)},n.between=function(){return t(e.breakpoints.between(...arguments),r)},n.only=function(){return t(e.breakpoints.only(...arguments),r)},n.not=function(){const n=t(e.breakpoints.not(...arguments),r);return n.includes("not all and")?n.replace("not all and ","").replace("min-width:","width<").replace("max-width:","width>").replace("and","or"):n}}const r={},i=e=>(n(r,e),r);return n(i),p(p({},e),{},{containerQueries:i})}(c),c.applyStyles=_v;for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];return c=h.reduce(((e,t)=>pm(e,t)),c),c.unstable_sxConfig=p(p({},dv),null===s||void 0===s?void 0:s.unstable_sxConfig),c.unstable_sx=function(e){return fv({sx:e,theme:this})},c};const Av=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null;const t=i.useContext(Xg);return t&&(n=t,0!==Object.keys(n).length)?t:e;var n},kv=Ev();const xv=function(){return Av(arguments.length>0&&void 0!==arguments[0]?arguments[0]:kv)},Cv=["className","component"];const Tv=e=>e,Iv=(()=>{let e=Tv;return{configure(t){e=t},generate:t=>e(t),reset(){e=Tv}}})();const Rv=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:Number.MIN_SAFE_INTEGER,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:Number.MAX_SAFE_INTEGER;return Math.max(t,Math.min(e,n))};function Mv(e){return Rv(e,arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,arguments.length>2&&void 0!==arguments[2]?arguments[2]:1)}function Pv(e){if(e.type)return e;if("#"===e.charAt(0))return Pv(function(e){e=e.slice(1);const t=new RegExp(".{1,".concat(e.length>=6?2:1,"}"),"g");let n=e.match(t);return n&&1===n[0].length&&(n=n.map((e=>e+e))),n?"rgb".concat(4===n.length?"a":"","(").concat(n.map(((e,t)=>t<3?parseInt(e,16):Math.round(parseInt(e,16)/255*1e3)/1e3)).join(", "),")"):""}(e));const t=e.indexOf("("),n=e.substring(0,t);if(!["rgb","rgba","hsl","hsla","color"].includes(n))throw new Error(cm(9,e));let r,i=e.substring(t+1,e.length-1);if("color"===n){if(i=i.split(" "),r=i.shift(),4===i.length&&"/"===i[3].charAt(0)&&(i[3]=i[3].slice(1)),!["srgb","display-p3","a98-rgb","prophoto-rgb","rec-2020"].includes(r))throw new Error(cm(10,r))}else i=i.split(",");return i=i.map((e=>parseFloat(e))),{type:n,values:i,colorSpace:r}}const Nv=(e,t)=>{try{return(e=>{const t=Pv(e);return t.values.slice(0,3).map(((e,n)=>t.type.includes("hsl")&&0!==n?"".concat(e,"%"):e)).join(" ")})(e)}catch(n){return e}};function Lv(e){const{type:t,colorSpace:n}=e;let{values:r}=e;return t.includes("rgb")?r=r.map(((e,t)=>t<3?parseInt(e,10):e)):t.includes("hsl")&&(r[1]="".concat(r[1],"%"),r[2]="".concat(r[2],"%")),r=t.includes("color")?"".concat(n," ").concat(r.join(" ")):"".concat(r.join(", ")),"".concat(t,"(").concat(r,")")}function Dv(e){e=Pv(e);const{values:t}=e,n=t[0],r=t[1]/100,i=t[2]/100,s=r*Math.min(i,1-i),a=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:(e+n/30)%12;return i-s*Math.max(Math.min(t-3,9-t,1),-1)};let o="rgb";const l=[Math.round(255*a(0)),Math.round(255*a(8)),Math.round(255*a(4))];return"hsla"===e.type&&(o+="a",l.push(t[3])),Lv({type:o,values:l})}function Ov(e){let t="hsl"===(e=Pv(e)).type||"hsla"===e.type?Pv(Dv(e)).values:e.values;return t=t.map((t=>("color"!==e.type&&(t/=255),t<=.03928?t/12.92:((t+.055)/1.055)**2.4))),Number((.2126*t[0]+.7152*t[1]+.0722*t[2]).toFixed(3))}function Fv(e,t){return e=Pv(e),t=Mv(t),"rgb"!==e.type&&"hsl"!==e.type||(e.type+="a"),"color"===e.type?e.values[3]="/".concat(t):e.values[3]=t,Lv(e)}function jv(e,t,n){try{return Fv(e,t)}catch(r){return e}}function Bv(e,t){if(e=Pv(e),t=Mv(t),e.type.includes("hsl"))e.values[2]*=1-t;else if(e.type.includes("rgb")||e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]*=1-t;return Lv(e)}function zv(e,t,n){try{return Bv(e,t)}catch(r){return e}}function Vv(e,t){if(e=Pv(e),t=Mv(t),e.type.includes("hsl"))e.values[2]+=(100-e.values[2])*t;else if(e.type.includes("rgb"))for(let n=0;n<3;n+=1)e.values[n]+=(255-e.values[n])*t;else if(e.type.includes("color"))for(let n=0;n<3;n+=1)e.values[n]+=(1-e.values[n])*t;return Lv(e)}function Uv(e,t,n){try{return Vv(e,t)}catch(r){return e}}function Wv(e,t,n){try{return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:.15;return Ov(e)>.5?Bv(e,t):Vv(e,t)}(e,t)}catch(r){return e}}const Hv={black:"#000",white:"#fff"},qv={50:"#fafafa",100:"#f5f5f5",200:"#eeeeee",300:"#e0e0e0",400:"#bdbdbd",500:"#9e9e9e",600:"#757575",700:"#616161",800:"#424242",900:"#212121",A100:"#f5f5f5",A200:"#eeeeee",A400:"#bdbdbd",A700:"#616161"},Gv={50:"#f3e5f5",100:"#e1bee7",200:"#ce93d8",300:"#ba68c8",400:"#ab47bc",500:"#9c27b0",600:"#8e24aa",700:"#7b1fa2",800:"#6a1b9a",900:"#4a148c",A100:"#ea80fc",A200:"#e040fb",A400:"#d500f9",A700:"#aa00ff"},Kv={50:"#ffebee",100:"#ffcdd2",200:"#ef9a9a",300:"#e57373",400:"#ef5350",500:"#f44336",600:"#e53935",700:"#d32f2f",800:"#c62828",900:"#b71c1c",A100:"#ff8a80",A200:"#ff5252",A400:"#ff1744",A700:"#d50000"},Xv={50:"#fff3e0",100:"#ffe0b2",200:"#ffcc80",300:"#ffb74d",400:"#ffa726",500:"#ff9800",600:"#fb8c00",700:"#f57c00",800:"#ef6c00",900:"#e65100",A100:"#ffd180",A200:"#ffab40",A400:"#ff9100",A700:"#ff6d00"},Qv={50:"#e3f2fd",100:"#bbdefb",200:"#90caf9",300:"#64b5f6",400:"#42a5f5",500:"#2196f3",600:"#1e88e5",700:"#1976d2",800:"#1565c0",900:"#0d47a1",A100:"#82b1ff",A200:"#448aff",A400:"#2979ff",A700:"#2962ff"},Yv={50:"#e1f5fe",100:"#b3e5fc",200:"#81d4fa",300:"#4fc3f7",400:"#29b6f6",500:"#03a9f4",600:"#039be5",700:"#0288d1",800:"#0277bd",900:"#01579b",A100:"#80d8ff",A200:"#40c4ff",A400:"#00b0ff",A700:"#0091ea"},Jv={50:"#e8f5e9",100:"#c8e6c9",200:"#a5d6a7",300:"#81c784",400:"#66bb6a",500:"#4caf50",600:"#43a047",700:"#388e3c",800:"#2e7d32",900:"#1b5e20",A100:"#b9f6ca",A200:"#69f0ae",A400:"#00e676",A700:"#00c853"},$v=["mode","contrastThreshold","tonalOffset"];function Zv(){return{text:{primary:"rgba(0, 0, 0, 0.87)",secondary:"rgba(0, 0, 0, 0.6)",disabled:"rgba(0, 0, 0, 0.38)"},divider:"rgba(0, 0, 0, 0.12)",background:{paper:Hv.white,default:Hv.white},action:{active:"rgba(0, 0, 0, 0.54)",hover:"rgba(0, 0, 0, 0.04)",hoverOpacity:.04,selected:"rgba(0, 0, 0, 0.08)",selectedOpacity:.08,disabled:"rgba(0, 0, 0, 0.26)",disabledBackground:"rgba(0, 0, 0, 0.12)",disabledOpacity:.38,focus:"rgba(0, 0, 0, 0.12)",focusOpacity:.12,activatedOpacity:.12}}}const ey=Zv();function ty(){return{text:{primary:Hv.white,secondary:"rgba(255, 255, 255, 0.7)",disabled:"rgba(255, 255, 255, 0.5)",icon:"rgba(255, 255, 255, 0.5)"},divider:"rgba(255, 255, 255, 0.12)",background:{paper:"#121212",default:"#121212"},action:{active:Hv.white,hover:"rgba(255, 255, 255, 0.08)",hoverOpacity:.08,selected:"rgba(255, 255, 255, 0.16)",selectedOpacity:.16,disabled:"rgba(255, 255, 255, 0.3)",disabledBackground:"rgba(255, 255, 255, 0.12)",disabledOpacity:.38,focus:"rgba(255, 255, 255, 0.12)",focusOpacity:.12,activatedOpacity:.24}}}const ny=ty();function ry(e,t,n,r){const i=r.light||r,s=r.dark||1.5*r;e[t]||(e.hasOwnProperty(n)?e[t]=e[n]:"light"===t?e.light=Vv(e.main,i):"dark"===t&&(e.dark=Bv(e.main,s)))}function iy(e){const{mode:t="light",contrastThreshold:n=3,tonalOffset:r=.2}=e,i=l(e,$v),s=e.primary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Qv[200],light:Qv[50],dark:Qv[400]}:{main:Qv[700],light:Qv[400],dark:Qv[800]}}(t),a=e.secondary||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Gv[200],light:Gv[50],dark:Gv[400]}:{main:Gv[500],light:Gv[300],dark:Gv[700]}}(t),o=e.error||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Kv[500],light:Kv[300],dark:Kv[700]}:{main:Kv[700],light:Kv[400],dark:Kv[800]}}(t),c=e.info||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Yv[400],light:Yv[300],dark:Yv[700]}:{main:Yv[700],light:Yv[500],dark:Yv[900]}}(t),u=e.success||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Jv[400],light:Jv[300],dark:Jv[700]}:{main:Jv[800],light:Jv[500],dark:Jv[900]}}(t),h=e.warning||function(){return"dark"===(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"light")?{main:Xv[400],light:Xv[300],dark:Xv[700]}:{main:"#ed6c02",light:Xv[500],dark:Xv[900]}}(t);function d(e){const t=function(e,t){const n=Ov(e),r=Ov(t);return(Math.max(n,r)+.05)/(Math.min(n,r)+.05)}(e,ny.text.primary)>=n?ny.text.primary:ey.text.primary;return t}const f=e=>{let{color:t,name:n,mainShade:i=500,lightShade:s=300,darkShade:a=700}=e;if(t=p({},t),!t.main&&t[i]&&(t.main=t[i]),!t.hasOwnProperty("main"))throw new Error(cm(11,n?" (".concat(n,")"):"",i));if("string"!==typeof t.main)throw new Error(cm(12,n?" (".concat(n,")"):"",JSON.stringify(t.main)));return ry(t,"light",s,r),ry(t,"dark",a,r),t.contrastText||(t.contrastText=d(t.main)),t};let g;"light"===t?g=Zv():"dark"===t&&(g=ty());return pm(p({common:p({},Hv),mode:t,primary:f({color:s,name:"primary"}),secondary:f({color:a,name:"secondary",mainShade:"A400",lightShade:"A200",darkShade:"A700"}),error:f({color:o,name:"error"}),warning:f({color:h,name:"warning"}),info:f({color:c,name:"info"}),success:f({color:u,name:"success"}),grey:qv,contrastThreshold:n,getContrastText:d,augmentColor:f,tonalOffset:r},g),i)}function sy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";function t(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];if(!r.length)return"";const s=r[0];return"string"!==typeof s||s.match(/(#|\(|\)|(-?(\d*\.)?\d+)(px|em|%|ex|ch|rem|vw|vh|vmin|vmax|cm|mm|in|pt|pc))|^(-?(\d*\.)?\d+)$|(\d+ \d+ \d+)/)?", ".concat(s):", var(--".concat(e?"".concat(e,"-"):"").concat(s).concat(t(...r.slice(1)),")")}return function(n){for(var r=arguments.length,i=new Array(r>1?r-1:0),s=1;s<r;s++)i[s-1]=arguments[s];return"var(--".concat(e?"".concat(e,"-"):"").concat(n).concat(t(...i),")")}}function ay(e){const t={};return Object.entries(e).forEach((e=>{const[n,r]=e;"object"===typeof r&&(t[n]="".concat(r.fontStyle?"".concat(r.fontStyle," "):"").concat(r.fontVariant?"".concat(r.fontVariant," "):"").concat(r.fontWeight?"".concat(r.fontWeight," "):"").concat(r.fontStretch?"".concat(r.fontStretch," "):"").concat(r.fontSize||"").concat(r.lineHeight?"/".concat(r.lineHeight," "):"").concat(r.fontFamily||""))})),t}const oy=function(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:[],i=e;t.forEach(((e,s)=>{s===t.length-1?Array.isArray(i)?i[Number(e)]=n:i&&"object"===typeof i&&(i[e]=n):i&&"object"===typeof i&&(i[e]||(i[e]=r.includes(e)?[]:{}),i=i[e])}))};function ly(e,t){const{prefix:n,shouldSkipGeneratingVar:r}=t||{},i={},s={},a={};return((e,t,n)=>{!function e(r){let i=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],s=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];Object.entries(r).forEach((r=>{let[a,o]=r;(!n||n&&!n([...i,a]))&&void 0!==o&&null!==o&&("object"===typeof o&&Object.keys(o).length>0?e(o,[...i,a],Array.isArray(o)?[...s,a]:s):t([...i,a],o,s))}))}(e)})(e,((e,t,o)=>{if(("string"===typeof t||"number"===typeof t)&&(!r||!r(e,t))){const r="--".concat(n?"".concat(n,"-"):"").concat(e.join("-")),l=((e,t)=>{if("number"===typeof t)return["lineHeight","fontWeight","opacity","zIndex"].some((t=>e.includes(t)))||e[e.length-1].toLowerCase().includes("opacity")?t:"".concat(t,"px");return t})(e,t);Object.assign(i,{[r]:l}),oy(s,e,"var(".concat(r,")"),o),oy(a,e,"var(".concat(r,", ").concat(l,")"),o)}}),(e=>"vars"===e[0])),{css:i,vars:s,varsWithDefaults:a}}const cy=["colorSchemes","components","defaultColorScheme"];const uy=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{getSelector:n=b,disableCssColorScheme:r,colorSchemeSelector:i}=t,{colorSchemes:s={},components:a,defaultColorScheme:o="light"}=e,c=l(e,cy),{vars:h,css:d,varsWithDefaults:f}=ly(c,t);let g=f;const m={},{[o]:v}=s,y=l(s,[o].map(u));if(Object.entries(y||{}).forEach((e=>{let[n,r]=e;const{vars:i,css:s,varsWithDefaults:a}=ly(r,t);g=pm(g,a),m[n]={css:s,vars:i}})),v){const{css:e,vars:n,varsWithDefaults:r}=ly(v,t);g=pm(g,r),m[o]={css:e,vars:n}}function b(t,n){let r=i;if("class"===i&&(r=".%s"),"data"===i&&(r="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(r="[".concat(i,'="%s"]')),t){if("media"===r){var a;if(e.defaultColorScheme===t)return":root";const r=(null===(a=s[t])||void 0===a||null===(a=a.palette)||void 0===a?void 0:a.mode)||t;return{["@media (prefers-color-scheme: ".concat(r,")")]:{":root":n}}}if(r)return e.defaultColorScheme===t?":root, ".concat(r.replace("%s",String(t))):r.replace("%s",String(t))}return":root"}return{vars:g,generateThemeVars:()=>{let e=p({},h);return Object.entries(m).forEach((t=>{let[,{vars:n}]=t;e=pm(e,n)})),e},generateStyleSheets:()=>{const t=[],i=e.defaultColorScheme||"light";function a(e,n){Object.keys(n).length&&t.push("string"===typeof e?{[e]:p({},n)}:e)}a(n(void 0,p({},d)),d);const{[i]:o}=m,c=l(m,[i].map(u));if(o){var h;const{css:e}=o,t=null===(h=s[i])||void 0===h||null===(h=h.palette)||void 0===h?void 0:h.mode,l=p(!r&&t?{colorScheme:t}:{},e);a(n(i,p({},l)),l)}return Object.entries(c).forEach((e=>{var t;let[i,{css:o}]=e;const l=null===(t=s[i])||void 0===t||null===(t=t.palette)||void 0===t?void 0:t.mode,c=p(!r&&l?{colorScheme:l}:{},o);a(n(i,p({},c)),c)})),t}}};function hy(e,t){return p({toolbar:{minHeight:56,[e.up("xs")]:{"@media (orientation: landscape)":{minHeight:48}},[e.up("sm")]:{minHeight:64}}},t)}const dy=["fontFamily","fontSize","fontWeightLight","fontWeightRegular","fontWeightMedium","fontWeightBold","htmlFontSize","allVariants","pxToRem"];const py={textTransform:"uppercase"},fy='"Roboto", "Helvetica", "Arial", sans-serif';function gy(e,t){const n="function"===typeof t?t(e):t,{fontFamily:r=fy,fontSize:i=14,fontWeightLight:s=300,fontWeightRegular:a=400,fontWeightMedium:o=500,fontWeightBold:c=700,htmlFontSize:u=16,allVariants:h,pxToRem:d}=n,f=l(n,dy);const g=i/14,m=d||(e=>"".concat(e/u*g,"rem")),v=(e,t,n,i,s)=>{return p(p(p({fontFamily:r,fontWeight:e,fontSize:m(t),lineHeight:n},r===fy?{letterSpacing:"".concat((a=i/t,Math.round(1e5*a)/1e5),"em")}:{}),s),h);var a},y={h1:v(s,96,1.167,-1.5),h2:v(s,60,1.2,-.5),h3:v(a,48,1.167,0),h4:v(a,34,1.235,.25),h5:v(a,24,1.334,0),h6:v(o,20,1.6,.15),subtitle1:v(a,16,1.75,.15),subtitle2:v(o,14,1.57,.1),body1:v(a,16,1.5,.15),body2:v(a,14,1.43,.15),button:v(o,14,1.75,.4,py),caption:v(a,12,1.66,.4),overline:v(a,12,2.66,1,py),inherit:{fontFamily:"inherit",fontWeight:"inherit",fontSize:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}};return pm(p({htmlFontSize:u,pxToRem:m,fontFamily:r,fontSize:i,fontWeightLight:s,fontWeightRegular:a,fontWeightMedium:o,fontWeightBold:c},y),f,{clone:!1})}function my(){return["".concat(arguments.length<=0?void 0:arguments[0],"px ").concat(arguments.length<=1?void 0:arguments[1],"px ").concat(arguments.length<=2?void 0:arguments[2],"px ").concat(arguments.length<=3?void 0:arguments[3],"px rgba(0,0,0,").concat(.2,")"),"".concat(arguments.length<=4?void 0:arguments[4],"px ").concat(arguments.length<=5?void 0:arguments[5],"px ").concat(arguments.length<=6?void 0:arguments[6],"px ").concat(arguments.length<=7?void 0:arguments[7],"px rgba(0,0,0,").concat(.14,")"),"".concat(arguments.length<=8?void 0:arguments[8],"px ").concat(arguments.length<=9?void 0:arguments[9],"px ").concat(arguments.length<=10?void 0:arguments[10],"px ").concat(arguments.length<=11?void 0:arguments[11],"px rgba(0,0,0,").concat(.12,")")].join(",")}const vy=["none",my(0,2,1,-1,0,1,1,0,0,1,3,0),my(0,3,1,-2,0,2,2,0,0,1,5,0),my(0,3,3,-2,0,3,4,0,0,1,8,0),my(0,2,4,-1,0,4,5,0,0,1,10,0),my(0,3,5,-1,0,5,8,0,0,1,14,0),my(0,3,5,-1,0,6,10,0,0,1,18,0),my(0,4,5,-2,0,7,10,1,0,2,16,1),my(0,5,5,-3,0,8,10,1,0,3,14,2),my(0,5,6,-3,0,9,12,1,0,3,16,2),my(0,6,6,-3,0,10,14,1,0,4,18,3),my(0,6,7,-4,0,11,15,1,0,4,20,3),my(0,7,8,-4,0,12,17,2,0,5,22,4),my(0,7,8,-4,0,13,19,2,0,5,24,4),my(0,7,9,-4,0,14,21,2,0,5,26,4),my(0,8,9,-5,0,15,22,2,0,6,28,5),my(0,8,10,-5,0,16,24,2,0,6,30,5),my(0,8,11,-5,0,17,26,2,0,6,32,5),my(0,9,11,-5,0,18,28,2,0,7,34,6),my(0,9,12,-6,0,19,29,2,0,7,36,6),my(0,10,13,-6,0,20,31,3,0,8,38,7),my(0,10,13,-6,0,21,33,3,0,8,40,7),my(0,10,14,-6,0,22,35,3,0,8,42,7),my(0,11,14,-7,0,23,36,3,0,9,44,8),my(0,11,15,-7,0,24,38,3,0,9,46,8)],yy=["duration","easing","delay"],by={easeInOut:"cubic-bezier(0.4, 0, 0.2, 1)",easeOut:"cubic-bezier(0.0, 0, 0.2, 1)",easeIn:"cubic-bezier(0.4, 0, 1, 1)",sharp:"cubic-bezier(0.4, 0, 0.6, 1)"},wy={shortest:150,shorter:200,short:250,standard:300,complex:375,enteringScreen:225,leavingScreen:195};function _y(e){return"".concat(Math.round(e),"ms")}function Sy(e){if(!e)return 0;const t=e/36;return Math.min(Math.round(10*(4+15*t**.25+t/5)),3e3)}function Ey(e){const t=p(p({},by),e.easing),n=p(p({},wy),e.duration);return p(p({getAutoHeightDuration:Sy,create:function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:["all"],r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{duration:i=n.standard,easing:s=t.easeInOut,delay:a=0}=r;l(r,yy);return(Array.isArray(e)?e:[e]).map((e=>"".concat(e," ").concat("string"===typeof i?i:_y(i)," ").concat(s," ").concat("string"===typeof a?a:_y(a)))).join(",")}},e),{},{easing:t,duration:n})}const Ay={mobileStepper:1e3,fab:1050,speedDial:1050,appBar:1100,drawer:1200,modal:1300,snackbar:1400,tooltip:1500};function ky(){const e=p({},arguments.length>0&&void 0!==arguments[0]?arguments[0]:{});return function e(t){const n=Object.entries(t);for(let i=0;i<n.length;i++){const[s,a]=n[i];!hm(r=a)&&"undefined"!==typeof r&&"string"!==typeof r&&"boolean"!==typeof r&&"number"!==typeof r&&!Array.isArray(r)||s.startsWith("unstable_")?delete t[s]:hm(a)&&(t[s]=p({},a),e(t[s]))}var r}(e),"import { unstable_createBreakpoints as createBreakpoints, createTransitions } from '@mui/material/styles';\n\nconst theme = ".concat(JSON.stringify(e,null,2),";\n\ntheme.breakpoints = createBreakpoints(theme.breakpoints || {});\ntheme.transitions = createTransitions(theme.transitions || {});\n\nexport default theme;")}const xy=["breakpoints","mixins","spacing","palette","transitions","typography","shape"];function Cy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{breakpoints:t,mixins:n={},spacing:r,palette:i={},transitions:s={},typography:a={},shape:o}=e,c=l(e,xy);if(e.vars)throw new Error(cm(20));const u=iy(i),h=Ev(e);let d=pm(h,{mixins:hy(h.breakpoints,n),palette:u,shadows:vy.slice(),typography:gy(u,a),transitions:Ey(s),zIndex:p({},Ay)});d=pm(d,c);for(var f=arguments.length,g=new Array(f>1?f-1:0),m=1;m<f;m++)g[m-1]=arguments[m];return d=g.reduce(((e,t)=>pm(e,t)),d),d.unstable_sxConfig=p(p({},dv),null===c||void 0===c?void 0:c.unstable_sxConfig),d.unstable_sx=function(e){return fv({sx:e,theme:this})},d.toRuntimeSource=ky,d}const Ty=Cy;function Iy(e){let t;return t=e<1?5.11916*e**2:4.5*Math.log(e+1)+2,Math.round(10*t)/1e3}const Ry=["palette","opacity","overlays"],My=[...Array(25)].map(((e,t)=>{if(0===t)return"none";const n=Iy(t);return"linear-gradient(rgba(255 255 255 / ".concat(n,"), rgba(255 255 255 / ").concat(n,"))")}));function Py(e){return{inputPlaceholder:"dark"===e?.5:.42,inputUnderline:"dark"===e?.7:.42,switchTrackDisabled:"dark"===e?.2:.12,switchTrack:"dark"===e?.3:.38}}function Ny(e){return"dark"===e?My:[]}function Ly(e){var t;return!!e[0].match(/(cssVarPrefix|colorSchemeSelector|rootSelector|typography|mixins|breakpoints|direction|transitions)/)||!!e[0].match(/sxConfig$/)||"palette"===e[0]&&!(null===(t=e[1])||void 0===t||!t.match(/(mode|contrastThreshold|tonalOffset)/))}const Dy=e=>[...[...Array(25)].map(((t,n)=>"--".concat(e?"".concat(e,"-"):"","overlays-").concat(n))),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkBg"),"--".concat(e?"".concat(e,"-"):"","palette-AppBar-darkColor")],Oy=e=>(t,n)=>{const r=e.rootSelector||":root",i=e.colorSchemeSelector;let s=i;if("class"===i&&(s=".%s"),"data"===i&&(s="[data-%s]"),null!==i&&void 0!==i&&i.startsWith("data-")&&!i.includes("%s")&&(s="[".concat(i,'="%s"]')),e.defaultColorScheme===t){if("dark"===t){const i={};return Dy(e.cssVarPrefix).forEach((e=>{i[e]=n[e],delete n[e]})),"media"===s?{[r]:n,"@media (prefers-color-scheme: dark)":{[r]:i}}:s?{[s.replace("%s",t)]:i,["".concat(r,", ").concat(s.replace("%s",t))]:n}:{[r]:p(p({},n),i)}}if(s&&"media"!==s)return"".concat(r,", ").concat(s.replace("%s",String(t)))}else if(t){if("media"===s)return{["@media (prefers-color-scheme: ".concat(String(t),")")]:{[r]:n}};if(s)return s.replace("%s",String(t))}return r},Fy=["palette"],jy=["colorSchemes","defaultColorScheme","disableCssColorScheme","cssVarPrefix","shouldSkipGeneratingVar","colorSchemeSelector","rootSelector"];function By(e,t,n){!e[t]&&n&&(e[t]=n)}function zy(e){return"string"===typeof e&&e.startsWith("hsl")?Dv(e):e}function Vy(e,t){"".concat(t,"Channel")in e||(e["".concat(t,"Channel")]=Nv(zy(e[t]),("MUI: Can't create `palette.".concat(t,"Channel` because `palette.").concat(t,"` is not one of these formats: #nnn, #nnnnnn, rgb(), rgba(), hsl(), hsla(), color()."),"To suppress this warning, you need to explicitly provide the `palette.".concat(t,'Channel` as a string (in rgb format, for example "12 12 12") or undefined if you want to remove the channel token.'))))}const Uy=e=>{try{return e()}catch(t){}};function Wy(e,t,n,r){var i,s,a;if(!t)return;t=!0===t?{}:t;const o="dark"===r?"dark":"light";var c;if(!n)return void(e[r]=function(e){const{palette:t={mode:"light"},opacity:n,overlays:r}=e,i=l(e,Ry),s=iy(t);return p({palette:s,opacity:p(p({},Py(s.mode)),n),overlays:r||Ny(s.mode)},i)}(p(p({},t),{},{palette:p({mode:o},null===(c=t)||void 0===c?void 0:c.palette)})));const u=Ty(p(p({},n),{},{palette:p({mode:o},null===(i=t)||void 0===i?void 0:i.palette)})),{palette:h}=u,d=l(u,Fy);return e[r]=p(p({},t),{},{palette:h,opacity:p(p({},Py(o)),null===(s=t)||void 0===s?void 0:s.opacity),overlays:(null===(a=t)||void 0===a?void 0:a.overlays)||Ny(o)}),d}function Hy(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{colorSchemes:t={light:!0},defaultColorScheme:n,disableCssColorScheme:r=!1,cssVarPrefix:i="mui",shouldSkipGeneratingVar:s=Ly,colorSchemeSelector:a=(t.light&&t.dark?"media":void 0),rootSelector:o=":root"}=e,c=l(e,jy),h=Object.keys(t)[0],d=n||(t.light&&"light"!==h?"light":h),f=function(){return sy(arguments.length>0&&void 0!==arguments[0]?arguments[0]:"mui")}(i),{[d]:g,light:m,dark:v}=t,y=p({},l(t,[d,"light","dark"].map(u)));let b=g;if(("dark"===d&&!("dark"in t)||"light"===d&&!("light"in t))&&(b=!0),!b)throw new Error(cm(21,d));const w=Wy(y,b,c,d);m&&!y.light&&Wy(y,m,void 0,"light"),v&&!y.dark&&Wy(y,v,void 0,"dark");let _=p(p({defaultColorScheme:d},w),{},{cssVarPrefix:i,colorSchemeSelector:a,rootSelector:o,getCssVar:f,colorSchemes:y,font:p(p({},ay(w.typography)),w.font),spacing:(S=c.spacing,"number"===typeof S?"".concat(S,"px"):"string"===typeof S||"function"===typeof S||Array.isArray(S)?S:"8px")});var S;Object.keys(_.colorSchemes).forEach((e=>{const t=_.colorSchemes[e].palette,n=e=>{const n=e.split("-"),r=n[1],i=n[2];return f(e,t[r][i])};var r;if("light"===t.mode&&(By(t.common,"background","#fff"),By(t.common,"onBackground","#000")),"dark"===t.mode&&(By(t.common,"background","#000"),By(t.common,"onBackground","#fff")),r=t,["Alert","AppBar","Avatar","Button","Chip","FilledInput","LinearProgress","Skeleton","Slider","SnackbarContent","SpeedDialAction","StepConnector","StepContent","Switch","TableCell","Tooltip"].forEach((e=>{r[e]||(r[e]={})})),"light"===t.mode){By(t.Alert,"errorColor",zv(t.error.light,.6)),By(t.Alert,"infoColor",zv(t.info.light,.6)),By(t.Alert,"successColor",zv(t.success.light,.6)),By(t.Alert,"warningColor",zv(t.warning.light,.6)),By(t.Alert,"errorFilledBg",n("palette-error-main")),By(t.Alert,"infoFilledBg",n("palette-info-main")),By(t.Alert,"successFilledBg",n("palette-success-main")),By(t.Alert,"warningFilledBg",n("palette-warning-main")),By(t.Alert,"errorFilledColor",Uy((()=>t.getContrastText(t.error.main)))),By(t.Alert,"infoFilledColor",Uy((()=>t.getContrastText(t.info.main)))),By(t.Alert,"successFilledColor",Uy((()=>t.getContrastText(t.success.main)))),By(t.Alert,"warningFilledColor",Uy((()=>t.getContrastText(t.warning.main)))),By(t.Alert,"errorStandardBg",Uv(t.error.light,.9)),By(t.Alert,"infoStandardBg",Uv(t.info.light,.9)),By(t.Alert,"successStandardBg",Uv(t.success.light,.9)),By(t.Alert,"warningStandardBg",Uv(t.warning.light,.9)),By(t.Alert,"errorIconColor",n("palette-error-main")),By(t.Alert,"infoIconColor",n("palette-info-main")),By(t.Alert,"successIconColor",n("palette-success-main")),By(t.Alert,"warningIconColor",n("palette-warning-main")),By(t.AppBar,"defaultBg",n("palette-grey-100")),By(t.Avatar,"defaultBg",n("palette-grey-400")),By(t.Button,"inheritContainedBg",n("palette-grey-300")),By(t.Button,"inheritContainedHoverBg",n("palette-grey-A100")),By(t.Chip,"defaultBorder",n("palette-grey-400")),By(t.Chip,"defaultAvatarColor",n("palette-grey-700")),By(t.Chip,"defaultIconColor",n("palette-grey-700")),By(t.FilledInput,"bg","rgba(0, 0, 0, 0.06)"),By(t.FilledInput,"hoverBg","rgba(0, 0, 0, 0.09)"),By(t.FilledInput,"disabledBg","rgba(0, 0, 0, 0.12)"),By(t.LinearProgress,"primaryBg",Uv(t.primary.main,.62)),By(t.LinearProgress,"secondaryBg",Uv(t.secondary.main,.62)),By(t.LinearProgress,"errorBg",Uv(t.error.main,.62)),By(t.LinearProgress,"infoBg",Uv(t.info.main,.62)),By(t.LinearProgress,"successBg",Uv(t.success.main,.62)),By(t.LinearProgress,"warningBg",Uv(t.warning.main,.62)),By(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.11)")),By(t.Slider,"primaryTrack",Uv(t.primary.main,.62)),By(t.Slider,"secondaryTrack",Uv(t.secondary.main,.62)),By(t.Slider,"errorTrack",Uv(t.error.main,.62)),By(t.Slider,"infoTrack",Uv(t.info.main,.62)),By(t.Slider,"successTrack",Uv(t.success.main,.62)),By(t.Slider,"warningTrack",Uv(t.warning.main,.62));const e=Wv(t.background.default,.8);By(t.SnackbarContent,"bg",e),By(t.SnackbarContent,"color",Uy((()=>t.getContrastText(e)))),By(t.SpeedDialAction,"fabHoverBg",Wv(t.background.paper,.15)),By(t.StepConnector,"border",n("palette-grey-400")),By(t.StepContent,"border",n("palette-grey-400")),By(t.Switch,"defaultColor",n("palette-common-white")),By(t.Switch,"defaultDisabledColor",n("palette-grey-100")),By(t.Switch,"primaryDisabledColor",Uv(t.primary.main,.62)),By(t.Switch,"secondaryDisabledColor",Uv(t.secondary.main,.62)),By(t.Switch,"errorDisabledColor",Uv(t.error.main,.62)),By(t.Switch,"infoDisabledColor",Uv(t.info.main,.62)),By(t.Switch,"successDisabledColor",Uv(t.success.main,.62)),By(t.Switch,"warningDisabledColor",Uv(t.warning.main,.62)),By(t.TableCell,"border",Uv(jv(t.divider,1),.88)),By(t.Tooltip,"bg",jv(t.grey[700],.92))}if("dark"===t.mode){By(t.Alert,"errorColor",Uv(t.error.light,.6)),By(t.Alert,"infoColor",Uv(t.info.light,.6)),By(t.Alert,"successColor",Uv(t.success.light,.6)),By(t.Alert,"warningColor",Uv(t.warning.light,.6)),By(t.Alert,"errorFilledBg",n("palette-error-dark")),By(t.Alert,"infoFilledBg",n("palette-info-dark")),By(t.Alert,"successFilledBg",n("palette-success-dark")),By(t.Alert,"warningFilledBg",n("palette-warning-dark")),By(t.Alert,"errorFilledColor",Uy((()=>t.getContrastText(t.error.dark)))),By(t.Alert,"infoFilledColor",Uy((()=>t.getContrastText(t.info.dark)))),By(t.Alert,"successFilledColor",Uy((()=>t.getContrastText(t.success.dark)))),By(t.Alert,"warningFilledColor",Uy((()=>t.getContrastText(t.warning.dark)))),By(t.Alert,"errorStandardBg",zv(t.error.light,.9)),By(t.Alert,"infoStandardBg",zv(t.info.light,.9)),By(t.Alert,"successStandardBg",zv(t.success.light,.9)),By(t.Alert,"warningStandardBg",zv(t.warning.light,.9)),By(t.Alert,"errorIconColor",n("palette-error-main")),By(t.Alert,"infoIconColor",n("palette-info-main")),By(t.Alert,"successIconColor",n("palette-success-main")),By(t.Alert,"warningIconColor",n("palette-warning-main")),By(t.AppBar,"defaultBg",n("palette-grey-900")),By(t.AppBar,"darkBg",n("palette-background-paper")),By(t.AppBar,"darkColor",n("palette-text-primary")),By(t.Avatar,"defaultBg",n("palette-grey-600")),By(t.Button,"inheritContainedBg",n("palette-grey-800")),By(t.Button,"inheritContainedHoverBg",n("palette-grey-700")),By(t.Chip,"defaultBorder",n("palette-grey-700")),By(t.Chip,"defaultAvatarColor",n("palette-grey-300")),By(t.Chip,"defaultIconColor",n("palette-grey-300")),By(t.FilledInput,"bg","rgba(255, 255, 255, 0.09)"),By(t.FilledInput,"hoverBg","rgba(255, 255, 255, 0.13)"),By(t.FilledInput,"disabledBg","rgba(255, 255, 255, 0.12)"),By(t.LinearProgress,"primaryBg",zv(t.primary.main,.5)),By(t.LinearProgress,"secondaryBg",zv(t.secondary.main,.5)),By(t.LinearProgress,"errorBg",zv(t.error.main,.5)),By(t.LinearProgress,"infoBg",zv(t.info.main,.5)),By(t.LinearProgress,"successBg",zv(t.success.main,.5)),By(t.LinearProgress,"warningBg",zv(t.warning.main,.5)),By(t.Skeleton,"bg","rgba(".concat(n("palette-text-primaryChannel")," / 0.13)")),By(t.Slider,"primaryTrack",zv(t.primary.main,.5)),By(t.Slider,"secondaryTrack",zv(t.secondary.main,.5)),By(t.Slider,"errorTrack",zv(t.error.main,.5)),By(t.Slider,"infoTrack",zv(t.info.main,.5)),By(t.Slider,"successTrack",zv(t.success.main,.5)),By(t.Slider,"warningTrack",zv(t.warning.main,.5));const e=Wv(t.background.default,.98);By(t.SnackbarContent,"bg",e),By(t.SnackbarContent,"color",Uy((()=>t.getContrastText(e)))),By(t.SpeedDialAction,"fabHoverBg",Wv(t.background.paper,.15)),By(t.StepConnector,"border",n("palette-grey-600")),By(t.StepContent,"border",n("palette-grey-600")),By(t.Switch,"defaultColor",n("palette-grey-300")),By(t.Switch,"defaultDisabledColor",n("palette-grey-600")),By(t.Switch,"primaryDisabledColor",zv(t.primary.main,.55)),By(t.Switch,"secondaryDisabledColor",zv(t.secondary.main,.55)),By(t.Switch,"errorDisabledColor",zv(t.error.main,.55)),By(t.Switch,"infoDisabledColor",zv(t.info.main,.55)),By(t.Switch,"successDisabledColor",zv(t.success.main,.55)),By(t.Switch,"warningDisabledColor",zv(t.warning.main,.55)),By(t.TableCell,"border",zv(jv(t.divider,1),.68)),By(t.Tooltip,"bg",jv(t.grey[700],.92))}Vy(t.background,"default"),Vy(t.background,"paper"),Vy(t.common,"background"),Vy(t.common,"onBackground"),Vy(t,"divider"),Object.keys(t).forEach((e=>{const n=t[e];"tonalOffset"!==e&&n&&"object"===typeof n&&(n.main&&By(t[e],"mainChannel",Nv(zy(n.main))),n.light&&By(t[e],"lightChannel",Nv(zy(n.light))),n.dark&&By(t[e],"darkChannel",Nv(zy(n.dark))),n.contrastText&&By(t[e],"contrastTextChannel",Nv(zy(n.contrastText))),"text"===e&&(Vy(t[e],"primary"),Vy(t[e],"secondary")),"action"===e&&(n.active&&Vy(t[e],"active"),n.selected&&Vy(t[e],"selected")))}))}));for(var E=arguments.length,A=new Array(E>1?E-1:0),k=1;k<E;k++)A[k-1]=arguments[k];_=A.reduce(((e,t)=>pm(e,t)),_);const x={prefix:i,disableCssColorScheme:r,shouldSkipGeneratingVar:s,getSelector:Oy(_)},{vars:C,generateThemeVars:T,generateStyleSheets:I}=uy(_,x);return _.vars=C,Object.entries(_.colorSchemes[_.defaultColorScheme]).forEach((e=>{let[t,n]=e;_[t]=n})),_.generateThemeVars=T,_.generateStyleSheets=I,_.generateSpacing=function(){return wv(c.spacing,Pm(this))},_.getColorSchemeSelector=function(e){return function(t){return"media"===e?"@media (prefers-color-scheme: ".concat(t,")"):e?e.startsWith("data-")&&!e.includes("%s")?"[".concat(e,'="').concat(t,'"] &'):"class"===e?".".concat(t," &"):"data"===e?"[data-".concat(t,"] &"):"".concat(e.replace("%s",t)," &"):"&"}}(a),_.spacing=_.generateSpacing(),_.shouldSkipGeneratingVar=s,_.unstable_sxConfig=p(p({},dv),null===c||void 0===c?void 0:c.unstable_sxConfig),_.unstable_sx=function(e){return fv({sx:e,theme:this})},_.toRuntimeSource=ky,_}const qy=["palette","cssVariables","colorSchemes","defaultColorScheme"];function Gy(e,t,n){e.colorSchemes&&n&&(e.colorSchemes[t]=p(p({},!0!==n&&n),{},{palette:iy(p(p({},!0===n?{}:n.palette),{},{mode:t}))}))}function Ky(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{palette:t,cssVariables:n=!1,colorSchemes:r=(t?void 0:{light:!0}),defaultColorScheme:i=(null===t||void 0===t?void 0:t.mode)}=e,s=l(e,qy),a=i||"light",o=null===r||void 0===r?void 0:r[a],c=p(p({},r),t?{[a]:p(p({},"boolean"!==typeof o&&o),{},{palette:t})}:void 0);for(var u=arguments.length,h=new Array(u>1?u-1:0),d=1;d<u;d++)h[d-1]=arguments[d];if(!1===n){if(!("colorSchemes"in e))return Ty(e,...h);let n=t;"palette"in e||c[a]&&(!0!==c[a]?n=c[a].palette:"dark"===a&&(n={mode:"dark"}));const r=Ty(p(p({},e),{},{palette:n}),...h);return r.defaultColorScheme=a,r.colorSchemes=c,"light"===r.palette.mode&&(r.colorSchemes.light=p(p({},!0!==c.light&&c.light),{},{palette:r.palette}),Gy(r,"dark",c.dark)),"dark"===r.palette.mode&&(r.colorSchemes.dark=p(p({},!0!==c.dark&&c.dark),{},{palette:r.palette}),Gy(r,"light",c.light)),r}return t||"light"in c||"light"!==a||(c.light=!0),Hy(p(p({},s),{},{colorSchemes:c,defaultColorScheme:a},"boolean"!==typeof n&&n),...h)}const Xy="$$material",Qy={active:"active",checked:"checked",completed:"completed",disabled:"disabled",error:"error",expanded:"expanded",focused:"focused",focusVisible:"focusVisible",open:"open",readOnly:"readOnly",required:"required",selected:"selected"};function Yy(e,t){const n=Qy[t];return n?"".concat(arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui","-").concat(n):"".concat(Iv.generate(e),"-").concat(t)}function Jy(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Mui";const r={};return t.forEach((t=>{r[t]=Yy(e,t,n)})),r}const $y=Jy("MuiBox",["root"]),Zy=Ky(),eb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n,defaultClassName:r="MuiBox-root",generateClassName:s}=e,a=am("div",{shouldForwardProp:e=>"theme"!==e&&"sx"!==e&&"as"!==e})(fv);return i.forwardRef((function(e,i){const o=xv(n),c=mv(e),{className:u,component:h="div"}=c,d=l(c,Cv);return(0,yf.jsx)(a,p({as:h,ref:i,className:Ef(u,s?s(r):r),theme:t&&o[t]||o},d))}))}({themeId:Xy,defaultTheme:Zy,defaultClassName:$y.root,generateClassName:Iv.generate}),tb=eb;n(219);var nb=function(e,t){var n=arguments;if(null==t||!Qg.call(t,"css"))return i.createElement.apply(void 0,n);var r=n.length,s=new Array(r);s[0]=$g,s[1]=function(e,t){var n={};for(var r in t)Qg.call(t,r)&&(n[r]=t[r]);return n[Yg]=e,n}(e,t);for(var a=2;a<r;a++)s[a]=n[a];return i.createElement.apply(null,s)};!function(e){var t;t||(t=e.JSX||(e.JSX={}))}(nb||(nb={}));var rb=Kg((function(e,t){var n=Ug([e.styles],void 0,i.useContext(Xg)),r=i.useRef();return qg((function(){var e=t.key+"-global",i=new t.sheet.constructor({key:e,nonce:t.sheet.nonce,container:t.sheet.container,speedy:t.sheet.isSpeedy}),s=!1,a=document.querySelector('style[data-emotion="'+e+" "+n.name+'"]');return t.sheet.tags.length&&(i.before=t.sheet.tags[0]),null!==a&&(s=!0,a.setAttribute("data-emotion",e),i.hydrate([a])),r.current=[i,s],function(){i.flush()}}),[t]),qg((function(){var e=r.current,i=e[0];if(e[1])e[1]=!1;else{if(void 0!==n.next&&Rg(t,n.next,!0),i.tags.length){var s=i.tags[i.tags.length-1].nextElementSibling;i.before=s,i.flush()}t.insert("",n,i,!1)}}),[t,n.name]),null}));function ib(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return Ug(t)}function sb(){var e=ib.apply(void 0,arguments),t="animation-"+e.name;return{name:t,styles:"@keyframes "+t+"{"+e.styles+"}",anim:1,toString:function(){return"_EMO_"+this.name+"_"+this.styles+"_EMO_"}}}function ab(e){const{styles:t,defaultTheme:n={}}=e,r="function"===typeof t?e=>{return t(void 0===(r=e)||null===r||0===Object.keys(r).length?n:e);var r}:t;return(0,yf.jsx)(rb,{styles:r})}const ob=function(e){let{styles:t,themeId:n,defaultTheme:r={}}=e;const i=xv(r),s="function"===typeof t?t(n&&i[n]||i):t;return(0,yf.jsx)(ab,{styles:s})},lb=Ky();const cb=function(e){return(0,yf.jsx)(ob,p(p({},e),{},{defaultTheme:lb,themeId:Xy}))};function ub(e){return function(t){return(0,yf.jsx)(cb,{styles:"function"===typeof e?n=>e(p({theme:n},t)):e})}}function hb(e,t){const n=p({},t);for(const r in e)if(Object.prototype.hasOwnProperty.call(e,r)){const i=r;if("components"===i||"slots"===i)n[i]=p(p({},e[i]),n[i]);else if("componentsProps"===i||"slotProps"===i){const r=e[i],s=t[i];if(s)if(r){n[i]=p({},s);for(const e in r)if(Object.prototype.hasOwnProperty.call(r,e)){const t=e;n[i][t]=hb(r[t],s[t])}}else n[i]=s;else n[i]=r||{}}else void 0===n[i]&&(n[i]=e[i])}return n}const db=i.createContext(void 0);function pb(e){let{props:t,name:n}=e;return function(e){const{theme:t,name:n,props:r}=e;if(!t||!t.components||!t.components[n])return r;const i=t.components[n];return i.defaultProps?hb(i.defaultProps,r):i.styleOverrides||i.variants?r:hb(i,r)}({props:t,name:n,theme:{components:i.useContext(db)}})}function fb(e){return pb(e)}const gb="function"===typeof ub({}),mb=(e,t)=>p({WebkitFontSmoothing:"antialiased",MozOsxFontSmoothing:"grayscale",boxSizing:"border-box",WebkitTextSizeAdjust:"100%"},t&&!e.vars&&{colorScheme:e.palette.mode}),vb=e=>p(p({color:(e.vars||e).palette.text.primary},e.typography.body1),{},{backgroundColor:(e.vars||e).palette.background.default,"@media print":{backgroundColor:(e.vars||e).palette.common.white}}),yb=function(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];const r={};n&&e.colorSchemes&&"function"===typeof e.getColorSchemeSelector&&Object.entries(e.colorSchemes).forEach((t=>{let[n,i]=t;const s=e.getColorSchemeSelector(n);var a,o;s.startsWith("@")?r[s]={":root":{colorScheme:null===(a=i.palette)||void 0===a?void 0:a.mode}}:r[s.replace(/\s*&/,"")]={colorScheme:null===(o=i.palette)||void 0===o?void 0:o.mode}}));let i=p({html:mb(e,n),"*, *::before, *::after":{boxSizing:"inherit"},"strong, b":{fontWeight:e.typography.fontWeightBold},body:p(p({margin:0},vb(e)),{},{"&::backdrop":{backgroundColor:(e.vars||e).palette.background.default}})},r);const s=null===(t=e.components)||void 0===t||null===(t=t.MuiCssBaseline)||void 0===t?void 0:t.styleOverrides;return s&&(i=[i,s]),i},bb="mui-ecs",wb=ub(gb?e=>{let{theme:t,enableColorScheme:n}=e;return yb(t,n)}:e=>{let{theme:t}=e;return(e=>{const t=yb(e,!1),n=Array.isArray(t)?t[0]:t;return!e.vars&&n&&(n.html[":root:has(".concat(bb,")")]={colorScheme:e.palette.mode}),e.colorSchemes&&Object.entries(e.colorSchemes).forEach((t=>{let[r,i]=t;const s=e.getColorSchemeSelector(r);var a,o;s.startsWith("@")?n[s]={[":root:not(:has(.".concat(bb,"))")]:{colorScheme:null===(a=i.palette)||void 0===a?void 0:a.mode}}:n[s.replace(/\s*&/,"")]={["&:not(:has(.".concat(bb,"))")]:{colorScheme:null===(o=i.palette)||void 0===o?void 0:o.mode}}})),t})(t)});const _b=function(e){const t=fb({props:e,name:"MuiCssBaseline"}),{children:n,enableColorScheme:r=!1}=t;return(0,yf.jsxs)(i.Fragment,{children:[gb&&(0,yf.jsx)(wb,{enableColorScheme:r}),!gb&&!r&&(0,yf.jsx)("span",{className:bb,style:{display:"none"}}),n]})};function Sb(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:void 0;const r={};for(const i in e){const s=e[i];let a="",o=!0;for(let e=0;e<s.length;e+=1){const r=s[e];r&&(a+=(!0===o?"":" ")+t(r),o=!1,n&&n[r]&&(a+=" "+n[r]))}r[i]=a}return r}const Eb=i.createContext();function Ab(e,t){"function"===typeof e?e(t):e&&(e.current=t)}function kb(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return i.useMemo((()=>t.every((e=>null==e))?null:e=>{t.forEach((t=>{Ab(t,e)}))}),t)}function xb(e){var t;return parseInt(i.version,10)>=19?(null===e||void 0===e||null===(t=e.props)||void 0===t?void 0:t.ref)||null:(null===e||void 0===e?void 0:e.ref)||null}function Cb(e){return e&&e.ownerDocument||document}const Tb=["input","select","textarea","a[href]","button","[tabindex]","audio[controls]","video[controls]",'[contenteditable]:not([contenteditable="false"])'].join(",");function Ib(e){const t=[],n=[];return Array.from(e.querySelectorAll(Tb)).forEach(((e,r)=>{const i=function(e){const t=parseInt(e.getAttribute("tabindex")||"",10);return Number.isNaN(t)?"true"===e.contentEditable||("AUDIO"===e.nodeName||"VIDEO"===e.nodeName||"DETAILS"===e.nodeName)&&null===e.getAttribute("tabindex")?0:e.tabIndex:t}(e);-1!==i&&function(e){return!(e.disabled||"INPUT"===e.tagName&&"hidden"===e.type||function(e){if("INPUT"!==e.tagName||"radio"!==e.type)return!1;if(!e.name)return!1;const t=t=>e.ownerDocument.querySelector('input[type="radio"]'.concat(t));let n=t('[name="'.concat(e.name,'"]:checked'));return n||(n=t('[name="'.concat(e.name,'"]'))),n!==e}(e))}(e)&&(0===i?t.push(e):n.push({documentOrder:r,tabIndex:i,node:e}))})),n.sort(((e,t)=>e.tabIndex===t.tabIndex?e.documentOrder-t.documentOrder:e.tabIndex-t.tabIndex)).map((e=>e.node)).concat(t)}function Rb(){return!0}const Mb=function(e){const{children:t,disableAutoFocus:n=!1,disableEnforceFocus:r=!1,disableRestoreFocus:s=!1,getTabbable:a=Ib,isEnabled:o=Rb,open:l}=e,c=i.useRef(!1),u=i.useRef(null),h=i.useRef(null),d=i.useRef(null),p=i.useRef(null),f=i.useRef(!1),g=i.useRef(null),m=kb(xb(t),g),v=i.useRef(null);i.useEffect((()=>{l&&g.current&&(f.current=!n)}),[n,l]),i.useEffect((()=>{if(!l||!g.current)return;const e=Cb(g.current);return g.current.contains(e.activeElement)||(g.current.hasAttribute("tabIndex")||g.current.setAttribute("tabIndex","-1"),f.current&&g.current.focus()),()=>{s||(d.current&&d.current.focus&&(c.current=!0,d.current.focus()),d.current=null)}}),[l]),i.useEffect((()=>{if(!l||!g.current)return;const e=Cb(g.current),t=t=>{v.current=t,!r&&o()&&"Tab"===t.key&&e.activeElement===g.current&&t.shiftKey&&(c.current=!0,h.current&&h.current.focus())},n=()=>{const t=g.current;if(null===t)return;if(!e.hasFocus()||!o()||c.current)return void(c.current=!1);if(t.contains(e.activeElement))return;if(r&&e.activeElement!==u.current&&e.activeElement!==h.current)return;if(e.activeElement!==p.current)p.current=null;else if(null!==p.current)return;if(!f.current)return;let n=[];if(e.activeElement!==u.current&&e.activeElement!==h.current||(n=a(g.current)),n.length>0){var i,s;const e=Boolean((null===(i=v.current)||void 0===i?void 0:i.shiftKey)&&"Tab"===(null===(s=v.current)||void 0===s?void 0:s.key)),t=n[0],r=n[n.length-1];"string"!==typeof t&&"string"!==typeof r&&(e?r.focus():t.focus())}else t.focus()};e.addEventListener("focusin",n),e.addEventListener("keydown",t,!0);const i=setInterval((()=>{e.activeElement&&"BODY"===e.activeElement.tagName&&n()}),50);return()=>{clearInterval(i),e.removeEventListener("focusin",n),e.removeEventListener("keydown",t,!0)}}),[n,r,s,o,l,a]);const y=e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0};return(0,yf.jsxs)(i.Fragment,{children:[(0,yf.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:u,"data-testid":"sentinelStart"}),i.cloneElement(t,{ref:m,onFocus:e=>{null===d.current&&(d.current=e.relatedTarget),f.current=!0,p.current=e.target;const n=t.props.onFocus;n&&n(e)}}),(0,yf.jsx)("div",{tabIndex:l?0:-1,onFocus:y,ref:h,"data-testid":"sentinelEnd"})]})};var Pb=n(950);const Nb="undefined"!==typeof window?i.useLayoutEffect:i.useEffect;const Lb=i.forwardRef((function(e,t){const{children:n,container:r,disablePortal:s=!1}=e,[a,o]=i.useState(null),l=kb(i.isValidElement(n)?xb(n):null,t);if(Nb((()=>{s||o(function(e){return"function"===typeof e?e():e}(r)||document.body)}),[r,s]),Nb((()=>{if(a&&!s)return Ab(t,a),()=>{Ab(t,null)}}),[t,a,s]),s){if(i.isValidElement(n)){const e={ref:l};return i.cloneElement(n,e)}return n}return a?Pb.createPortal(n,a):a})),Db=["variants"];function Ob(e){const{variants:t}=e,n=l(e,Db),r={variants:t,style:lm(n),isProcessed:!0};return r.style===n||t&&t.forEach((e=>{"function"!==typeof e.style&&(e.style=lm(e.style))})),r}const Fb=["variants"],jb=["name","slot","skipVariantsResolver","skipSx","overridesResolver"],Bb=Ev();function zb(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e}function Vb(e){return e?(t,n)=>n[e]:null}function Ub(e,t){const n="function"===typeof t?t(e):t;if(Array.isArray(n))return n.flatMap((t=>Ub(e,t)));if(Array.isArray(null===n||void 0===n?void 0:n.variants)){let t;if(n.isProcessed)t=n.style;else{const{variants:e}=n;t=l(n,Fb)}return Wb(e,n.variants,[t])}return null!==n&&void 0!==n&&n.isProcessed?n.style:n}function Wb(e,t){let n,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:[];e:for(let o=0;o<t.length;o+=1){const l=t[o];var i,s;if("function"===typeof l.props){if(null!==(i=n)&&void 0!==i||(n=p(p(p({},e),e.ownerState),{},{ownerState:e.ownerState})),!l.props(n))continue}else for(const t in l.props){var a;if(e[t]!==l.props[t]&&(null===(a=e.ownerState)||void 0===a?void 0:a[t])!==l.props[t])continue e}if("function"===typeof l.style)null!==(s=n)&&void 0!==s||(n=p(p(p({},e),e.ownerState),{},{ownerState:e.ownerState})),r.push(l.style(n));else r.push(l.style)}return r}function Hb(e,t){}function qb(e){return e?e.charAt(0).toLowerCase()+e.slice(1):e}const Gb=function(e){return"ownerState"!==e&&"theme"!==e&&"sx"!==e&&"as"!==e},Kb=e=>Gb(e)&&"classes"!==e,Xb=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{themeId:t,defaultTheme:n=Bb,rootShouldForwardProp:r=zb,slotShouldForwardProp:i=zb}=e;function s(e){!function(e,t,n){e.theme=function(e){for(const t in e)return!1;return!0}(e.theme)?n:e.theme[t]||e.theme}(e,t,n)}return function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};!function(e,t){Array.isArray(e.__emotion_styles)&&(e.__emotion_styles=t(e.__emotion_styles))}(e,(e=>e.filter((e=>e!==fv))));const{name:n,slot:a,skipVariantsResolver:o,skipSx:c,overridesResolver:u=Vb(qb(a))}=t,h=l(t,jb),d=void 0!==o?o:a&&"Root"!==a&&"root"!==a||!1,f=c||!1;let g=zb;"Root"===a||"root"===a?g=r:a?g=i:function(e){return"string"===typeof e&&e.charCodeAt(0)>96}(e)&&(g=void 0);const m=am(e,p({shouldForwardProp:g,label:Hb(n,a)},h)),v=e=>{if("function"===typeof e&&e.__emotion_real!==e)return function(t){return Ub(t,e)};if(hm(e)){const t=Ob(e);return t.variants?function(e){return Ub(e,t)}:t.style}return e},y=function(){const t=[];for(var r=arguments.length,i=new Array(r),a=0;a<r;a++)i[a]=arguments[a];const o=i.map(v),l=[];if(t.push(s),n&&u&&l.push((function(e){var t;const r=null===(t=e.theme.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.styleOverrides;if(!r)return null;const i={};for(const n in r)i[n]=Ub(e,r[n]);return u(e,i)})),n&&!d&&l.push((function(e){var t;const r=e.theme,i=null===r||void 0===r||null===(t=r.components)||void 0===t||null===(t=t[n])||void 0===t?void 0:t.variants;return i?Wb(e,i):null})),f||l.push(fv),Array.isArray(o[0])){const e=o.shift(),n=new Array(t.length).fill(""),r=new Array(l.length).fill("");let i;i=[...n,...e,...r],i.raw=[...n,...e.raw,...r],t.unshift(i)}const c=[...t,...o,...l],h=m(...c);return e.muiName&&(h.muiName=e.muiName),h};return m.withConfig&&(y.withConfig=m.withConfig),y}}({themeId:Xy,defaultTheme:lb,rootShouldForwardProp:Kb}),Qb=Xb,Yb={theme:void 0};const Jb=function(e){let t,n;return function(r){let i=t;return void 0!==i&&r.theme===n||(Yb.theme=r.theme,i=Ob(e(Yb)),t=i,n=r.theme),i}};const $b=function(e){return"string"===typeof e};const Zb=function(e,t,n){return void 0===e||$b(e)?t:p(p({},t),{},{ownerState:p(p({},t.ownerState),n)})};const ew=function(e,t,n){return"function"===typeof e?e(t,n):e};const tw=function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(void 0===e)return{};const n={};return Object.keys(e).filter((n=>n.match(/^on[A-Z]/)&&"function"===typeof e[n]&&!t.includes(n))).forEach((t=>{n[t]=e[t]})),n};const nw=function(e){if(void 0===e)return{};const t={};return Object.keys(e).filter((t=>!(t.match(/^on[A-Z]/)&&"function"===typeof e[t]))).forEach((n=>{t[n]=e[n]})),t};const rw=function(e){const{getSlotProps:t,additionalProps:n,externalSlotProps:r,externalForwardedProps:i,className:s}=e;if(!t){const e=Ef(null===n||void 0===n?void 0:n.className,s,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),t=p(p(p({},null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),a=p(p(p({},n),i),r);return e.length>0&&(a.className=e),Object.keys(t).length>0&&(a.style=t),{props:a,internalRef:void 0}}const a=tw(p(p({},i),r)),o=nw(r),l=nw(i),c=t(a),u=Ef(null===c||void 0===c?void 0:c.className,null===n||void 0===n?void 0:n.className,s,null===i||void 0===i?void 0:i.className,null===r||void 0===r?void 0:r.className),h=p(p(p(p({},null===c||void 0===c?void 0:c.style),null===n||void 0===n?void 0:n.style),null===i||void 0===i?void 0:i.style),null===r||void 0===r?void 0:r.style),d=p(p(p(p({},c),n),l),o);return u.length>0&&(d.className=u),Object.keys(h).length>0&&(d.style=h),{props:d,internalRef:c.ref}},iw=["className","elementType","ownerState","externalForwardedProps","internalForwardedProps"],sw=["component","slots","slotProps"],aw=["component"];function ow(e,t){const{className:n,elementType:r,ownerState:i,externalForwardedProps:s,internalForwardedProps:a}=t,o=l(t,iw),{component:c,slots:u={[e]:void 0},slotProps:h={[e]:void 0}}=s,d=l(s,sw),f=u[e]||r,g=ew(h[e],i),m=rw(p(p({className:n},o),{},{externalForwardedProps:"root"===e?d:void 0,externalSlotProps:g})),{props:{component:v},internalRef:y}=m,b=l(m.props,aw),w=kb(y,null===g||void 0===g?void 0:g.ref,t.ref),_="root"===e?v||c:v;return[f,Zb(f,p(p(p(p(p({},"root"===e&&!c&&!u[e]&&a),"root"!==e&&!u[e]&&a),b),_&&{as:_}),{},{ref:w}),i)]}function lw(e,t){return lw=Object.setPrototypeOf?Object.setPrototypeOf.bind():function(e,t){return e.__proto__=t,e},lw(e,t)}function cw(e,t){e.prototype=Object.create(t.prototype),e.prototype.constructor=e,lw(e,t)}const uw=!1,hw=i.createContext(null);var dw="unmounted",pw="exited",fw="entering",gw="entered",mw="exiting",vw=function(e){function t(t,n){var r;r=e.call(this,t,n)||this;var i,s=n&&!n.isMounting?t.enter:t.appear;return r.appearStatus=null,t.in?s?(i=pw,r.appearStatus=fw):i=gw:i=t.unmountOnExit||t.mountOnEnter?dw:pw,r.state={status:i},r.nextCallback=null,r}cw(t,e),t.getDerivedStateFromProps=function(e,t){return e.in&&t.status===dw?{status:pw}:null};var n=t.prototype;return n.componentDidMount=function(){this.updateStatus(!0,this.appearStatus)},n.componentDidUpdate=function(e){var t=null;if(e!==this.props){var n=this.state.status;this.props.in?n!==fw&&n!==gw&&(t=fw):n!==fw&&n!==gw||(t=mw)}this.updateStatus(!1,t)},n.componentWillUnmount=function(){this.cancelNextCallback()},n.getTimeouts=function(){var e,t,n,r=this.props.timeout;return e=t=n=r,null!=r&&"number"!==typeof r&&(e=r.exit,t=r.enter,n=void 0!==r.appear?r.appear:t),{exit:e,enter:t,appear:n}},n.updateStatus=function(e,t){if(void 0===e&&(e=!1),null!==t)if(this.cancelNextCallback(),t===fw){if(this.props.unmountOnExit||this.props.mountOnEnter){var n=this.props.nodeRef?this.props.nodeRef.current:Pb.findDOMNode(this);n&&function(e){e.scrollTop}(n)}this.performEnter(e)}else this.performExit();else this.props.unmountOnExit&&this.state.status===pw&&this.setState({status:dw})},n.performEnter=function(e){var t=this,n=this.props.enter,r=this.context?this.context.isMounting:e,i=this.props.nodeRef?[r]:[Pb.findDOMNode(this),r],s=i[0],a=i[1],o=this.getTimeouts(),l=r?o.appear:o.enter;!e&&!n||uw?this.safeSetState({status:gw},(function(){t.props.onEntered(s)})):(this.props.onEnter(s,a),this.safeSetState({status:fw},(function(){t.props.onEntering(s,a),t.onTransitionEnd(l,(function(){t.safeSetState({status:gw},(function(){t.props.onEntered(s,a)}))}))})))},n.performExit=function(){var e=this,t=this.props.exit,n=this.getTimeouts(),r=this.props.nodeRef?void 0:Pb.findDOMNode(this);t&&!uw?(this.props.onExit(r),this.safeSetState({status:mw},(function(){e.props.onExiting(r),e.onTransitionEnd(n.exit,(function(){e.safeSetState({status:pw},(function(){e.props.onExited(r)}))}))}))):this.safeSetState({status:pw},(function(){e.props.onExited(r)}))},n.cancelNextCallback=function(){null!==this.nextCallback&&(this.nextCallback.cancel(),this.nextCallback=null)},n.safeSetState=function(e,t){t=this.setNextCallback(t),this.setState(e,t)},n.setNextCallback=function(e){var t=this,n=!0;return this.nextCallback=function(r){n&&(n=!1,t.nextCallback=null,e(r))},this.nextCallback.cancel=function(){n=!1},this.nextCallback},n.onTransitionEnd=function(e,t){this.setNextCallback(t);var n=this.props.nodeRef?this.props.nodeRef.current:Pb.findDOMNode(this),r=null==e&&!this.props.addEndListener;if(n&&!r){if(this.props.addEndListener){var i=this.props.nodeRef?[this.nextCallback]:[n,this.nextCallback],s=i[0],a=i[1];this.props.addEndListener(s,a)}null!=e&&setTimeout(this.nextCallback,e)}else setTimeout(this.nextCallback,0)},n.render=function(){var e=this.state.status;if(e===dw)return null;var t=this.props,n=t.children,r=(t.in,t.mountOnEnter,t.unmountOnExit,t.appear,t.enter,t.exit,t.timeout,t.addEndListener,t.onEnter,t.onEntering,t.onEntered,t.onExit,t.onExiting,t.onExited,t.nodeRef,o(t,["children","in","mountOnEnter","unmountOnExit","appear","enter","exit","timeout","addEndListener","onEnter","onEntering","onEntered","onExit","onExiting","onExited","nodeRef"]));return i.createElement(hw.Provider,{value:null},"function"===typeof n?n(e,r):i.cloneElement(i.Children.only(n),r))},t}(i.Component);function yw(){}vw.contextType=hw,vw.propTypes={},vw.defaultProps={in:!1,mountOnEnter:!1,unmountOnExit:!1,appear:!1,enter:!0,exit:!0,onEnter:yw,onEntering:yw,onEntered:yw,onExit:yw,onExiting:yw,onExited:yw},vw.UNMOUNTED=dw,vw.EXITED=pw,vw.ENTERING=fw,vw.ENTERED=gw,vw.EXITING=mw;const bw=vw;function ww(){const e=xv(lb);return e[Xy]||e}const _w=e=>e.scrollTop;function Sw(e,t){var n,r;const{timeout:i,easing:s,style:a={}}=e;return{duration:null!==(n=a.transitionDuration)&&void 0!==n?n:"number"===typeof i?i:i[t.mode]||0,easing:null!==(r=a.transitionTimingFunction)&&void 0!==r?r:"object"===typeof s?s[t.mode]:s,delay:a.transitionDelay}}const Ew=kb,Aw=["addEndListener","appear","children","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],kw=["ownerState"],xw={entering:{opacity:1},entered:{opacity:1}},Cw=i.forwardRef((function(e,t){const n=ww(),r={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:s,appear:a=!0,children:o,easing:c,in:u,onEnter:h,onEntered:d,onEntering:f,onExit:g,onExited:m,onExiting:v,style:y,timeout:b=r,TransitionComponent:w=bw}=e,_=l(e,Aw),S=i.useRef(null),E=Ew(S,xb(o),t),A=e=>t=>{if(e){const n=S.current;void 0===t?e(n):e(n,t)}},k=A(f),x=A(((e,t)=>{_w(e);const r=Sw({style:y,timeout:b,easing:c},{mode:"enter"});e.style.webkitTransition=n.transitions.create("opacity",r),e.style.transition=n.transitions.create("opacity",r),h&&h(e,t)})),C=A(d),T=A(v),I=A((e=>{const t=Sw({style:y,timeout:b,easing:c},{mode:"exit"});e.style.webkitTransition=n.transitions.create("opacity",t),e.style.transition=n.transitions.create("opacity",t),g&&g(e)})),R=A(m);return(0,yf.jsx)(w,p(p({appear:a,in:u,nodeRef:S,onEnter:x,onEntered:C,onEntering:k,onExit:I,onExited:R,onExiting:T,addEndListener:e=>{s&&s(S.current,e)},timeout:b},_),{},{children:(e,t)=>{let{ownerState:n}=t,r=l(t,kw);return i.cloneElement(o,p({style:p(p(p({opacity:0,visibility:"exited"!==e||u?void 0:"hidden"},xw[e]),y),o.props.style),ref:E},r))}}))})),Tw=Cw;function Iw(e){return Yy("MuiBackdrop",e)}Jy("MuiBackdrop",["root","invisible"]);const Rw=["children","className","component","invisible","open","components","componentsProps","slotProps","slots","TransitionComponent","transitionDuration"],Mw=Qb("div",{name:"MuiBackdrop",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.invisible&&t.invisible]}})({position:"fixed",display:"flex",alignItems:"center",justifyContent:"center",right:0,bottom:0,top:0,left:0,backgroundColor:"rgba(0, 0, 0, 0.5)",WebkitTapHighlightColor:"transparent",variants:[{props:{invisible:!0},style:{backgroundColor:"transparent"}}]}),Pw=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiBackdrop"}),{children:r,className:i,component:s="div",invisible:a=!1,open:o,components:c={},componentsProps:u={},slotProps:h={},slots:d={},TransitionComponent:f,transitionDuration:g}=n,m=l(n,Rw),v=p(p({},n),{},{component:s,invisible:a}),y=(e=>{const{classes:t,invisible:n}=e;return Sb({root:["root",n&&"invisible"]},Iw,t)})(v),b={slots:p({transition:f,root:c.Root},d),slotProps:p(p({},u),h)},[w,_]=ow("root",{elementType:Mw,externalForwardedProps:b,className:Ef(y.root,i),ownerState:v}),[S,E]=ow("transition",{elementType:Tw,externalForwardedProps:b,ownerState:v});return(0,yf.jsx)(S,p(p(p({in:o,timeout:g},m),E),{},{children:(0,yf.jsx)(w,p(p({"aria-hidden":!0},_),{},{classes:y,ref:t,children:r}))}))}));const Nw=function(e){const t=i.useRef(e);return Nb((()=>{t.current=e})),i.useRef((function(){return(0,t.current)(...arguments)})).current};function Lw(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];return t.reduce(((e,t)=>null==t?e:function(){for(var n=arguments.length,r=new Array(n),i=0;i<n;i++)r[i]=arguments[i];e.apply(this,r),t.apply(this,r)}),(()=>{}))}function Dw(e){return Cb(e).defaultView||window}function Ow(e,t){t?e.setAttribute("aria-hidden","true"):e.removeAttribute("aria-hidden")}function Fw(e){return parseInt(Dw(e).getComputedStyle(e).paddingRight,10)||0}function jw(e,t,n,r,i){const s=[t,n,...r];[].forEach.call(e.children,(e=>{const t=!s.includes(e),n=!function(e){const t=["TEMPLATE","SCRIPT","STYLE","LINK","MAP","META","NOSCRIPT","PICTURE","COL","COLGROUP","PARAM","SLOT","SOURCE","TRACK"].includes(e.tagName),n="INPUT"===e.tagName&&"hidden"===e.getAttribute("type");return t||n}(e);t&&n&&Ow(e,i)}))}function Bw(e,t){let n=-1;return e.some(((e,r)=>!!t(e)&&(n=r,!0))),n}function zw(e,t){const n=[],r=e.container;if(!t.disableScrollLock){if(function(e){const t=Cb(e);return t.body===e?Dw(e).innerWidth>t.documentElement.clientWidth:e.scrollHeight>e.clientHeight}(r)){const e=function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:window;const t=e.document.documentElement.clientWidth;return e.innerWidth-t}(Dw(r));n.push({value:r.style.paddingRight,property:"padding-right",el:r}),r.style.paddingRight="".concat(Fw(r)+e,"px");const t=Cb(r).querySelectorAll(".mui-fixed");[].forEach.call(t,(t=>{n.push({value:t.style.paddingRight,property:"padding-right",el:t}),t.style.paddingRight="".concat(Fw(t)+e,"px")}))}let e;if(r.parentNode instanceof DocumentFragment)e=Cb(r).body;else{const t=r.parentElement,n=Dw(r);e="HTML"===(null===t||void 0===t?void 0:t.nodeName)&&"scroll"===n.getComputedStyle(t).overflowY?t:r}n.push({value:e.style.overflow,property:"overflow",el:e},{value:e.style.overflowX,property:"overflow-x",el:e},{value:e.style.overflowY,property:"overflow-y",el:e}),e.style.overflow="hidden"}return()=>{n.forEach((e=>{let{value:t,el:n,property:r}=e;t?n.style.setProperty(r,t):n.style.removeProperty(r)}))}}const Vw=()=>{},Uw=new class{constructor(){this.modals=[],this.containers=[]}add(e,t){let n=this.modals.indexOf(e);if(-1!==n)return n;n=this.modals.length,this.modals.push(e),e.modalRef&&Ow(e.modalRef,!1);const r=function(e){const t=[];return[].forEach.call(e.children,(e=>{"true"===e.getAttribute("aria-hidden")&&t.push(e)})),t}(t);jw(t,e.mount,e.modalRef,r,!0);const i=Bw(this.containers,(e=>e.container===t));return-1!==i?(this.containers[i].modals.push(e),n):(this.containers.push({modals:[e],container:t,restore:null,hiddenSiblings:r}),n)}mount(e,t){const n=Bw(this.containers,(t=>t.modals.includes(e))),r=this.containers[n];r.restore||(r.restore=zw(r,t))}remove(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];const n=this.modals.indexOf(e);if(-1===n)return n;const r=Bw(this.containers,(t=>t.modals.includes(e))),i=this.containers[r];if(i.modals.splice(i.modals.indexOf(e),1),this.modals.splice(n,1),0===i.modals.length)i.restore&&i.restore(),e.modalRef&&Ow(e.modalRef,t),jw(i.container,e.mount,e.modalRef,i.hiddenSiblings,!1),this.containers.splice(r,1);else{const e=i.modals[i.modals.length-1];e.modalRef&&Ow(e.modalRef,!1)}return n}isTopModal(e){return this.modals.length>0&&this.modals[this.modals.length-1]===e}};const Ww=function(e){const{container:t,disableEscapeKeyDown:n=!1,disableScrollLock:r=!1,closeAfterTransition:s=!1,onTransitionEnter:a,onTransitionExited:o,children:l,onClose:c,open:u,rootRef:h}=e,d=i.useRef({}),f=i.useRef(null),g=i.useRef(null),m=kb(g,h),[v,y]=i.useState(!u),b=function(e){return!!e&&e.props.hasOwnProperty("in")}(l);let w=!0;"false"!==e["aria-hidden"]&&!1!==e["aria-hidden"]||(w=!1);const _=()=>(d.current.modalRef=g.current,d.current.mount=f.current,d.current),S=()=>{Uw.mount(_(),{disableScrollLock:r}),g.current&&(g.current.scrollTop=0)},E=Nw((()=>{const e=function(e){return"function"===typeof e?e():e}(t)||Cb(f.current).body;Uw.add(_(),e),g.current&&S()})),A=()=>Uw.isTopModal(_()),k=Nw((e=>{f.current=e,e&&(u&&A()?S():g.current&&Ow(g.current,w))})),x=i.useCallback((()=>{Uw.remove(_(),w)}),[w]);i.useEffect((()=>()=>{x()}),[x]),i.useEffect((()=>{u?E():b&&s||x()}),[u,x,b,s,E]);const C=e=>t=>{var r;null===(r=e.onKeyDown)||void 0===r||r.call(e,t),"Escape"===t.key&&229!==t.which&&A()&&(n||(t.stopPropagation(),c&&c(t,"escapeKeyDown")))},T=e=>t=>{var n;null===(n=e.onClick)||void 0===n||n.call(e,t),t.target===t.currentTarget&&c&&c(t,"backdropClick")};return{getRootProps:function(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const n=tw(e);delete n.onTransitionEnter,delete n.onTransitionExited;const r=p(p({},n),t);return p(p({role:"presentation"},r),{},{onKeyDown:C(r),ref:m})},getBackdropProps:function(){const e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return p(p({"aria-hidden":!0},e),{},{onClick:T(e),open:u})},getTransitionProps:()=>{var e,t;return{onEnter:Lw((()=>{y(!1),a&&a()}),null!==(e=null===l||void 0===l?void 0:l.props.onEnter)&&void 0!==e?e:Vw),onExited:Lw((()=>{y(!0),o&&o(),s&&x()}),null!==(t=null===l||void 0===l?void 0:l.props.onExited)&&void 0!==t?t:Vw)}},rootRef:m,portalRef:k,isTopModal:A,exited:v,hasTransition:b}};function Hw(e){return Yy("MuiModal",e)}Jy("MuiModal",["root","hidden","backdrop"]);const qw=["BackdropComponent","BackdropProps","classes","className","closeAfterTransition","children","container","component","components","componentsProps","disableAutoFocus","disableEnforceFocus","disableEscapeKeyDown","disablePortal","disableRestoreFocus","disableScrollLock","hideBackdrop","keepMounted","onBackdropClick","onClose","onTransitionEnter","onTransitionExited","open","slotProps","slots","theme"],Gw=Qb("div",{name:"MuiModal",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.open&&n.exited&&t.hidden]}})(Jb((e=>{let{theme:t}=e;return{position:"fixed",zIndex:(t.vars||t).zIndex.modal,right:0,bottom:0,top:0,left:0,variants:[{props:e=>{let{ownerState:t}=e;return!t.open&&t.exited},style:{visibility:"hidden"}}]}}))),Kw=Qb(Pw,{name:"MuiModal",slot:"Backdrop",overridesResolver:(e,t)=>t.backdrop})({zIndex:-1}),Xw=i.forwardRef((function(e,t){const n=fb({name:"MuiModal",props:e}),{BackdropComponent:r=Kw,BackdropProps:s,classes:a,className:o,closeAfterTransition:c=!1,children:u,container:h,component:d,components:f={},componentsProps:g={},disableAutoFocus:m=!1,disableEnforceFocus:v=!1,disableEscapeKeyDown:y=!1,disablePortal:b=!1,disableRestoreFocus:w=!1,disableScrollLock:_=!1,hideBackdrop:S=!1,keepMounted:E=!1,onBackdropClick:A,onClose:k,onTransitionEnter:x,onTransitionExited:C,open:T,slotProps:I={},slots:R={},theme:M}=n,P=l(n,qw),N=p(p({},n),{},{closeAfterTransition:c,disableAutoFocus:m,disableEnforceFocus:v,disableEscapeKeyDown:y,disablePortal:b,disableRestoreFocus:w,disableScrollLock:_,hideBackdrop:S,keepMounted:E}),{getRootProps:L,getBackdropProps:D,getTransitionProps:O,portalRef:F,isTopModal:j,exited:B,hasTransition:z}=Ww(p(p({},N),{},{rootRef:t})),V=p(p({},N),{},{exited:B}),U=(e=>{const{open:t,exited:n,classes:r}=e;return Sb({root:["root",!t&&n&&"hidden"],backdrop:["backdrop"]},Hw,r)})(V),W={};if(void 0===u.props.tabIndex&&(W.tabIndex="-1"),z){const{onEnter:e,onExited:t}=O();W.onEnter=e,W.onExited=t}const H=p(p({},P),{},{slots:p({root:f.Root,backdrop:f.Backdrop},R),slotProps:p(p({},g),I)}),[q,G]=ow("root",{elementType:Gw,externalForwardedProps:H,getSlotProps:L,additionalProps:{ref:t,as:d},ownerState:V,className:Ef(o,null===U||void 0===U?void 0:U.root,!V.open&&V.exited&&(null===U||void 0===U?void 0:U.hidden))}),[K,X]=ow("backdrop",{elementType:r,externalForwardedProps:H,additionalProps:s,getSlotProps:e=>D(p(p({},e),{},{onClick:t=>{A&&A(t),null!==e&&void 0!==e&&e.onClick&&e.onClick(t)}})),className:Ef(null===s||void 0===s?void 0:s.className,null===U||void 0===U?void 0:U.backdrop),ownerState:V}),Q=Ew(null===s||void 0===s?void 0:s.ref,X.ref);return E||T||z&&!B?(0,yf.jsx)(Lb,{ref:F,container:h,disablePortal:b,children:(0,yf.jsxs)(q,p(p({},G),{},{children:[!S&&r?(0,yf.jsx)(K,p(p({},X),{},{ref:Q})):null,(0,yf.jsx)(Mb,{disableEnforceFocus:v,disableAutoFocus:m,disableRestoreFocus:w,isEnabled:j,open:T,children:i.cloneElement(u,W)})]}))}):null})),Qw=Xw;const Yw=function(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:166;function r(){for(var r=arguments.length,i=new Array(r),s=0;s<r;s++)i[s]=arguments[s];clearTimeout(t),t=setTimeout((()=>{e.apply(this,i)}),n)}return r.clear=()=>{clearTimeout(t)},r},Jw=Dw,$w=["addEndListener","appear","children","container","direction","easing","in","onEnter","onEntered","onEntering","onExit","onExited","onExiting","style","timeout","TransitionComponent"],Zw=["ownerState"];function e_(e,t,n){var r;const i=function(e,t,n){const r=t.getBoundingClientRect(),i=n&&n.getBoundingClientRect(),s=Jw(t);let a;if(t.fakeTransform)a=t.fakeTransform;else{const e=s.getComputedStyle(t);a=e.getPropertyValue("-webkit-transform")||e.getPropertyValue("transform")}let o=0,l=0;if(a&&"none"!==a&&"string"===typeof a){const e=a.split("(")[1].split(")")[0].split(",");o=parseInt(e[4],10),l=parseInt(e[5],10)}return"left"===e?"translateX(".concat(i?i.right+o-r.left:s.innerWidth+o-r.left,"px)"):"right"===e?"translateX(-".concat(i?r.right-i.left-o:r.left+r.width-o,"px)"):"up"===e?"translateY(".concat(i?i.bottom+l-r.top:s.innerHeight+l-r.top,"px)"):"translateY(-".concat(i?r.top-i.top+r.height-l:r.top+r.height-l,"px)")}(e,t,"function"===typeof(r=n)?r():r);i&&(t.style.webkitTransform=i,t.style.transform=i)}const t_=i.forwardRef((function(e,t){const n=ww(),r={enter:n.transitions.easing.easeOut,exit:n.transitions.easing.sharp},s={enter:n.transitions.duration.enteringScreen,exit:n.transitions.duration.leavingScreen},{addEndListener:a,appear:o=!0,children:c,container:u,direction:h="down",easing:d=r,in:f,onEnter:g,onEntered:m,onEntering:v,onExit:y,onExited:b,onExiting:w,style:_,timeout:S=s,TransitionComponent:E=bw}=e,A=l(e,$w),k=i.useRef(null),x=Ew(xb(c),k,t),C=e=>t=>{e&&(void 0===t?e(k.current):e(k.current,t))},T=C(((e,t)=>{e_(h,e,u),_w(e),g&&g(e,t)})),I=C(((e,t)=>{const r=Sw({timeout:S,style:_,easing:d},{mode:"enter"});e.style.webkitTransition=n.transitions.create("-webkit-transform",p({},r)),e.style.transition=n.transitions.create("transform",p({},r)),e.style.webkitTransform="none",e.style.transform="none",v&&v(e,t)})),R=C(m),M=C(w),P=C((e=>{const t=Sw({timeout:S,style:_,easing:d},{mode:"exit"});e.style.webkitTransition=n.transitions.create("-webkit-transform",t),e.style.transition=n.transitions.create("transform",t),e_(h,e,u),y&&y(e)})),N=C((e=>{e.style.webkitTransition="",e.style.transition="",b&&b(e)})),L=i.useCallback((()=>{k.current&&e_(h,k.current,u)}),[h,u]);return i.useEffect((()=>{if(f||"down"===h||"right"===h)return;const e=Yw((()=>{k.current&&e_(h,k.current,u)})),t=Jw(k.current);return t.addEventListener("resize",e),()=>{e.clear(),t.removeEventListener("resize",e)}}),[h,f,u]),i.useEffect((()=>{f||L()}),[f,L]),(0,yf.jsx)(E,p(p({nodeRef:k,onEnter:T,onEntered:R,onEntering:I,onExit:P,onExited:N,onExiting:M,addEndListener:e=>{a&&a(k.current,e)},appear:o,in:f,timeout:S},A),{},{children:(e,t)=>{let{ownerState:n}=t,r=l(t,Zw);return i.cloneElement(c,p({ref:x,style:p(p({visibility:"exited"!==e||f?void 0:"hidden"},_),c.props.style)},r))}}))})),n_=t_;function r_(e){return Yy("MuiPaper",e)}Jy("MuiPaper",["root","rounded","outlined","elevation","elevation0","elevation1","elevation2","elevation3","elevation4","elevation5","elevation6","elevation7","elevation8","elevation9","elevation10","elevation11","elevation12","elevation13","elevation14","elevation15","elevation16","elevation17","elevation18","elevation19","elevation20","elevation21","elevation22","elevation23","elevation24"]);const i_=["className","component","elevation","square","variant"],s_=Qb("div",{name:"MuiPaper",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t[n.variant],!n.square&&t.rounded,"elevation"===n.variant&&t["elevation".concat(n.elevation)]]}})(Jb((e=>{let{theme:t}=e;return{backgroundColor:(t.vars||t).palette.background.paper,color:(t.vars||t).palette.text.primary,transition:t.transitions.create("box-shadow"),variants:[{props:e=>{let{ownerState:t}=e;return!t.square},style:{borderRadius:t.shape.borderRadius}},{props:{variant:"outlined"},style:{border:"1px solid ".concat((t.vars||t).palette.divider)}},{props:{variant:"elevation"},style:{boxShadow:"var(--Paper-shadow)",backgroundImage:"var(--Paper-overlay)"}}]}}))),a_=i.forwardRef((function(e,t){var n;const r=fb({props:e,name:"MuiPaper"}),i=ww(),{className:s,component:a="div",elevation:o=1,square:c=!1,variant:u="elevation"}=r,h=l(r,i_),d=p(p({},r),{},{component:a,elevation:o,square:c,variant:u}),f=(e=>{const{square:t,elevation:n,variant:r,classes:i}=e;return Sb({root:["root",r,!t&&"rounded","elevation"===r&&"elevation".concat(n)]},r_,i)})(d);return(0,yf.jsx)(s_,p(p({as:a,ownerState:d,className:Ef(f.root,s),ref:t},h),{},{style:p(p({},"elevation"===u&&p(p({"--Paper-shadow":(i.vars||i).shadows[o]},i.vars&&{"--Paper-overlay":null===(n=i.vars.overlays)||void 0===n?void 0:n[o]}),!i.vars&&"dark"===i.palette.mode&&{"--Paper-overlay":"linear-gradient(".concat(Fv("#fff",Iy(o)),", ").concat(Fv("#fff",Iy(o)),")")})),h.style)}))})),o_=a_,l_=um;function c_(e){return Yy("MuiDrawer",e)}Jy("MuiDrawer",["root","docked","paper","paperAnchorLeft","paperAnchorRight","paperAnchorTop","paperAnchorBottom","paperAnchorDockedLeft","paperAnchorDockedRight","paperAnchorDockedTop","paperAnchorDockedBottom","modal"]);const u_=["BackdropProps"],h_=["anchor","BackdropProps","children","className","elevation","hideBackdrop","ModalProps","onClose","open","PaperProps","SlideProps","TransitionComponent","transitionDuration","variant"],d_=(e,t)=>{const{ownerState:n}=e;return[t.root,("permanent"===n.variant||"persistent"===n.variant)&&t.docked,t.modal]},p_=Qb(Qw,{name:"MuiDrawer",slot:"Root",overridesResolver:d_})(Jb((e=>{let{theme:t}=e;return{zIndex:(t.vars||t).zIndex.drawer}}))),f_=Qb("div",{shouldForwardProp:Kb,name:"MuiDrawer",slot:"Docked",skipVariantsResolver:!1,overridesResolver:d_})({flex:"0 0 auto"}),g_=Qb(o_,{name:"MuiDrawer",slot:"Paper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.paper,t["paperAnchor".concat(l_(n.anchor))],"temporary"!==n.variant&&t["paperAnchorDocked".concat(l_(n.anchor))]]}})(Jb((e=>{let{theme:t}=e;return{overflowY:"auto",display:"flex",flexDirection:"column",height:"100%",flex:"1 0 auto",zIndex:(t.vars||t).zIndex.drawer,WebkitOverflowScrolling:"touch",position:"fixed",top:0,outline:0,variants:[{props:{anchor:"left"},style:{left:0}},{props:{anchor:"top"},style:{top:0,left:0,right:0,height:"auto",maxHeight:"100%"}},{props:{anchor:"right"},style:{right:0}},{props:{anchor:"bottom"},style:{top:"auto",left:0,bottom:0,right:0,height:"auto",maxHeight:"100%"}},{props:e=>{let{ownerState:t}=e;return"left"===t.anchor&&"temporary"!==t.variant},style:{borderRight:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"top"===t.anchor&&"temporary"!==t.variant},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"right"===t.anchor&&"temporary"!==t.variant},style:{borderLeft:"1px solid ".concat((t.vars||t).palette.divider)}},{props:e=>{let{ownerState:t}=e;return"bottom"===t.anchor&&"temporary"!==t.variant},style:{borderTop:"1px solid ".concat((t.vars||t).palette.divider)}}]}}))),m_={left:"right",right:"left",top:"down",bottom:"up"};const v_=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiDrawer"}),r=ww(),s=(()=>{const e=i.useContext(Eb);return null!==e&&void 0!==e&&e})(),a={enter:r.transitions.duration.enteringScreen,exit:r.transitions.duration.leavingScreen},{anchor:o="left",BackdropProps:c,children:u,className:h,elevation:d=16,hideBackdrop:f=!1,ModalProps:{BackdropProps:g}={},onClose:m,open:v=!1,PaperProps:y={},SlideProps:b,TransitionComponent:w=n_,transitionDuration:_=a,variant:S="temporary"}=n,E=l(n.ModalProps,u_),A=l(n,h_),k=i.useRef(!1);i.useEffect((()=>{k.current=!0}),[]);const x=function(e,t){let{direction:n}=e;return"rtl"===n&&function(e){return["left","right"].includes(e)}(t)?m_[t]:t}({direction:s?"rtl":"ltr"},o),C=o,T=p(p({},n),{},{anchor:C,elevation:d,open:v,variant:S},A),I=(e=>{const{classes:t,anchor:n,variant:r}=e;return Sb({root:["root"],docked:[("permanent"===r||"persistent"===r)&&"docked"],modal:["modal"],paper:["paper","paperAnchor".concat(l_(n)),"temporary"!==r&&"paperAnchorDocked".concat(l_(n))]},c_,t)})(T),R=(0,yf.jsx)(g_,p(p({elevation:"temporary"===S?d:0,square:!0},y),{},{className:Ef(I.paper,y.className),ownerState:T,children:u}));if("permanent"===S)return(0,yf.jsx)(f_,p(p({className:Ef(I.root,I.docked,h),ownerState:T,ref:t},A),{},{children:R}));const M=(0,yf.jsx)(w,p(p({in:v,direction:m_[x],timeout:_,appear:k.current},b),{},{children:R}));return"persistent"===S?(0,yf.jsx)(f_,p(p({className:Ef(I.root,I.docked,h),ownerState:T,ref:t},A),{},{children:M})):(0,yf.jsx)(p_,p(p(p({BackdropProps:p(p(p({},c),g),{},{transitionDuration:_}),className:Ef(I.root,I.modal,h),open:v,ownerState:T,onClose:m,hideBackdrop:f,ref:t},A),E),{},{children:M}))})),y_=v_;const b_=i.createContext({});function w_(e){return Yy("MuiList",e)}Jy("MuiList",["root","padding","dense","subheader"]);const __=["children","className","component","dense","disablePadding","subheader"],S_=Qb("ul",{name:"MuiList",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disablePadding&&t.padding,n.dense&&t.dense,n.subheader&&t.subheader]}})({listStyle:"none",margin:0,padding:0,position:"relative",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return t.subheader},style:{paddingTop:0}}]}),E_=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiList"}),{children:r,className:s,component:a="ul",dense:o=!1,disablePadding:c=!1,subheader:u}=n,h=l(n,__),d=i.useMemo((()=>({dense:o})),[o]),f=p(p({},n),{},{component:a,dense:o,disablePadding:c}),g=(e=>{const{classes:t,disablePadding:n,dense:r,subheader:i}=e;return Sb({root:["root",!n&&"padding",r&&"dense",i&&"subheader"]},w_,t)})(f);return(0,yf.jsx)(b_.Provider,{value:d,children:(0,yf.jsxs)(S_,p(p({as:a,className:Ef(g.root,s),ref:t,ownerState:f},h),{},{children:[u,r]}))})}));const A_=function(e){return"string"===typeof e};const k_=function(e,t){var n,r;return i.isValidElement(e)&&-1!==t.indexOf(null!==(n=e.type.muiName)&&void 0!==n?n:null===(r=e.type)||void 0===r||null===(r=r._payload)||void 0===r||null===(r=r.value)||void 0===r?void 0:r.muiName)};function x_(e){return Yy("MuiListItem",e)}Jy("MuiListItem",["root","container","dense","alignItemsFlexStart","divider","gutters","padding","secondaryAction"]);function C_(e){return Yy("MuiListItemButton",e)}const T_=Jy("MuiListItemButton",["root","focusVisible","dense","alignItemsFlexStart","disabled","divider","gutters","selected"]);function I_(e){return Yy("MuiListItemSecondaryAction",e)}Jy("MuiListItemSecondaryAction",["root","disableGutters"]);const R_=["className"],M_=Qb("div",{name:"MuiListItemSecondaryAction",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.disableGutters&&t.disableGutters]}})({position:"absolute",right:16,top:"50%",transform:"translateY(-50%)",variants:[{props:e=>{let{ownerState:t}=e;return t.disableGutters},style:{right:0}}]}),P_=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiListItemSecondaryAction"}),{className:r}=n,s=l(n,R_),a=i.useContext(b_),o=p(p({},n),{},{disableGutters:a.disableGutters}),c=(e=>{const{disableGutters:t,classes:n}=e;return Sb({root:["root",t&&"disableGutters"]},I_,n)})(o);return(0,yf.jsx)(M_,p({className:Ef(c.root,r),ownerState:o,ref:t},s))}));P_.muiName="ListItemSecondaryAction";const N_=P_,L_=["className"],D_=["alignItems","children","className","component","components","componentsProps","ContainerComponent","ContainerProps","dense","disableGutters","disablePadding","divider","secondaryAction","slotProps","slots"],O_=Qb("div",{name:"MuiListItem",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters,!n.disablePadding&&t.padding,n.hasSecondaryAction&&t.secondaryAction]}})(Jb((e=>{let{theme:t}=e;return{display:"flex",justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",width:"100%",boxSizing:"border-box",textAlign:"left",variants:[{props:e=>{let{ownerState:t}=e;return!t.disablePadding},style:{paddingTop:8,paddingBottom:8}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&t.dense},style:{paddingTop:4,paddingBottom:4}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return!t.disablePadding&&!!t.secondaryAction},style:{paddingRight:48}},{props:e=>{let{ownerState:t}=e;return!!t.secondaryAction},style:{["& > .".concat(T_.root)]:{paddingRight:48}}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:e=>{let{ownerState:t}=e;return t.button},style:{transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}}}},{props:e=>{let{ownerState:t}=e;return t.hasSecondaryAction},style:{paddingRight:48}}]}}))),F_=Qb("li",{name:"MuiListItem",slot:"Container",overridesResolver:(e,t)=>t.container})({position:"relative"}),j_=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiListItem"}),{alignItems:r="center",children:s,className:a,component:o,components:c={},componentsProps:u={},ContainerComponent:h="li",ContainerProps:{className:d}={},dense:f=!1,disableGutters:g=!1,disablePadding:m=!1,divider:v=!1,secondaryAction:y,slotProps:b={},slots:w={}}=n,_=l(n.ContainerProps,L_),S=l(n,D_),E=i.useContext(b_),A=i.useMemo((()=>({dense:f||E.dense||!1,alignItems:r,disableGutters:g})),[r,E.dense,f,g]),k=i.useRef(null),x=i.Children.toArray(s),C=x.length&&k_(x[x.length-1],["ListItemSecondaryAction"]),T=p(p({},n),{},{alignItems:r,dense:A.dense,disableGutters:g,disablePadding:m,divider:v,hasSecondaryAction:C}),I=(e=>{const{alignItems:t,classes:n,dense:r,disableGutters:i,disablePadding:s,divider:a,hasSecondaryAction:o}=e;return Sb({root:["root",r&&"dense",!i&&"gutters",!s&&"padding",a&&"divider","flex-start"===t&&"alignItemsFlexStart",o&&"secondaryAction"],container:["container"]},x_,n)})(T),R=Ew(k,t),M=w.root||c.Root||O_,P=b.root||u.root||{},N=p({className:Ef(I.root,P.className,a)},S);let L=o||"li";return C?(L=N.component||o?L:"div","li"===h&&("li"===L?L="div":"li"===N.component&&(N.component="div")),(0,yf.jsx)(b_.Provider,{value:A,children:(0,yf.jsxs)(F_,p(p({as:h,className:Ef(I.container,d),ref:R,ownerState:T},_),{},{children:[(0,yf.jsx)(M,p(p(p(p({},P),!A_(M)&&{as:L,ownerState:p(p({},T),P.ownerState)}),N),{},{children:x})),x.pop()]}))})):(0,yf.jsx)(b_.Provider,{value:A,children:(0,yf.jsxs)(M,p(p(p(p({},P),{},{as:L,ref:R},!A_(M)&&{ownerState:p(p({},T),P.ownerState)}),N),{},{children:[x,y&&(0,yf.jsx)(N_,{children:y})]}))})})),B_=j_;function z_(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[];return t=>{let[,n]=t;return n&&function(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];if(!function(e){return"string"===typeof e.main}(e))return!1;for(const n of t)if(!e.hasOwnProperty(n)||"string"!==typeof e[n])return!1;return!0}(n,e)}}function V_(e){try{return e.matches(":focus-visible")}catch(t){0}return!1}const U_=Nw,W_={};function H_(e,t){const n=i.useRef(W_);return n.current===W_&&(n.current=e(t)),n}class q_{static create(){return new q_}static use(){const e=H_(q_.create).current,[t,n]=i.useState(!1);return e.shouldMount=t,e.setShouldMount=n,i.useEffect(e.mountEffect,[t]),e}constructor(){h(this,"mountEffect",(()=>{this.shouldMount&&!this.didMount&&null!==this.ref.current&&(this.didMount=!0,this.mounted.resolve())})),this.ref={current:null},this.mounted=null,this.didMount=!1,this.shouldMount=!1,this.setShouldMount=null}mount(){return this.mounted||(this.mounted=function(){let e,t;const n=new Promise(((n,r)=>{e=n,t=r}));return n.resolve=e,n.reject=t,n}(),this.shouldMount=!0,this.setShouldMount(this.shouldMount)),this.mounted}start(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.start(...t)}))}stop(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.stop(...t)}))}pulsate(){for(var e=arguments.length,t=new Array(e),n=0;n<e;n++)t[n]=arguments[n];this.mount().then((()=>{var e;return null===(e=this.ref.current)||void 0===e?void 0:e.pulsate(...t)}))}}function G_(e,t){return t||(t=e.slice(0)),Object.freeze(Object.defineProperties(e,{raw:{value:Object.freeze(t)}}))}function K_(e,t){var n=Object.create(null);return e&&i.Children.map(e,(function(e){return e})).forEach((function(e){n[e.key]=function(e){return t&&(0,i.isValidElement)(e)?t(e):e}(e)})),n}function X_(e,t,n){return null!=n[t]?n[t]:e.props[t]}function Q_(e,t,n){var r=K_(e.children),s=function(e,t){function n(n){return n in t?t[n]:e[n]}e=e||{},t=t||{};var r,i=Object.create(null),s=[];for(var a in e)a in t?s.length&&(i[a]=s,s=[]):s.push(a);var o={};for(var l in t){if(i[l])for(r=0;r<i[l].length;r++){var c=i[l][r];o[i[l][r]]=n(c)}o[l]=n(l)}for(r=0;r<s.length;r++)o[s[r]]=n(s[r]);return o}(t,r);return Object.keys(s).forEach((function(a){var o=s[a];if((0,i.isValidElement)(o)){var l=a in t,c=a in r,u=t[a],h=(0,i.isValidElement)(u)&&!u.props.in;!c||l&&!h?c||!l||h?c&&l&&(0,i.isValidElement)(u)&&(s[a]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:u.props.in,exit:X_(o,"exit",e),enter:X_(o,"enter",e)})):s[a]=(0,i.cloneElement)(o,{in:!1}):s[a]=(0,i.cloneElement)(o,{onExited:n.bind(null,o),in:!0,exit:X_(o,"exit",e),enter:X_(o,"enter",e)})}})),s}var Y_=Object.values||function(e){return Object.keys(e).map((function(t){return e[t]}))},J_=function(e){function t(t,n){var r,i=(r=e.call(this,t,n)||this).handleExited.bind(function(e){if(void 0===e)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return e}(r));return r.state={contextValue:{isMounting:!0},handleExited:i,firstRender:!0},r}cw(t,e);var n=t.prototype;return n.componentDidMount=function(){this.mounted=!0,this.setState({contextValue:{isMounting:!1}})},n.componentWillUnmount=function(){this.mounted=!1},t.getDerivedStateFromProps=function(e,t){var n,r,s=t.children,a=t.handleExited;return{children:t.firstRender?(n=e,r=a,K_(n.children,(function(e){return(0,i.cloneElement)(e,{onExited:r.bind(null,e),in:!0,appear:X_(e,"appear",n),enter:X_(e,"enter",n),exit:X_(e,"exit",n)})}))):Q_(e,s,a),firstRender:!1}},n.handleExited=function(e,t){var n=K_(this.props.children);e.key in n||(e.props.onExited&&e.props.onExited(t),this.mounted&&this.setState((function(t){var n=Af({},t.children);return delete n[e.key],{children:n}})))},n.render=function(){var e=this.props,t=e.component,n=e.childFactory,r=o(e,["component","childFactory"]),s=this.state.contextValue,a=Y_(this.state.children).map(n);return delete r.appear,delete r.enter,delete r.exit,null===t?i.createElement(hw.Provider,{value:s},a):i.createElement(hw.Provider,{value:s},i.createElement(t,r,a))},t}(i.Component);J_.propTypes={},J_.defaultProps={component:"div",childFactory:function(e){return e}};const $_=J_,Z_=[];class eS{constructor(){h(this,"currentId",null),h(this,"clear",(()=>{null!==this.currentId&&(clearTimeout(this.currentId),this.currentId=null)})),h(this,"disposeEffect",(()=>this.clear))}static create(){return new eS}start(e,t){this.clear(),this.currentId=setTimeout((()=>{this.currentId=null,t()}),e)}}function tS(){const e=H_(eS.create).current;var t;return t=e.disposeEffect,i.useEffect(t,Z_),e}const nS=function(e){const{className:t,classes:n,pulsate:r=!1,rippleX:s,rippleY:a,rippleSize:o,in:l,onExited:c,timeout:u}=e,[h,d]=i.useState(!1),p=Ef(t,n.ripple,n.rippleVisible,r&&n.ripplePulsate),f={width:o,height:o,top:-o/2+a,left:-o/2+s},g=Ef(n.child,h&&n.childLeaving,r&&n.childPulsate);return l||h||d(!0),i.useEffect((()=>{if(!l&&null!=c){const e=setTimeout(c,u);return()=>{clearTimeout(e)}}}),[c,l,u]),(0,yf.jsx)("span",{className:p,style:f,children:(0,yf.jsx)("span",{className:g})})};const rS=Jy("MuiTouchRipple",["root","ripple","rippleVisible","ripplePulsate","child","childLeaving","childPulsate"]),iS=["center","classes","className"];var sS,aS,oS,lS;const cS=sb(sS||(sS=G_(["\n  0% {\n    transform: scale(0);\n    opacity: 0.1;\n  }\n\n  100% {\n    transform: scale(1);\n    opacity: 0.3;\n  }\n"]))),uS=sb(aS||(aS=G_(["\n  0% {\n    opacity: 1;\n  }\n\n  100% {\n    opacity: 0;\n  }\n"]))),hS=sb(oS||(oS=G_(["\n  0% {\n    transform: scale(1);\n  }\n\n  50% {\n    transform: scale(0.92);\n  }\n\n  100% {\n    transform: scale(1);\n  }\n"]))),dS=Qb("span",{name:"MuiTouchRipple",slot:"Root"})({overflow:"hidden",pointerEvents:"none",position:"absolute",zIndex:0,top:0,right:0,bottom:0,left:0,borderRadius:"inherit"}),pS=Qb(nS,{name:"MuiTouchRipple",slot:"Ripple"})(lS||(lS=G_(["\n  opacity: 0;\n  position: absolute;\n\n  &."," {\n    opacity: 0.3;\n    transform: scale(1);\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  &."," {\n    animation-duration: ","ms;\n  }\n\n  & ."," {\n    opacity: 1;\n    display: block;\n    width: 100%;\n    height: 100%;\n    border-radius: 50%;\n    background-color: currentColor;\n  }\n\n  & ."," {\n    opacity: 0;\n    animation-name: ",";\n    animation-duration: ","ms;\n    animation-timing-function: ",";\n  }\n\n  & ."," {\n    position: absolute;\n    /* @noflip */\n    left: 0px;\n    top: 0;\n    animation-name: ",";\n    animation-duration: 2500ms;\n    animation-timing-function: ",";\n    animation-iteration-count: infinite;\n    animation-delay: 200ms;\n  }\n"])),rS.rippleVisible,cS,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),rS.ripplePulsate,(e=>{let{theme:t}=e;return t.transitions.duration.shorter}),rS.child,rS.childLeaving,uS,550,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut}),rS.childPulsate,hS,(e=>{let{theme:t}=e;return t.transitions.easing.easeInOut})),fS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiTouchRipple"}),{center:r=!1,classes:s={},className:a}=n,o=l(n,iS),[c,u]=i.useState([]),h=i.useRef(0),d=i.useRef(null);i.useEffect((()=>{d.current&&(d.current(),d.current=null)}),[c]);const f=i.useRef(!1),g=tS(),m=i.useRef(null),v=i.useRef(null),y=i.useCallback((e=>{const{pulsate:t,rippleX:n,rippleY:r,rippleSize:i,cb:a}=e;u((e=>[...e,(0,yf.jsx)(pS,{classes:{ripple:Ef(s.ripple,rS.ripple),rippleVisible:Ef(s.rippleVisible,rS.rippleVisible),ripplePulsate:Ef(s.ripplePulsate,rS.ripplePulsate),child:Ef(s.child,rS.child),childLeaving:Ef(s.childLeaving,rS.childLeaving),childPulsate:Ef(s.childPulsate,rS.childPulsate)},timeout:550,pulsate:t,rippleX:n,rippleY:r,rippleSize:i},h.current)])),h.current+=1,d.current=a}),[s]),b=i.useCallback((function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:()=>{};const{pulsate:i=!1,center:s=r||t.pulsate,fakeElement:a=!1}=t;if("mousedown"===(null===e||void 0===e?void 0:e.type)&&f.current)return void(f.current=!1);"touchstart"===(null===e||void 0===e?void 0:e.type)&&(f.current=!0);const o=a?null:v.current,l=o?o.getBoundingClientRect():{width:0,height:0,left:0,top:0};let c,u,h;if(s||void 0===e||0===e.clientX&&0===e.clientY||!e.clientX&&!e.touches)c=Math.round(l.width/2),u=Math.round(l.height/2);else{const{clientX:t,clientY:n}=e.touches&&e.touches.length>0?e.touches[0]:e;c=Math.round(t-l.left),u=Math.round(n-l.top)}if(s)h=Math.sqrt((2*l.width**2+l.height**2)/3),h%2===0&&(h+=1);else{const e=2*Math.max(Math.abs((o?o.clientWidth:0)-c),c)+2,t=2*Math.max(Math.abs((o?o.clientHeight:0)-u),u)+2;h=Math.sqrt(e**2+t**2)}null!==e&&void 0!==e&&e.touches?null===m.current&&(m.current=()=>{y({pulsate:i,rippleX:c,rippleY:u,rippleSize:h,cb:n})},g.start(80,(()=>{m.current&&(m.current(),m.current=null)}))):y({pulsate:i,rippleX:c,rippleY:u,rippleSize:h,cb:n})}),[r,y,g]),w=i.useCallback((()=>{b({},{pulsate:!0})}),[b]),_=i.useCallback(((e,t)=>{if(g.clear(),"touchend"===(null===e||void 0===e?void 0:e.type)&&m.current)return m.current(),m.current=null,void g.start(0,(()=>{_(e,t)}));m.current=null,u((e=>e.length>0?e.slice(1):e)),d.current=t}),[g]);return i.useImperativeHandle(t,(()=>({pulsate:w,start:b,stop:_})),[w,b,_]),(0,yf.jsx)(dS,p(p({className:Ef(rS.root,s.root,a),ref:v},o),{},{children:(0,yf.jsx)($_,{component:null,exit:!0,children:c})}))}));function gS(e){return Yy("MuiButtonBase",e)}const mS=Jy("MuiButtonBase",["root","disabled","focusVisible"]),vS=["action","centerRipple","children","className","component","disabled","disableRipple","disableTouchRipple","focusRipple","focusVisibleClassName","LinkComponent","onBlur","onClick","onContextMenu","onDragLeave","onFocus","onFocusVisible","onKeyDown","onKeyUp","onMouseDown","onMouseLeave","onMouseUp","onTouchEnd","onTouchMove","onTouchStart","tabIndex","TouchRippleProps","touchRippleRef","type"],yS=Qb("button",{name:"MuiButtonBase",slot:"Root",overridesResolver:(e,t)=>t.root})({display:"inline-flex",alignItems:"center",justifyContent:"center",position:"relative",boxSizing:"border-box",WebkitTapHighlightColor:"transparent",backgroundColor:"transparent",outline:0,border:0,margin:0,borderRadius:0,padding:0,cursor:"pointer",userSelect:"none",verticalAlign:"middle",MozAppearance:"none",WebkitAppearance:"none",textDecoration:"none",color:"inherit","&::-moz-focus-inner":{borderStyle:"none"},["&.".concat(mS.disabled)]:{pointerEvents:"none",cursor:"default"},"@media print":{colorAdjust:"exact"}});function bS(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return U_((i=>(n&&n(i),r||e[t](i),!0)))}const wS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiButtonBase"}),{action:r,centerRipple:s=!1,children:a,className:o,component:c="button",disabled:u=!1,disableRipple:h=!1,disableTouchRipple:d=!1,focusRipple:f=!1,focusVisibleClassName:g,LinkComponent:m="a",onBlur:v,onClick:y,onContextMenu:b,onDragLeave:w,onFocus:_,onFocusVisible:S,onKeyDown:E,onKeyUp:A,onMouseDown:k,onMouseLeave:x,onMouseUp:C,onTouchEnd:T,onTouchMove:I,onTouchStart:R,tabIndex:M=0,TouchRippleProps:P,touchRippleRef:N,type:L}=n,D=l(n,vS),O=i.useRef(null),F=q_.use(),j=Ew(F.ref,N),[B,z]=i.useState(!1);u&&B&&z(!1),i.useImperativeHandle(r,(()=>({focusVisible:()=>{z(!0),O.current.focus()}})),[]);const V=F.shouldMount&&!h&&!u;i.useEffect((()=>{B&&f&&!h&&F.pulsate()}),[h,f,B,F]);const U=bS(F,"start",k,d),W=bS(F,"stop",b,d),H=bS(F,"stop",w,d),q=bS(F,"stop",C,d),G=bS(F,"stop",(e=>{B&&e.preventDefault(),x&&x(e)}),d),K=bS(F,"start",R,d),X=bS(F,"stop",T,d),Q=bS(F,"stop",I,d),Y=bS(F,"stop",(e=>{V_(e.target)||z(!1),v&&v(e)}),!1),J=U_((e=>{O.current||(O.current=e.currentTarget),V_(e.target)&&(z(!0),S&&S(e)),_&&_(e)})),$=()=>{const e=O.current;return c&&"button"!==c&&!("A"===e.tagName&&e.href)},Z=U_((e=>{f&&!e.repeat&&B&&" "===e.key&&F.stop(e,(()=>{F.start(e)})),e.target===e.currentTarget&&$()&&" "===e.key&&e.preventDefault(),E&&E(e),e.target===e.currentTarget&&$()&&"Enter"===e.key&&!u&&(e.preventDefault(),y&&y(e))})),ee=U_((e=>{f&&" "===e.key&&B&&!e.defaultPrevented&&F.stop(e,(()=>{F.pulsate(e)})),A&&A(e),y&&e.target===e.currentTarget&&$()&&" "===e.key&&!e.defaultPrevented&&y(e)}));let te=c;"button"===te&&(D.href||D.to)&&(te=m);const ne={};"button"===te?(ne.type=void 0===L?"button":L,ne.disabled=u):(D.href||D.to||(ne.role="button"),u&&(ne["aria-disabled"]=u));const re=Ew(t,O),ie=p(p({},n),{},{centerRipple:s,component:c,disabled:u,disableRipple:h,disableTouchRipple:d,focusRipple:f,tabIndex:M,focusVisible:B}),se=(e=>{const{disabled:t,focusVisible:n,focusVisibleClassName:r,classes:i}=e,s=Sb({root:["root",t&&"disabled",n&&"focusVisible"]},gS,i);return n&&r&&(s.root+=" ".concat(r)),s})(ie);return(0,yf.jsxs)(yS,p(p(p({as:te,className:Ef(se.root,o),ownerState:ie,onBlur:Y,onClick:y,onContextMenu:W,onFocus:J,onKeyDown:Z,onKeyUp:ee,onMouseDown:U,onMouseLeave:G,onMouseUp:q,onDragLeave:H,onTouchEnd:X,onTouchMove:Q,onTouchStart:K,ref:re,tabIndex:u?-1:M,type:L},ne),D),{},{children:[a,V?(0,yf.jsx)(fS,p({ref:j,center:s},P)):null]}))}));function _S(e){return Yy("MuiIconButton",e)}const SS=Jy("MuiIconButton",["root","disabled","colorInherit","colorPrimary","colorSecondary","colorError","colorInfo","colorSuccess","colorWarning","edgeStart","edgeEnd","sizeSmall","sizeMedium","sizeLarge"]),ES=["edge","children","className","color","disabled","disableFocusRipple","size"],AS=Qb(wS,{name:"MuiIconButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"default"!==n.color&&t["color".concat(l_(n.color))],n.edge&&t["edge".concat(l_(n.edge))],t["size".concat(l_(n.size))]]}})(Jb((e=>{let{theme:t}=e;return{textAlign:"center",flex:"0 0 auto",fontSize:t.typography.pxToRem(24),padding:8,borderRadius:"50%",color:(t.vars||t).palette.action.active,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),variants:[{props:e=>!e.disableRipple,style:{"--IconButton-hoverBg":t.vars?"rgba(".concat(t.vars.palette.action.activeChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Fv(t.palette.action.active,t.palette.action.hoverOpacity),"&:hover":{backgroundColor:"var(--IconButton-hoverBg)","@media (hover: none)":{backgroundColor:"transparent"}}}},{props:{edge:"start"},style:{marginLeft:-12}},{props:{edge:"start",size:"small"},style:{marginLeft:-3}},{props:{edge:"end"},style:{marginRight:-12}},{props:{edge:"end",size:"small"},style:{marginRight:-3}}]}})),Jb((e=>{let{theme:t}=e;return{variants:[{props:{color:"inherit"},style:{color:"inherit"}},...Object.entries(t.palette).filter(z_()).map((e=>{let[n]=e;return{props:{color:n},style:{color:(t.vars||t).palette[n].main}}})),...Object.entries(t.palette).filter(z_()).map((e=>{let[n]=e;return{props:{color:n},style:{"--IconButton-hoverBg":t.vars?"rgba(".concat((t.vars||t).palette[n].mainChannel," / ").concat(t.vars.palette.action.hoverOpacity,")"):Fv((t.vars||t).palette[n].main,t.palette.action.hoverOpacity)}}})),{props:{size:"small"},style:{padding:5,fontSize:t.typography.pxToRem(18)}},{props:{size:"large"},style:{padding:12,fontSize:t.typography.pxToRem(28)}}],["&.".concat(SS.disabled)]:{backgroundColor:"transparent",color:(t.vars||t).palette.action.disabled}}}))),kS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiIconButton"}),{edge:r=!1,children:i,className:s,color:a="default",disabled:o=!1,disableFocusRipple:c=!1,size:u="medium"}=n,h=l(n,ES),d=p(p({},n),{},{edge:r,color:a,disabled:o,disableFocusRipple:c,size:u}),f=(e=>{const{classes:t,disabled:n,color:r,edge:i,size:s}=e;return Sb({root:["root",n&&"disabled","default"!==r&&"color".concat(l_(r)),i&&"edge".concat(l_(i)),"size".concat(l_(s))]},_S,t)})(d);return(0,yf.jsx)(AS,p(p({className:Ef(f.root,s),centerRipple:!0,focusRipple:!c,disabled:o,ref:t},h),{},{ownerState:d,children:i}))})),xS=kS;function CS(e){return Yy("MuiDivider",e)}Jy("MuiDivider",["root","absolute","fullWidth","inset","middle","flexItem","light","vertical","withChildren","withChildrenVertical","textAlignRight","textAlignLeft","wrapper","wrapperVertical"]);const TS=["absolute","children","className","orientation","component","flexItem","light","role","textAlign","variant"],IS=Qb("div",{name:"MuiDivider",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.absolute&&t.absolute,t[n.variant],n.light&&t.light,"vertical"===n.orientation&&t.vertical,n.flexItem&&t.flexItem,n.children&&t.withChildren,n.children&&"vertical"===n.orientation&&t.withChildrenVertical,"right"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignRight,"left"===n.textAlign&&"vertical"!==n.orientation&&t.textAlignLeft]}})(Jb((e=>{let{theme:t}=e;return{margin:0,flexShrink:0,borderWidth:0,borderStyle:"solid",borderColor:(t.vars||t).palette.divider,borderBottomWidth:"thin",variants:[{props:{absolute:!0},style:{position:"absolute",bottom:0,left:0,width:"100%"}},{props:{light:!0},style:{borderColor:t.vars?"rgba(".concat(t.vars.palette.dividerChannel," / 0.08)"):Fv(t.palette.divider,.08)}},{props:{variant:"inset"},style:{marginLeft:72}},{props:{variant:"middle",orientation:"horizontal"},style:{marginLeft:t.spacing(2),marginRight:t.spacing(2)}},{props:{variant:"middle",orientation:"vertical"},style:{marginTop:t.spacing(1),marginBottom:t.spacing(1)}},{props:{orientation:"vertical"},style:{height:"100%",borderBottomWidth:0,borderRightWidth:"thin"}},{props:{flexItem:!0},style:{alignSelf:"stretch",height:"auto"}},{props:e=>{let{ownerState:t}=e;return!!t.children},style:{display:"flex",textAlign:"center",border:0,borderTopStyle:"solid",borderLeftStyle:"solid","&::before, &::after":{content:'""',alignSelf:"center"}}},{props:e=>{let{ownerState:t}=e;return t.children&&"vertical"!==t.orientation},style:{"&::before, &::after":{width:"100%",borderTop:"thin solid ".concat((t.vars||t).palette.divider),borderTopStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"vertical"===t.orientation&&t.children},style:{flexDirection:"column","&::before, &::after":{height:"100%",borderLeft:"thin solid ".concat((t.vars||t).palette.divider),borderLeftStyle:"inherit"}}},{props:e=>{let{ownerState:t}=e;return"right"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"90%"},"&::after":{width:"10%"}}},{props:e=>{let{ownerState:t}=e;return"left"===t.textAlign&&"vertical"!==t.orientation},style:{"&::before":{width:"10%"},"&::after":{width:"90%"}}}]}}))),RS=Qb("span",{name:"MuiDivider",slot:"Wrapper",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.wrapper,"vertical"===n.orientation&&t.wrapperVertical]}})(Jb((e=>{let{theme:t}=e;return{display:"inline-block",paddingLeft:"calc(".concat(t.spacing(1)," * 1.2)"),paddingRight:"calc(".concat(t.spacing(1)," * 1.2)"),whiteSpace:"nowrap",variants:[{props:{orientation:"vertical"},style:{paddingTop:"calc(".concat(t.spacing(1)," * 1.2)"),paddingBottom:"calc(".concat(t.spacing(1)," * 1.2)")}}]}}))),MS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiDivider"}),{absolute:r=!1,children:i,className:s,orientation:a="horizontal",component:o=(i||"vertical"===a?"div":"hr"),flexItem:c=!1,light:u=!1,role:h=("hr"!==o?"separator":void 0),textAlign:d="center",variant:f="fullWidth"}=n,g=l(n,TS),m=p(p({},n),{},{absolute:r,component:o,flexItem:c,light:u,orientation:a,role:h,textAlign:d,variant:f}),v=(e=>{const{absolute:t,children:n,classes:r,flexItem:i,light:s,orientation:a,textAlign:o,variant:l}=e;return Sb({root:["root",t&&"absolute",l,s&&"light","vertical"===a&&"vertical",i&&"flexItem",n&&"withChildren",n&&"vertical"===a&&"withChildrenVertical","right"===o&&"vertical"!==a&&"textAlignRight","left"===o&&"vertical"!==a&&"textAlignLeft"],wrapper:["wrapper","vertical"===a&&"wrapperVertical"]},CS,r)})(m);return(0,yf.jsx)(IS,p(p({as:o,className:Ef(v.root,s),role:h,ref:t,ownerState:m,"aria-orientation":"separator"!==h||"hr"===o&&"vertical"!==a?void 0:a},g),{},{children:i?(0,yf.jsx)(RS,{className:v.wrapper,ownerState:m,children:i}):null}))}));MS&&(MS.muiSkipListHighlight=!0);const PS=MS,NS=Nb,LS=["alignItems","autoFocus","component","children","dense","disableGutters","divider","focusVisibleClassName","selected","className"],DS=Qb(wS,{shouldForwardProp:e=>Kb(e)||"classes"===e,name:"MuiListItemButton",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.dense&&t.dense,"flex-start"===n.alignItems&&t.alignItemsFlexStart,n.divider&&t.divider,!n.disableGutters&&t.gutters]}})(Jb((e=>{let{theme:t}=e;return{display:"flex",flexGrow:1,justifyContent:"flex-start",alignItems:"center",position:"relative",textDecoration:"none",minWidth:0,boxSizing:"border-box",textAlign:"left",paddingTop:8,paddingBottom:8,transition:t.transitions.create("background-color",{duration:t.transitions.duration.shortest}),"&:hover":{textDecoration:"none",backgroundColor:(t.vars||t).palette.action.hover,"@media (hover: none)":{backgroundColor:"transparent"}},["&.".concat(T_.selected)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):Fv(t.palette.primary.main,t.palette.action.selectedOpacity),["&.".concat(T_.focusVisible)]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.focusOpacity,"))"):Fv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.focusOpacity)}},["&.".concat(T_.selected,":hover")]:{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / calc(").concat(t.vars.palette.action.selectedOpacity," + ").concat(t.vars.palette.action.hoverOpacity,"))"):Fv(t.palette.primary.main,t.palette.action.selectedOpacity+t.palette.action.hoverOpacity),"@media (hover: none)":{backgroundColor:t.vars?"rgba(".concat(t.vars.palette.primary.mainChannel," / ").concat(t.vars.palette.action.selectedOpacity,")"):Fv(t.palette.primary.main,t.palette.action.selectedOpacity)}},["&.".concat(T_.focusVisible)]:{backgroundColor:(t.vars||t).palette.action.focus},["&.".concat(T_.disabled)]:{opacity:(t.vars||t).palette.action.disabledOpacity},variants:[{props:e=>{let{ownerState:t}=e;return t.divider},style:{borderBottom:"1px solid ".concat((t.vars||t).palette.divider),backgroundClip:"padding-box"}},{props:{alignItems:"flex-start"},style:{alignItems:"flex-start"}},{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:16,paddingRight:16}},{props:e=>{let{ownerState:t}=e;return t.dense},style:{paddingTop:4,paddingBottom:4}}]}}))),OS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiListItemButton"}),{alignItems:r="center",autoFocus:s=!1,component:a="div",children:o,dense:c=!1,disableGutters:u=!1,divider:h=!1,focusVisibleClassName:d,selected:f=!1,className:g}=n,m=l(n,LS),v=i.useContext(b_),y=i.useMemo((()=>({dense:c||v.dense||!1,alignItems:r,disableGutters:u})),[r,v.dense,c,u]),b=i.useRef(null);NS((()=>{s&&b.current&&b.current.focus()}),[s]);const w=p(p({},n),{},{alignItems:r,dense:y.dense,disableGutters:u,divider:h,selected:f}),_=(e=>{const{alignItems:t,classes:n,dense:r,disabled:i,disableGutters:s,divider:a,selected:o}=e,l=Sb({root:["root",r&&"dense",!s&&"gutters",a&&"divider",i&&"disabled","flex-start"===t&&"alignItemsFlexStart",o&&"selected"]},C_,n);return p(p({},n),l)})(w),S=Ew(b,t);return(0,yf.jsx)(b_.Provider,{value:y,children:(0,yf.jsx)(DS,p(p({ref:S,href:m.href||m.to,component:(m.href||m.to)&&"div"===a?"button":a,focusVisibleClassName:Ef(_.focusVisible,d),ownerState:w,className:Ef(_.root,g)},m),{},{classes:_,children:o}))})}));function FS(e){return Yy("MuiListItemIcon",e)}Jy("MuiListItemIcon",["root","alignItemsFlexStart"]);const jS=["className"],BS=Qb("div",{name:"MuiListItemIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"flex-start"===n.alignItems&&t.alignItemsFlexStart]}})(Jb((e=>{let{theme:t}=e;return{minWidth:56,color:(t.vars||t).palette.action.active,flexShrink:0,display:"inline-flex",variants:[{props:{alignItems:"flex-start"},style:{marginTop:8}}]}}))),zS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiListItemIcon"}),{className:r}=n,s=l(n,jS),a=i.useContext(b_),o=p(p({},n),{},{alignItems:a.alignItems}),c=(e=>{const{alignItems:t,classes:n}=e;return Sb({root:["root","flex-start"===t&&"alignItemsFlexStart"]},FS,n)})(o);return(0,yf.jsx)(BS,p({className:Ef(c.root,r),ownerState:o,ref:t},s))}));function VS(e){return Yy("MuiTypography",e)}const US=Jy("MuiTypography",["root","h1","h2","h3","h4","h5","h6","subtitle1","subtitle2","body1","body2","inherit","button","caption","overline","alignLeft","alignRight","alignCenter","alignJustify","noWrap","gutterBottom","paragraph"]),WS=["color"],HS=["align","className","component","gutterBottom","noWrap","paragraph","variant","variantMapping"],qS={primary:!0,secondary:!0,error:!0,info:!0,success:!0,warning:!0,textPrimary:!0,textSecondary:!0,textDisabled:!0},GS=mv,KS=Qb("span",{name:"MuiTypography",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,n.variant&&t[n.variant],"inherit"!==n.align&&t["align".concat(l_(n.align))],n.noWrap&&t.noWrap,n.gutterBottom&&t.gutterBottom,n.paragraph&&t.paragraph]}})(Jb((e=>{var t;let{theme:n}=e;return{margin:0,variants:[{props:{variant:"inherit"},style:{font:"inherit",lineHeight:"inherit",letterSpacing:"inherit"}},...Object.entries(n.typography).filter((e=>{let[t,n]=e;return"inherit"!==t&&n&&"object"===typeof n})).map((e=>{let[t,n]=e;return{props:{variant:t},style:n}})),...Object.entries(n.palette).filter(z_()).map((e=>{let[t]=e;return{props:{color:t},style:{color:(n.vars||n).palette[t].main}}})),...Object.entries((null===(t=n.palette)||void 0===t?void 0:t.text)||{}).filter((e=>{let[,t]=e;return"string"===typeof t})).map((e=>{let[t]=e;return{props:{color:"text".concat(l_(t))},style:{color:(n.vars||n).palette.text[t]}}})),{props:e=>{let{ownerState:t}=e;return"inherit"!==t.align},style:{textAlign:"var(--Typography-textAlign)"}},{props:e=>{let{ownerState:t}=e;return t.noWrap},style:{overflow:"hidden",textOverflow:"ellipsis",whiteSpace:"nowrap"}},{props:e=>{let{ownerState:t}=e;return t.gutterBottom},style:{marginBottom:"0.35em"}},{props:e=>{let{ownerState:t}=e;return t.paragraph},style:{marginBottom:16}}]}}))),XS={h1:"h1",h2:"h2",h3:"h3",h4:"h4",h5:"h5",h6:"h6",subtitle1:"h6",subtitle2:"h6",body1:"p",body2:"p",inherit:"p"},QS=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiTypography"}),{color:r}=n,i=l(n,WS),s=!qS[r],a=GS(p(p({},i),s&&{color:r})),{align:o="inherit",className:c,component:u,gutterBottom:h=!1,noWrap:d=!1,paragraph:f=!1,variant:g="body1",variantMapping:m=XS}=a,v=l(a,HS),y=p(p({},a),{},{align:o,color:r,className:c,component:u,gutterBottom:h,noWrap:d,paragraph:f,variant:g,variantMapping:m}),b=u||(f?"p":m[g]||XS[g])||"span",w=(e=>{const{align:t,gutterBottom:n,noWrap:r,paragraph:i,variant:s,classes:a}=e;return Sb({root:["root",s,"inherit"!==e.align&&"align".concat(l_(t)),n&&"gutterBottom",r&&"noWrap",i&&"paragraph"]},VS,a)})(y);return(0,yf.jsx)(KS,p(p({as:b,ref:t,className:Ef(w.root,c)},v),{},{ownerState:y,style:p(p({},"inherit"!==o&&{"--Typography-textAlign":o}),v.style)}))})),YS=QS;function JS(e){return Yy("MuiListItemText",e)}const $S=Jy("MuiListItemText",["root","multiline","dense","inset","primary","secondary"]),ZS=["children","className","disableTypography","inset","primary","primaryTypographyProps","secondary","secondaryTypographyProps","slots","slotProps"],eE=Qb("div",{name:"MuiListItemText",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[{["& .".concat($S.primary)]:t.primary},{["& .".concat($S.secondary)]:t.secondary},t.root,n.inset&&t.inset,n.primary&&n.secondary&&t.multiline,n.dense&&t.dense]}})({flex:"1 1 auto",minWidth:0,marginTop:4,marginBottom:4,[".".concat(US.root,":where(& .").concat($S.primary,")")]:{display:"block"},[".".concat(US.root,":where(& .").concat($S.secondary,")")]:{display:"block"},variants:[{props:e=>{let{ownerState:t}=e;return t.primary&&t.secondary},style:{marginTop:6,marginBottom:6}},{props:e=>{let{ownerState:t}=e;return t.inset},style:{paddingLeft:56}}]}),tE=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiListItemText"}),{children:r,className:s,disableTypography:a=!1,inset:o=!1,primary:c,primaryTypographyProps:u,secondary:h,secondaryTypographyProps:d,slots:f={},slotProps:g={}}=n,m=l(n,ZS),{dense:v}=i.useContext(b_);let y=null!=c?c:r,b=h;const w=p(p({},n),{},{disableTypography:a,inset:o,primary:!!y,secondary:!!b,dense:v}),_=(e=>{const{classes:t,inset:n,primary:r,secondary:i,dense:s}=e;return Sb({root:["root",n&&"inset",s&&"dense",r&&i&&"multiline"],primary:["primary"],secondary:["secondary"]},JS,t)})(w),S={slots:f,slotProps:p({primary:u,secondary:d},g)},[E,A]=ow("primary",{className:_.primary,elementType:YS,externalForwardedProps:S,ownerState:w}),[k,x]=ow("secondary",{className:_.secondary,elementType:YS,externalForwardedProps:S,ownerState:w});return null==y||y.type===YS||a||(y=(0,yf.jsx)(E,p(p({variant:v?"body2":"body1",component:null!==A&&void 0!==A&&A.variant?void 0:"span"},A),{},{children:y}))),null==b||b.type===YS||a||(b=(0,yf.jsx)(k,p(p({variant:"body2",color:"textSecondary"},x),{},{children:b}))),(0,yf.jsxs)(eE,p(p({className:Ef(_.root,s),ownerState:w,ref:t},m),{},{children:[y,b]}))}));function nE(e){return Yy("MuiSvgIcon",e)}Jy("MuiSvgIcon",["root","colorPrimary","colorSecondary","colorAction","colorError","colorDisabled","fontSizeInherit","fontSizeSmall","fontSizeMedium","fontSizeLarge"]);const rE=["children","className","color","component","fontSize","htmlColor","inheritViewBox","titleAccess","viewBox"],iE=Qb("svg",{name:"MuiSvgIcon",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,"inherit"!==n.color&&t["color".concat(l_(n.color))],t["fontSize".concat(l_(n.fontSize))]]}})(Jb((e=>{var t,n,r,i,s,a,o,l,c,u,h,d,p,f,g;let{theme:m}=e;return{userSelect:"none",width:"1em",height:"1em",display:"inline-block",flexShrink:0,transition:null===(t=m.transitions)||void 0===t||null===(n=t.create)||void 0===n?void 0:n.call(t,"fill",{duration:null===(r=(null!==(i=m.vars)&&void 0!==i?i:m).transitions)||void 0===r||null===(r=r.duration)||void 0===r?void 0:r.shorter}),variants:[{props:e=>!e.hasSvgAsChild,style:{fill:"currentColor"}},{props:{fontSize:"inherit"},style:{fontSize:"inherit"}},{props:{fontSize:"small"},style:{fontSize:(null===(s=m.typography)||void 0===s||null===(a=s.pxToRem)||void 0===a?void 0:a.call(s,20))||"1.25rem"}},{props:{fontSize:"medium"},style:{fontSize:(null===(o=m.typography)||void 0===o||null===(l=o.pxToRem)||void 0===l?void 0:l.call(o,24))||"1.5rem"}},{props:{fontSize:"large"},style:{fontSize:(null===(c=m.typography)||void 0===c||null===(u=c.pxToRem)||void 0===u?void 0:u.call(c,35))||"2.1875rem"}},...Object.entries((null!==(h=m.vars)&&void 0!==h?h:m).palette).filter((e=>{let[,t]=e;return t&&t.main})).map((e=>{var t,n;let[r]=e;return{props:{color:r},style:{color:null===(t=(null!==(n=m.vars)&&void 0!==n?n:m).palette)||void 0===t||null===(t=t[r])||void 0===t?void 0:t.main}}})),{props:{color:"action"},style:{color:null===(d=(null!==(p=m.vars)&&void 0!==p?p:m).palette)||void 0===d||null===(d=d.action)||void 0===d?void 0:d.active}},{props:{color:"disabled"},style:{color:null===(f=(null!==(g=m.vars)&&void 0!==g?g:m).palette)||void 0===f||null===(f=f.action)||void 0===f?void 0:f.disabled}},{props:{color:"inherit"},style:{color:void 0}}]}}))),sE=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiSvgIcon"}),{children:r,className:s,color:a="inherit",component:o="svg",fontSize:c="medium",htmlColor:u,inheritViewBox:h=!1,titleAccess:d,viewBox:f="0 0 24 24"}=n,g=l(n,rE),m=i.isValidElement(r)&&"svg"===r.type,v=p(p({},n),{},{color:a,component:o,fontSize:c,instanceFontSize:e.fontSize,inheritViewBox:h,viewBox:f,hasSvgAsChild:m}),y={};h||(y.viewBox=f);const b=(e=>{const{color:t,fontSize:n,classes:r}=e;return Sb({root:["root","inherit"!==t&&"color".concat(l_(t)),"fontSize".concat(l_(n))]},nE,r)})(v);return(0,yf.jsxs)(iE,p(p(p(p({as:o,className:Ef(b.root,s),focusable:"false",color:u,"aria-hidden":!d||void 0,role:d?"img":void 0,ref:t},y),g),m&&r.props),{},{ownerState:v,children:[m?r.props.children:r,d?(0,yf.jsx)("title",{children:d}):null]}))}));sE.muiName="SvgIcon";const aE=sE;function oE(e,t){function n(n,r){return(0,yf.jsx)(aE,p(p({"data-testid":"".concat(t,"Icon"),ref:r},n),{},{children:e}))}return n.muiName=aE.muiName,i.memo(i.forwardRef(n))}const lE=oE((0,yf.jsx)("path",{d:"M10 20v-6h4v6h5v-8h3L12 3 2 12h3v8z"}),"Home"),cE=oE((0,yf.jsx)("path",{d:"M19.35 10.04C18.67 6.59 15.64 4 12 4 9.11 4 6.6 5.64 5.35 8.04 2.34 8.36 0 10.91 0 14c0 3.31 2.69 6 6 6h13c2.76 0 5-2.24 5-5 0-2.64-2.05-4.78-4.65-4.96M14 13v4h-4v-4H7l5-5 5 5z"}),"CloudUpload"),uE=oE((0,yf.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m-2 15-5-5 1.41-1.41L10 14.17l7.59-7.59L19 8z"}),"CheckCircle"),hE=oE((0,yf.jsx)("path",{d:"M15 12c2.21 0 4-1.79 4-4s-1.79-4-4-4-4 1.79-4 4 1.79 4 4 4m-9-2V7H4v3H1v2h3v3h2v-3h3v-2zm9 4c-2.67 0-8 1.34-8 4v2h16v-2c0-2.66-5.33-4-8-4"}),"PersonAdd"),dE=oE((0,yf.jsx)("path",{d:"M3 18h18v-2H3zm0-5h18v-2H3zm0-7v2h18V6z"}),"Menu"),pE=e=>{let{open:t}=e;const n=fe(),{user:r}=_f(),i=[{text:"Home",icon:(0,yf.jsx)(lE,{}),path:"/home"},{text:"Document Upload",icon:(0,yf.jsx)(cE,{}),path:"/document-upload-dashboard"},{text:"Verification",icon:(0,yf.jsx)(uE,{}),path:"/verification-dashboard"}];return"super_admin"===(null===r||void 0===r?void 0:r.role)&&i.push({text:"Add New User",icon:(0,yf.jsx)(hE,{}),path:"/add-user"}),(0,yf.jsxs)(y_,{variant:"permanent",sx:{width:t?240:60,flexShrink:0,transition:"width 0.3s ease-in-out","& .MuiDrawer-paper":{width:t?240:60,overflowX:"hidden",transition:"width 0.3s ease-in-out"}},children:[(0,yf.jsx)(E_,{children:(0,yf.jsx)(B_,{disablePadding:!0,children:(0,yf.jsx)(xS,{sx:{margin:"10px auto"},onClick:()=>t.toggleSidebar(),children:(0,yf.jsx)(dE,{})})})}),(0,yf.jsx)(PS,{}),(0,yf.jsx)(E_,{children:i.map((e=>(0,yf.jsx)(B_,{disablePadding:!0,children:(0,yf.jsxs)(OS,{sx:{height:40},onClick:()=>n(e.path),children:[(0,yf.jsx)(zS,{children:e.icon}),t&&(0,yf.jsx)(tE,{primary:e.text})]})},e.text)))})]})};function fE(e){return Yy("MuiAppBar",e)}Jy("MuiAppBar",["root","positionFixed","positionAbsolute","positionSticky","positionStatic","positionRelative","colorDefault","colorPrimary","colorSecondary","colorInherit","colorTransparent","colorError","colorInfo","colorSuccess","colorWarning"]);const gE=["className","color","enableColorOnDark","position"],mE=(e,t)=>e?"".concat(null===e||void 0===e?void 0:e.replace(")",""),", ").concat(t,")"):t,vE=Qb(o_,{name:"MuiAppBar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,t["position".concat(l_(n.position))],t["color".concat(l_(n.color))]]}})(Jb((e=>{let{theme:t}=e;return{display:"flex",flexDirection:"column",width:"100%",boxSizing:"border-box",flexShrink:0,variants:[{props:{position:"fixed"},style:{position:"fixed",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0,"@media print":{position:"absolute"}}},{props:{position:"absolute"},style:{position:"absolute",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"sticky"},style:{position:"sticky",zIndex:(t.vars||t).zIndex.appBar,top:0,left:"auto",right:0}},{props:{position:"static"},style:{position:"static"}},{props:{position:"relative"},style:{position:"relative"}},{props:{color:"inherit"},style:{"--AppBar-color":"inherit"}},{props:{color:"default"},style:p({"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[100],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[100])},t.applyStyles("dark",{"--AppBar-background":t.vars?t.vars.palette.AppBar.defaultBg:t.palette.grey[900],"--AppBar-color":t.vars?t.vars.palette.text.primary:t.palette.getContrastText(t.palette.grey[900])}))},...Object.entries(t.palette).filter(z_(["contrastText"])).map((e=>{var n,r;let[i]=e;return{props:{color:i},style:{"--AppBar-background":(null!==(n=t.vars)&&void 0!==n?n:t).palette[i].main,"--AppBar-color":(null!==(r=t.vars)&&void 0!==r?r:t).palette[i].contrastText}}})),{props:e=>!0===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:{backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"}},{props:e=>!1===e.enableColorOnDark&&!["inherit","transparent"].includes(e.color),style:p({backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundColor:t.vars?mE(t.vars.palette.AppBar.darkBg,"var(--AppBar-background)"):null,color:t.vars?mE(t.vars.palette.AppBar.darkColor,"var(--AppBar-color)"):null}))},{props:{color:"transparent"},style:p({"--AppBar-background":"transparent","--AppBar-color":"inherit",backgroundColor:"var(--AppBar-background)",color:"var(--AppBar-color)"},t.applyStyles("dark",{backgroundImage:"none"}))}]}}))),yE=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiAppBar"}),{className:r,color:i="primary",enableColorOnDark:s=!1,position:a="fixed"}=n,o=l(n,gE),c=p(p({},n),{},{color:i,position:a,enableColorOnDark:s}),u=(e=>{const{color:t,position:n,classes:r}=e;return Sb({root:["root","color".concat(l_(t)),"position".concat(l_(n))]},fE,r)})(c);return(0,yf.jsx)(vE,p({square:!0,component:"header",ownerState:c,elevation:4,className:Ef(u.root,r,"fixed"===a&&"mui-fixed"),ref:t},o))})),bE=yE;function wE(e){return Yy("MuiToolbar",e)}Jy("MuiToolbar",["root","gutters","regular","dense"]);const _E=["className","component","disableGutters","variant"],SE=Qb("div",{name:"MuiToolbar",slot:"Root",overridesResolver:(e,t)=>{const{ownerState:n}=e;return[t.root,!n.disableGutters&&t.gutters,t[n.variant]]}})(Jb((e=>{let{theme:t}=e;return{position:"relative",display:"flex",alignItems:"center",variants:[{props:e=>{let{ownerState:t}=e;return!t.disableGutters},style:{paddingLeft:t.spacing(2),paddingRight:t.spacing(2),[t.breakpoints.up("sm")]:{paddingLeft:t.spacing(3),paddingRight:t.spacing(3)}}},{props:{variant:"dense"},style:{minHeight:48}},{props:{variant:"regular"},style:t.mixins.toolbar}]}}))),EE=i.forwardRef((function(e,t){const n=fb({props:e,name:"MuiToolbar"}),{className:r,component:i="div",disableGutters:s=!1,variant:a="regular"}=n,o=l(n,_E),c=p(p({},n),{},{component:i,disableGutters:s,variant:a}),u=(e=>{const{classes:t,disableGutters:n,variant:r}=e;return Sb({root:["root",!n&&"gutters",r]},wE,t)})(c);return(0,yf.jsx)(SE,p({as:i,className:Ef(u.root,r),ref:t,ownerState:c},o))})),AE=EE,kE=oE((0,yf.jsx)("path",{d:"M12 2C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2m0 4c1.93 0 3.5 1.57 3.5 3.5S13.93 13 12 13s-3.5-1.57-3.5-3.5S10.07 6 12 6m0 14c-2.03 0-4.43-.82-6.14-2.88C7.55 15.8 9.68 15 12 15s4.45.8 6.14 2.12C16.43 19.18 14.03 20 12 20"}),"AccountCircle"),xE=e=>{let{toggleSidebar:t}=e;const{user:n}=_f();return(0,yf.jsx)(bE,{position:"fixed",sx:{zIndex:1300,width:"100%"},children:(0,yf.jsxs)(AE,{children:[(0,yf.jsx)(xS,{color:"inherit",onClick:t,sx:{marginRight:2},children:(0,yf.jsx)(dE,{})}),(0,yf.jsx)(YS,{variant:"h6",sx:{flexGrow:1},children:"Qubicle Dashboard"}),(0,yf.jsxs)(tb,{sx:{display:"flex",alignItems:"center"},children:[(0,yf.jsxs)(YS,{variant:"body1",sx:{marginRight:1},children:["Welcome, ",(null===n||void 0===n?void 0:n.name)||"User"]}),(0,yf.jsx)(xS,{color:"inherit",children:(0,yf.jsx)(kE,{})})]})]})})},CE=e=>{let{children:t}=e;const[n,r]=(0,i.useState)(!0);return(0,yf.jsxs)(tb,{sx:{display:"flex"},children:[(0,yf.jsx)(_b,{}),(0,yf.jsx)(xE,{toggleSidebar:()=>r(!n)}),(0,yf.jsx)(pE,{open:n}),(0,yf.jsx)(tb,{component:"main",sx:{flexGrow:1,p:3,mt:8},children:t})]})},TE=e=>{let{children:t}=e;const{user:n}=_f();return n?t:(0,yf.jsx)(Ie,{to:"/"})};const IE=function(){const{logout:e,user:t}=_f(),n=fe();return(0,yf.jsxs)("div",{className:"home-container",children:[(0,yf.jsxs)("h2",{children:["Welcome, ",null===t||void 0===t?void 0:t.name]}),"verification"===(null===t||void 0===t?void 0:t.role)||null!==t&&void 0!==t&&t.role.includes("admin")?(0,yf.jsx)(ft,{to:"/verification-dashboard",children:"Verification Dashboard"}):null,"document_upload"===(null===t||void 0===t?void 0:t.role)||null!==t&&void 0!==t&&t.role.includes("admin")?(0,yf.jsx)(ft,{to:"/document-upload-dashboard",children:"Document Upload Dashboard"}):null,"super_admin"===(null===t||void 0===t?void 0:t.role)&&(0,yf.jsx)(ft,{to:"/signup",children:"Add new user"}),(0,yf.jsx)("button",{onClick:async()=>{try{await e(),n("/")}catch(ez){console.log(ez.message)}},children:"Logout"})]})};const RE=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(!1),{login:c}=_f(),u=fe();return(0,yf.jsxs)("div",{className:"login-container",children:[(0,yf.jsx)("h2",{children:"Login"}),s&&(0,yf.jsx)("p",{className:"error-message",children:s}),(0,yf.jsxs)("form",{onSubmit:async t=>{t.preventDefault(),a(""),l(!0);try{await c(e,n),u("/home")}catch(t){console.log(t.message),a("Wrong username or password.")}l(!1)},children:[(0,yf.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",onChange:e=>t(e.target.value),required:!0}),(0,yf.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:e=>r(e.target.value),required:!0}),(0,yf.jsx)("button",{type:"submit",disabled:o,children:o?"Logging in...":"Login"})]})]})};const ME=function(){const[e,t]=(0,i.useState)(""),[n,r]=(0,i.useState)(""),[s,a]=(0,i.useState)(""),[o,l]=(0,i.useState)(""),[c,u]=(0,i.useState)(""),[h,d]=(0,i.useState)(!1),{login:p}=_f(),f=fe();return(0,yf.jsxs)("div",{className:"signup-container",children:[(0,yf.jsx)("h2",{children:"Add new user"}),c&&(0,yf.jsx)("p",{className:"error-message",children:c}),(0,yf.jsxs)("form",{onSubmit:async e=>{e.preventDefault(),u(""),d(!0);try{await p(n,s),f("/home")}catch(e){console.log(e.message),u("Wrong username or password.")}d(!1)},children:[(0,yf.jsx)("input",{type:"text",name:"name",placeholder:"Enter your name",onChange:e=>t(e.target.value),required:!0}),(0,yf.jsxs)("select",{value:o,onChange:e=>l(e.target.value),children:[(0,yf.jsx)("option",{value:"",selected:!0,disabled:!0,children:"--select role--"}),(0,yf.jsx)("option",{value:"super_admin",children:"Super Admin"}),(0,yf.jsx)("option",{value:"admin",children:"Admin"}),(0,yf.jsx)("option",{value:"document_upload",children:"Document upload"}),(0,yf.jsx)("option",{value:"verification",children:"Verification"})]}),(0,yf.jsx)("input",{type:"email",name:"email",placeholder:"Enter your email",onChange:e=>r(e.target.value),required:!0}),(0,yf.jsx)("input",{type:"password",name:"password",placeholder:"Enter your password",onChange:e=>a(e.target.value),required:!0}),(0,yf.jsx)("button",{type:"submit",disabled:h,children:h?"Logging in...":"Login"})]})]})};function PE(e,t,n){t||(t=[]);var r=t.length++;return Object.defineProperty({},"_",{set:function(i){t[r]=i,e.apply(n,t)}})}function NE(e,t){if(t.has(e))throw new TypeError("Cannot initialize the same private elements twice on an object")}function LE(e,t){NE(e,t),t.add(e)}function DE(e,t,n){NE(e,t),t.set(e,n)}function OE(e,t,n){if("function"==typeof e?e===t:e.has(t))return arguments.length<3?t:n;throw new TypeError("Private element is not present on this object")}function FE(e,t,n){return n(OE(e,t))}function jE(e,t){return e.get(OE(e,t))}function BE(e,t,n){return e.set(OE(e,t),n),n}var zE,VE,UE,WE,HE,qE,GE,KE,XE,QE,YE,JE,$E={d:(e,t)=>{for(var n in t)$E.o(t,n)&&!$E.o(e,n)&&Object.defineProperty(e,n,{enumerable:!0,get:t[n]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)},ZE=globalThis.pdfjsLib={};$E.d(ZE,{AbortException:()=>hk,AnnotationEditorLayer:()=>Cj,AnnotationEditorParamsType:()=>fA,AnnotationEditorType:()=>pA,AnnotationEditorUIManager:()=>TC,AnnotationLayer:()=>OL,AnnotationMode:()=>dA,ColorPicker:()=>dO,DOMSVGFactory:()=>oN,DrawLayer:()=>Bj,FeatureTest:()=>gk,GlobalWorkerOptions:()=>_R,ImageKind:()=>SA,InvalidPDFException:()=>ok,MissingPDFException:()=>lk,OPS:()=>KA,OutputScale:()=>Zk,PDFDataRangeTransport:()=>bP,PDFDateString:()=>Gk,PDFWorker:()=>MP,PasswordResponses:()=>XA,PermissionFlag:()=>gA,PixelsPerInch:()=>Lk,RenderingCancelledException:()=>Fk,TextLayer:()=>YM,UnexpectedResponseException:()=>ck,Util:()=>vk,VerbosityLevel:()=>GA,XfaLayer:()=>lN,build:()=>nN,createValidAbsoluteUrl:()=>nk,fetchData:()=>Dk,getDocument:()=>gP,getFilenameFromUrl:()=>zk,getPdfFilenameFromUrl:()=>Vk,getXfaPageViewport:()=>Xk,isDataScheme:()=>jk,isPdfFile:()=>Bk,noContextMenu:()=>Hk,normalizeUnicode:()=>Sk,setLayerDimensions:()=>$k,shadow:()=>rk,version:()=>tN});const eA="object"===typeof process&&process+""==="[object process]"&&!process.versions.nw&&!(process.versions.electron&&process.type&&"browser"!==process.type),tA=[1,0,0,1,0,0],nA=[.001,0,0,.001,0,0],rA=1.35,iA=1,sA=2,aA=4,oA=16,lA=32,cA=64,uA=128,hA=256,dA={DISABLE:0,ENABLE:1,ENABLE_FORMS:2,ENABLE_STORAGE:3},pA={DISABLE:-1,NONE:0,FREETEXT:3,HIGHLIGHT:9,STAMP:13,INK:15},fA={RESIZE:1,CREATE:2,FREETEXT_SIZE:11,FREETEXT_COLOR:12,FREETEXT_OPACITY:13,INK_COLOR:21,INK_THICKNESS:22,INK_OPACITY:23,HIGHLIGHT_COLOR:31,HIGHLIGHT_DEFAULT_COLOR:32,HIGHLIGHT_THICKNESS:33,HIGHLIGHT_FREE:34,HIGHLIGHT_SHOW_ALL:35},gA={PRINT:4,MODIFY_CONTENTS:8,COPY:16,MODIFY_ANNOTATIONS:32,FILL_INTERACTIVE_FORMS:256,COPY_FOR_ACCESSIBILITY:512,ASSEMBLE:1024,PRINT_HIGH_QUALITY:2048},mA=0,vA=1,yA=2,bA=3,wA=3,_A=4,SA={GRAYSCALE_1BPP:1,RGB_24BPP:2,RGBA_32BPP:3},EA=1,AA=2,kA=3,xA=4,CA=5,TA=6,IA=7,RA=8,MA=9,PA=10,NA=11,LA=12,DA=13,OA=14,FA=15,jA=16,BA=17,zA=20,VA=1,UA=2,WA=3,HA=4,qA=5,GA={ERRORS:0,WARNINGS:1,INFOS:5},KA={dependency:1,setLineWidth:2,setLineCap:3,setLineJoin:4,setMiterLimit:5,setDash:6,setRenderingIntent:7,setFlatness:8,setGState:9,save:10,restore:11,transform:12,moveTo:13,lineTo:14,curveTo:15,curveTo2:16,curveTo3:17,closePath:18,rectangle:19,stroke:20,closeStroke:21,fill:22,eoFill:23,fillStroke:24,eoFillStroke:25,closeFillStroke:26,closeEOFillStroke:27,endPath:28,clip:29,eoClip:30,beginText:31,endText:32,setCharSpacing:33,setWordSpacing:34,setHScale:35,setLeading:36,setFont:37,setTextRenderingMode:38,setTextRise:39,moveText:40,setLeadingMoveText:41,setTextMatrix:42,nextLine:43,showText:44,showSpacedText:45,nextLineShowText:46,nextLineSetSpacingShowText:47,setCharWidth:48,setCharWidthAndBounds:49,setStrokeColorSpace:50,setFillColorSpace:51,setStrokeColor:52,setStrokeColorN:53,setFillColor:54,setFillColorN:55,setStrokeGray:56,setFillGray:57,setStrokeRGBColor:58,setFillRGBColor:59,setStrokeCMYKColor:60,setFillCMYKColor:61,shadingFill:62,beginInlineImage:63,beginImageData:64,endInlineImage:65,paintXObject:66,markPoint:67,markPointProps:68,beginMarkedContent:69,beginMarkedContentProps:70,endMarkedContent:71,beginCompat:72,endCompat:73,paintFormXObjectBegin:74,paintFormXObjectEnd:75,beginGroup:76,endGroup:77,beginAnnotation:80,endAnnotation:81,paintImageMaskXObject:83,paintImageMaskXObjectGroup:84,paintImageXObject:85,paintInlineImageXObject:86,paintInlineImageXObjectGroup:87,paintImageXObjectRepeat:88,paintImageMaskXObjectRepeat:89,paintSolidColorImageMask:90,constructPath:91,setStrokeTransparent:92,setFillTransparent:93},XA={NEED_PASSWORD:1,INCORRECT_PASSWORD:2};let QA=GA.WARNINGS;function YA(e){Number.isInteger(e)&&(QA=e)}function JA(){return QA}function $A(e){QA>=GA.INFOS&&console.log("Info: ".concat(e))}function ZA(e){QA>=GA.WARNINGS&&console.log("Warning: ".concat(e))}function ek(e){throw new Error(e)}function tk(e,t){e||ek(t)}function nk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!e)return null;try{if(n&&"string"===typeof e){if(n.addDefaultProtocol&&e.startsWith("www.")){const t=e.match(/\./g);(null===t||void 0===t?void 0:t.length)>=2&&(e="http://".concat(e))}if(n.tryConvertEncoding)try{e=decodeURIComponent(escape(e))}catch(r){}}const i=t?new URL(e,t):new URL(e);if(function(e){switch(null===e||void 0===e?void 0:e.protocol){case"http:":case"https:":case"ftp:":case"mailto:":case"tel:":return!0;default:return!1}}(i))return i}catch(i){}return null}function rk(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];return Object.defineProperty(e,t,{value:n,enumerable:!r,configurable:!0,writable:!1}),n}const ik=function(){function e(e,t){this.message=e,this.name=t}return e.prototype=new Error,e.constructor=e,e}();class sk extends ik{constructor(e,t){super(e,"PasswordException"),this.code=t}}class ak extends ik{constructor(e,t){super(e,"UnknownErrorException"),this.details=t}}class ok extends ik{constructor(e){super(e,"InvalidPDFException")}}class lk extends ik{constructor(e){super(e,"MissingPDFException")}}class ck extends ik{constructor(e,t){super(e,"UnexpectedResponseException"),this.status=t}}class uk extends ik{constructor(e){super(e,"FormatError")}}class hk extends ik{constructor(e){super(e,"AbortException")}}function dk(e){"object"===typeof e&&void 0!==(null===e||void 0===e?void 0:e.length)||ek("Invalid argument for bytesToString");const t=e.length,n=8192;if(t<n)return String.fromCharCode.apply(null,e);const r=[];for(let i=0;i<t;i+=n){const s=Math.min(i+n,t),a=e.subarray(i,s);r.push(String.fromCharCode.apply(null,a))}return r.join("")}function pk(e){"string"!==typeof e&&ek("Invalid argument for stringToBytes");const t=e.length,n=new Uint8Array(t);for(let r=0;r<t;++r)n[r]=255&e.charCodeAt(r);return n}function fk(e){const t=Object.create(null);for(const[n,r]of e)t[n]=r;return t}class gk{static get isLittleEndian(){return rk(this,"isLittleEndian",function(){const e=new Uint8Array(4);return e[0]=1,1===new Uint32Array(e.buffer,0,1)[0]}())}static get isEvalSupported(){return rk(this,"isEvalSupported",function(){try{return new Function(""),!0}catch(e){return!1}}())}static get isOffscreenCanvasSupported(){return rk(this,"isOffscreenCanvasSupported","undefined"!==typeof OffscreenCanvas)}static get platform(){var e,t;return"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.platform)?rk(this,"platform",{isMac:navigator.platform.includes("Mac"),isWindows:navigator.platform.includes("Win"),isFirefox:"string"===typeof(null===(t=navigator)||void 0===t?void 0:t.userAgent)&&navigator.userAgent.includes("Firefox")}):rk(this,"platform",{isMac:!1,isWindows:!1,isFirefox:!1})}static get isCSSRoundSupported(){var e,t;return rk(this,"isCSSRoundSupported",null===(e=globalThis.CSS)||void 0===e||null===(t=e.supports)||void 0===t?void 0:t.call(e,"width: round(1.5px, 1px)"))}}const mk=Array.from(Array(256).keys(),(e=>e.toString(16).padStart(2,"0")));class vk{static makeHexColor(e,t,n){return"#".concat(mk[e]).concat(mk[t]).concat(mk[n])}static scaleMinMax(e,t){let n;e[0]?(e[0]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[0],t[2]*=e[0],e[3]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[3],t[3]*=e[3]):(n=t[0],t[0]=t[1],t[1]=n,n=t[2],t[2]=t[3],t[3]=n,e[1]<0&&(n=t[1],t[1]=t[3],t[3]=n),t[1]*=e[1],t[3]*=e[1],e[2]<0&&(n=t[0],t[0]=t[2],t[2]=n),t[0]*=e[2],t[2]*=e[2]),t[0]+=e[4],t[1]+=e[5],t[2]+=e[4],t[3]+=e[5]}static transform(e,t){return[e[0]*t[0]+e[2]*t[1],e[1]*t[0]+e[3]*t[1],e[0]*t[2]+e[2]*t[3],e[1]*t[2]+e[3]*t[3],e[0]*t[4]+e[2]*t[5]+e[4],e[1]*t[4]+e[3]*t[5]+e[5]]}static applyTransform(e,t){return[e[0]*t[0]+e[1]*t[2]+t[4],e[0]*t[1]+e[1]*t[3]+t[5]]}static applyInverseTransform(e,t){const n=t[0]*t[3]-t[1]*t[2];return[(e[0]*t[3]-e[1]*t[2]+t[2]*t[5]-t[4]*t[3])/n,(-e[0]*t[1]+e[1]*t[0]+t[4]*t[1]-t[5]*t[0])/n]}static getAxialAlignedBoundingBox(e,t){const n=this.applyTransform(e,t),r=this.applyTransform(e.slice(2,4),t),i=this.applyTransform([e[0],e[3]],t),s=this.applyTransform([e[2],e[1]],t);return[Math.min(n[0],r[0],i[0],s[0]),Math.min(n[1],r[1],i[1],s[1]),Math.max(n[0],r[0],i[0],s[0]),Math.max(n[1],r[1],i[1],s[1])]}static inverseTransform(e){const t=e[0]*e[3]-e[1]*e[2];return[e[3]/t,-e[1]/t,-e[2]/t,e[0]/t,(e[2]*e[5]-e[4]*e[3])/t,(e[4]*e[1]-e[5]*e[0])/t]}static singularValueDecompose2dScale(e){const t=[e[0],e[2],e[1],e[3]],n=e[0]*t[0]+e[1]*t[2],r=e[0]*t[1]+e[1]*t[3],i=e[2]*t[0]+e[3]*t[2],s=e[2]*t[1]+e[3]*t[3],a=(n+s)/2,o=Math.sqrt((n+s)**2-4*(n*s-i*r))/2,l=a+o||1,c=a-o||1;return[Math.sqrt(l),Math.sqrt(c)]}static normalizeRect(e){const t=e.slice(0);return e[0]>e[2]&&(t[0]=e[2],t[2]=e[0]),e[1]>e[3]&&(t[1]=e[3],t[3]=e[1]),t}static intersect(e,t){const n=Math.max(Math.min(e[0],e[2]),Math.min(t[0],t[2])),r=Math.min(Math.max(e[0],e[2]),Math.max(t[0],t[2]));if(n>r)return null;const i=Math.max(Math.min(e[1],e[3]),Math.min(t[1],t[3])),s=Math.min(Math.max(e[1],e[3]),Math.max(t[1],t[3]));return i>s?null:[n,i,r,s]}static bezierBoundingBox(e,t,n,r,i,s,a,o,l){return l?(l[0]=Math.min(l[0],e,a),l[1]=Math.min(l[1],t,o),l[2]=Math.max(l[2],e,a),l[3]=Math.max(l[3],t,o)):l=[Math.min(e,a),Math.min(t,o),Math.max(e,a),Math.max(t,o)],OE(vk,this,bk).call(this,e,n,i,a,t,r,s,o,3*(3*(n-i)-e+a),6*(e-2*n+i),3*(n-e),l),OE(vk,this,bk).call(this,e,n,i,a,t,r,s,o,3*(3*(r-s)-t+o),6*(t-2*r+s),3*(r-t),l),l}}function yk(e,t,n,r,i,s,a,o,l,c){if(l<=0||l>=1)return;const u=1-l,h=l*l,d=h*l,p=u*(u*(u*e+3*l*t)+3*h*n)+d*r,f=u*(u*(u*i+3*l*s)+3*h*a)+d*o;c[0]=Math.min(c[0],p),c[1]=Math.min(c[1],f),c[2]=Math.max(c[2],p),c[3]=Math.max(c[3],f)}function bk(e,t,n,r,i,s,a,o,l,c,u,h){if(Math.abs(l)<1e-12)return void(Math.abs(c)>=1e-12&&OE(zE,this,yk).call(this,e,t,n,r,i,s,a,o,-u/c,h));const d=c**2-4*u*l;if(d<0)return;const p=Math.sqrt(d),f=2*l;OE(zE,this,yk).call(this,e,t,n,r,i,s,a,o,(-c+p)/f,h),OE(zE,this,yk).call(this,e,t,n,r,i,s,a,o,(-c-p)/f,h)}zE=vk;let wk=null,_k=null;function Sk(e){return wk||(wk=/([\xA0\xB5\u037E\u0EB3\u2000-\u200A\u202F\u2126\uFB00-\uFB04\uFB06\uFB20-\uFB36\uFB38-\uFB3C\uFB3E\uFB40\uFB41\uFB43\uFB44\uFB46-\uFBA1\uFBA4-\uFBA9\uFBAE-\uFBB1\uFBD3-\uFBDC\uFBDE-\uFBE7\uFBEA-\uFBF8\uFBFC\uFBFD\uFC00-\uFC5D\uFC64-\uFCF1\uFCF5-\uFD3D\uFD88\uFDF4\uFDFA\uFDFB\uFE71\uFE77\uFE79\uFE7B\uFE7D]+)|(\uFB05+)/g,_k=new Map([["\ufb05","\u017ft"]])),e.replaceAll(wk,((e,t,n)=>t?t.normalize("NFKC"):_k.get(n)))}const Ek="pdfjs_internal_id_",Ak=0,kk=1,xk=2,Ck=3,Tk=4,Ik=5,Rk=6,Mk=7,Pk=8;const Nk="http://www.w3.org/2000/svg";class Lk{}async function Dk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"text";if(Wk(e,document.baseURI)){const n=await fetch(e);if(!n.ok)throw new Error(n.statusText);switch(t){case"arraybuffer":return n.arrayBuffer();case"blob":return n.blob();case"json":return n.json()}return n.text()}return new Promise(((n,r)=>{const i=new XMLHttpRequest;i.open("GET",e,!0),i.responseType=t,i.onreadystatechange=()=>{if(i.readyState===XMLHttpRequest.DONE)if(200!==i.status&&0!==i.status)r(new Error(i.statusText));else{switch(t){case"arraybuffer":case"blob":case"json":return void n(i.response)}n(i.responseText)}},i.send(null)}))}VE=Lk,h(Lk,"CSS",96),h(Lk,"PDF",72),h(Lk,"PDF_TO_CSS_UNITS",VE.CSS/VE.PDF);class Ok{constructor(e){let{viewBox:t,scale:n,rotation:r,offsetX:i=0,offsetY:s=0,dontFlip:a=!1}=e;this.viewBox=t,this.scale=n,this.rotation=r,this.offsetX=i,this.offsetY=s;const o=(t[2]+t[0])/2,l=(t[3]+t[1])/2;let c,u,h,d,p,f,g,m;switch(r%=360,r<0&&(r+=360),r){case 180:c=-1,u=0,h=0,d=1;break;case 90:c=0,u=1,h=1,d=0;break;case 270:c=0,u=-1,h=-1,d=0;break;case 0:c=1,u=0,h=0,d=-1;break;default:throw new Error("PageViewport: Invalid rotation, must be a multiple of 90 degrees.")}a&&(h=-h,d=-d),0===c?(p=Math.abs(l-t[1])*n+i,f=Math.abs(o-t[0])*n+s,g=(t[3]-t[1])*n,m=(t[2]-t[0])*n):(p=Math.abs(o-t[0])*n+i,f=Math.abs(l-t[1])*n+s,g=(t[2]-t[0])*n,m=(t[3]-t[1])*n),this.transform=[c*n,u*n,h*n,d*n,p-c*n*o-h*n*l,f-u*n*o-d*n*l],this.width=g,this.height=m}get rawDims(){const{viewBox:e}=this;return rk(this,"rawDims",{pageWidth:e[2]-e[0],pageHeight:e[3]-e[1],pageX:e[0],pageY:e[1]})}clone(){let{scale:e=this.scale,rotation:t=this.rotation,offsetX:n=this.offsetX,offsetY:r=this.offsetY,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ok({viewBox:this.viewBox.slice(),scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}convertToViewportPoint(e,t){return vk.applyTransform([e,t],this.transform)}convertToViewportRectangle(e){const t=vk.applyTransform([e[0],e[1]],this.transform),n=vk.applyTransform([e[2],e[3]],this.transform);return[t[0],t[1],n[0],n[1]]}convertToPdfPoint(e,t){return vk.applyInverseTransform([e,t],this.transform)}}class Fk extends ik{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;super(e,"RenderingCancelledException"),this.extraDelay=t}}function jk(e){const t=e.length;let n=0;for(;n<t&&""===e[n].trim();)n++;return"data:"===e.substring(n,n+5).toLowerCase()}function Bk(e){return"string"===typeof e&&/\.pdf$/i.test(e)}function zk(e){return[e]=e.split(/[#?]/,1),e.substring(e.lastIndexOf("/")+1)}function Vk(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"document.pdf";if("string"!==typeof e)return t;if(jk(e))return ZA('getPdfFilenameFromUrl: ignore "data:"-URL for performance reasons.'),t;const n=/[^/?#=]+\.pdf\b(?!.*\.pdf\b)/i,r=/^(?:(?:[^:]+:)?\/\/[^/]+)?([^?#]*)(\?[^#]*)?(#.*)?$/.exec(e);let i=n.exec(r[1])||n.exec(r[2])||n.exec(r[3]);if(i&&(i=i[0],i.includes("%")))try{i=n.exec(decodeURIComponent(i))[0]}catch(s){}return i||t}class Uk{constructor(){h(this,"started",Object.create(null)),h(this,"times",[])}time(e){e in this.started&&ZA("Timer is already running for ".concat(e)),this.started[e]=Date.now()}timeEnd(e){e in this.started||ZA("Timer has not been started for ".concat(e)),this.times.push({name:e,start:this.started[e],end:Date.now()}),delete this.started[e]}toString(){const e=[];let t=0;for(const{name:n}of this.times)t=Math.max(n.length,t);for(const{name:n,start:r,end:i}of this.times)e.push("".concat(n.padEnd(t)," ").concat(i-r,"ms\n"));return e.join("")}}function Wk(e,t){try{const{protocol:n}=t?new URL(e,t):new URL(e);return"http:"===n||"https:"===n}catch(n){return!1}}function Hk(e){e.preventDefault()}function qk(e){console.log("Deprecated API usage: "+e)}class Gk{static toDateObject(e){if(!e||"string"!==typeof e)return null;OE(Gk,this,Kk)._||(Kk._=OE(Gk,this,new RegExp("^D:(\\d{4})(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?(\\d{2})?([Z|+|-])?(\\d{2})?'?(\\d{2})?'?")));const t=OE(Gk,this,Kk)._.exec(e);if(!t)return null;const n=parseInt(t[1],10);let r=parseInt(t[2],10);r=r>=1&&r<=12?r-1:0;let i=parseInt(t[3],10);i=i>=1&&i<=31?i:1;let s=parseInt(t[4],10);s=s>=0&&s<=23?s:0;let a=parseInt(t[5],10);a=a>=0&&a<=59?a:0;let o=parseInt(t[6],10);o=o>=0&&o<=59?o:0;const l=t[7]||"Z";let c=parseInt(t[8],10);c=c>=0&&c<=23?c:0;let u=parseInt(t[9],10)||0;return u=u>=0&&u<=59?u:0,"-"===l?(s+=c,a+=u):"+"===l&&(s-=c,a-=u),new Date(Date.UTC(n,r,i,s,a,o))}}var Kk={_:void 0};function Xk(e,t){let{scale:n=1,rotation:r=0}=t;const{width:i,height:s}=e.attributes.style,a=[0,0,parseInt(i),parseInt(s)];return new Ok({viewBox:a,scale:n,rotation:r})}function Qk(e){if(e.startsWith("#")){const t=parseInt(e.slice(1),16);return[(16711680&t)>>16,(65280&t)>>8,255&t]}return e.startsWith("rgb(")?e.slice(4,-1).split(",").map((e=>parseInt(e))):e.startsWith("rgba(")?e.slice(5,-1).split(",").map((e=>parseInt(e))).slice(0,3):(ZA('Not a valid color format: "'.concat(e,'"')),[0,0,0])}function Yk(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform();return[t,n,r,i,s,a]}function Jk(e){const{a:t,b:n,c:r,d:i,e:s,f:a}=e.getTransform().invertSelf();return[t,n,r,i,s,a]}function $k(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];if(t instanceof Ok){const{pageWidth:r,pageHeight:i}=t.rawDims,{style:s}=e,a=gk.isCSSRoundSupported,o="var(--scale-factor) * ".concat(r,"px"),l="var(--scale-factor) * ".concat(i,"px"),c=a?"round(down, ".concat(o,", var(--scale-round-x, 1px))"):"calc(".concat(o,")"),u=a?"round(down, ".concat(l,", var(--scale-round-y, 1px))"):"calc(".concat(l,")");n&&t.rotation%180!==0?(s.width=u,s.height=c):(s.width=c,s.height=u)}r&&e.setAttribute("data-main-rotation",t.rotation)}class Zk{constructor(){const e=window.devicePixelRatio||1;this.sx=e,this.sy=e}get scaled(){return 1!==this.sx||1!==this.sy}get symmetric(){return this.sx===this.sy}}var ex=new WeakMap,tx=new WeakMap,nx=new WeakMap,rx=new WeakMap,ix=new WeakMap,sx=new WeakSet;class ax{constructor(e){LE(this,sx),DE(this,ex,null),DE(this,tx,null),DE(this,nx,void 0),DE(this,rx,null),DE(this,ix,null),BE(nx,this,e),px._||(px._=Object.freeze({freetext:"pdfjs-editor-remove-freetext-button",highlight:"pdfjs-editor-remove-highlight-button",ink:"pdfjs-editor-remove-ink-button",stamp:"pdfjs-editor-remove-stamp-button"}))}render(){const e=BE(ex,this,document.createElement("div"));e.classList.add("editToolbar","hidden"),e.setAttribute("role","toolbar");const t=jE(nx,this)._uiManager._signal;e.addEventListener("contextmenu",Hk,{signal:t}),e.addEventListener("pointerdown",ox,{signal:t});const n=BE(rx,this,document.createElement("div"));n.className="buttons",e.append(n);const r=jE(nx,this).toolbarPosition;if(r){const{style:t}=e,n="ltr"===jE(nx,this)._uiManager.direction?1-r[0]:r[0];t.insetInlineEnd="".concat(100*n,"%"),t.top="calc(".concat(100*r[1],"% + var(--editor-toolbar-vert-offset))")}return OE(sx,this,hx).call(this),e}get div(){return jE(ex,this)}hide(){var e;jE(ex,this).classList.add("hidden"),null===(e=jE(tx,this))||void 0===e||e.hideDropdown()}show(){var e;jE(ex,this).classList.remove("hidden"),null===(e=jE(ix,this))||void 0===e||e.shown()}async addAltText(e){const t=await e.render();OE(sx,this,ux).call(this,t),jE(rx,this).prepend(t,FE(sx,this,dx)),BE(ix,this,e)}addColorPicker(e){BE(tx,this,e);const t=e.renderButton();OE(sx,this,ux).call(this,t),jE(rx,this).prepend(t,FE(sx,this,dx))}remove(){var e;jE(ex,this).remove(),null===(e=jE(tx,this))||void 0===e||e.destroy(),BE(tx,this,null)}}function ox(e){e.stopPropagation()}function lx(e){jE(nx,this)._focusEventsAllowed=!1,e.preventDefault(),e.stopPropagation()}function cx(e){jE(nx,this)._focusEventsAllowed=!0,e.preventDefault(),e.stopPropagation()}function ux(e){const t=jE(nx,this)._uiManager._signal;e.addEventListener("focusin",OE(sx,this,lx).bind(this),{capture:!0,signal:t}),e.addEventListener("focusout",OE(sx,this,cx).bind(this),{capture:!0,signal:t}),e.addEventListener("contextmenu",Hk,{signal:t})}function hx(){const{editorType:e,_uiManager:t}=jE(nx,this),n=document.createElement("button");n.className="delete",n.tabIndex=0,n.setAttribute("data-l10n-id",px._[e]),OE(sx,this,ux).call(this,n),n.addEventListener("click",(e=>{t.delete()}),{signal:t._signal}),jE(rx,this).append(n)}function dx(e){const t=document.createElement("div");return t.className="divider",t}var px={_:null},fx=new WeakMap,gx=new WeakMap,mx=new WeakMap,vx=new WeakSet;class yx{constructor(e){LE(this,vx),DE(this,fx,null),DE(this,gx,null),DE(this,mx,void 0),BE(mx,this,e)}show(e,t,n){const[r,i]=OE(vx,this,wx).call(this,t,n),{style:s}=jE(gx,this)||BE(gx,this,OE(vx,this,bx).call(this));e.append(jE(gx,this)),s.insetInlineEnd="".concat(100*r,"%"),s.top="calc(".concat(100*i,"% + var(--editor-toolbar-vert-offset))")}hide(){jE(gx,this).remove()}}function bx(){const e=BE(gx,this,document.createElement("div"));e.className="editToolbar",e.setAttribute("role","toolbar"),e.addEventListener("contextmenu",Hk,{signal:jE(mx,this)._signal});const t=BE(fx,this,document.createElement("div"));return t.className="buttons",e.append(t),OE(vx,this,_x).call(this),e}function wx(e,t){let n=0,r=0;for(const i of e){const e=i.y+i.height;if(e<n)continue;const s=i.x+(t?i.width:0);e>n?(r=s,n=e):t?s>r&&(r=s):s<r&&(r=s)}return[t?1-r:r,n]}function _x(){const e=document.createElement("button");e.className="highlightButton",e.tabIndex=0,e.setAttribute("data-l10n-id","pdfjs-highlight-floating-button1");const t=document.createElement("span");e.append(t),t.className="visuallyHidden",t.setAttribute("data-l10n-id","pdfjs-highlight-floating-button-label");const n=jE(mx,this)._signal;e.addEventListener("contextmenu",Hk,{signal:n}),e.addEventListener("click",(()=>{jE(mx,this).highlightSelection("floating_button")}),{signal:n}),jE(fx,this).append(e)}function Sx(e,t,n){for(const r of n)t.addEventListener(r,e[r].bind(e))}var Ex=new WeakMap;class Ax{constructor(){DE(this,Ex,0)}get id(){var e,t;return"".concat("pdfjs_internal_editor_").concat((BE(Ex,this,(e=jE(Ex,this),t=e++,e)),t))}}var kx=new WeakMap,xx=new WeakMap,Cx=new WeakMap,Tx=new WeakSet;class Ix{constructor(){LE(this,Tx),DE(this,kx,function(){var e,t;if("undefined"!==typeof crypto&&"function"===typeof(null===(e=crypto)||void 0===e?void 0:e.randomUUID))return crypto.randomUUID();const n=new Uint8Array(32);if("undefined"!==typeof crypto&&"function"===typeof(null===(t=crypto)||void 0===t?void 0:t.getRandomValues))crypto.getRandomValues(n);else for(let r=0;r<32;r++)n[r]=Math.floor(255*Math.random());return dk(n)}()),DE(this,xx,0),DE(this,Cx,null)}static get _isSVGFittingCanvas(){const e=new OffscreenCanvas(1,3).getContext("2d",{willReadFrequently:!0}),t=new Image;t.src='data:image/svg+xml;charset=UTF-8,<svg viewBox="0 0 1 1" width="1" height="1" xmlns="http://www.w3.org/2000/svg"><rect width="1" height="1" style="fill:red;"/></svg>';return rk(this,"_isSVGFittingCanvas",t.decode().then((()=>(e.drawImage(t,0,0,1,1,0,0,1,3),0===new Uint32Array(e.getImageData(0,0,1,1).data.buffer)[0]))))}async getFromFile(e){const{lastModified:t,name:n,size:r,type:i}=e;return OE(Tx,this,Rx).call(this,"".concat(t,"_").concat(n,"_").concat(r,"_").concat(i),e)}async getFromUrl(e){return OE(Tx,this,Rx).call(this,e,e)}async getFromBlob(e,t){const n=await t;return OE(Tx,this,Rx).call(this,e,n)}async getFromId(e){jE(Cx,this)||BE(Cx,this,new Map);const t=jE(Cx,this).get(e);if(!t)return null;if(t.bitmap)return t.refCounter+=1,t;if(t.file)return this.getFromFile(t.file);if(t.blobPromise){const{blobPromise:e}=t;return delete t.blobPromise,this.getFromBlob(t.id,e)}return this.getFromUrl(t.url)}getFromCanvas(e,t){var n,r,i;jE(Cx,this)||BE(Cx,this,new Map);let s=jE(Cx,this).get(e);if(null!==(i=s)&&void 0!==i&&i.bitmap)return s.refCounter+=1,s;const a=new OffscreenCanvas(t.width,t.height);return a.getContext("2d").drawImage(t,0,0),s={bitmap:a.transferToImageBitmap(),id:"image_".concat(jE(kx,this),"_").concat((BE(xx,this,(n=jE(xx,this),r=n++,n)),r)),refCounter:1,isSvg:!1},jE(Cx,this).set(e,s),jE(Cx,this).set(s.id,s),s}getSvgUrl(e){const t=jE(Cx,this).get(e);return null!==t&&void 0!==t&&t.isSvg?t.svgUrl:null}deleteId(e){var t;jE(Cx,this)||BE(Cx,this,new Map);const n=jE(Cx,this).get(e);if(!n)return;if(n.refCounter-=1,0!==n.refCounter)return;const{bitmap:r}=n;if(!n.url&&!n.file){const e=new OffscreenCanvas(r.width,r.height);e.getContext("bitmaprenderer").transferFromImageBitmap(r),n.blobPromise=e.convertToBlob()}null===(t=r.close)||void 0===t||t.call(r),n.bitmap=null}isValidId(e){return e.startsWith("image_".concat(jE(kx,this),"_"))}}async function Rx(e,t){var n;jE(Cx,this)||BE(Cx,this,new Map);let r=jE(Cx,this).get(e);if(null===r)return null;if(null!==(n=r)&&void 0!==n&&n.bitmap)return r.refCounter+=1,r;try{var i,s;let e;if(r||(r={bitmap:null,id:"image_".concat(jE(kx,this),"_").concat((BE(xx,this,(i=jE(xx,this),s=i++,i)),s)),refCounter:0,isSvg:!1}),"string"===typeof t?(r.url=t,e=await Dk(t,"blob")):t instanceof File?e=r.file=t:t instanceof Blob&&(e=t),"image/svg+xml"===e.type){const t=UE._isSVGFittingCanvas,n=new FileReader,i=new Image,s=new Promise(((e,s)=>{i.onload=()=>{r.bitmap=i,r.isSvg=!0,e()},n.onload=async()=>{const e=r.svgUrl=n.result;i.src=await t?"".concat(e,"#svgView(preserveAspectRatio(none))"):e},i.onerror=n.onerror=s}));n.readAsDataURL(e),await s}else r.bitmap=await createImageBitmap(e);r.refCounter=1}catch(ez){console.error(ez),r=null}return jE(Cx,this).set(e,r),r&&jE(Cx,this).set(r.id,r),r}UE=Ix;var Mx=new WeakMap,Px=new WeakMap,Nx=new WeakMap,Lx=new WeakMap;class Dx{constructor(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:128;DE(this,Mx,[]),DE(this,Px,!1),DE(this,Nx,void 0),DE(this,Lx,-1),BE(Nx,this,e)}add(e){let{cmd:t,undo:n,post:r,mustExec:i,type:s=NaN,overwriteIfSameType:a=!1,keepUndo:o=!1}=e;if(i&&t(),jE(Px,this))return;const l={cmd:t,undo:n,post:r,type:s};if(-1===jE(Lx,this))return jE(Mx,this).length>0&&(jE(Mx,this).length=0),BE(Lx,this,0),void jE(Mx,this).push(l);if(a&&jE(Mx,this)[jE(Lx,this)].type===s)return o&&(l.undo=jE(Mx,this)[jE(Lx,this)].undo),void(jE(Mx,this)[jE(Lx,this)]=l);const c=jE(Lx,this)+1;c===jE(Nx,this)?jE(Mx,this).splice(0,1):(BE(Lx,this,c),c<jE(Mx,this).length&&jE(Mx,this).splice(c)),jE(Mx,this).push(l)}undo(){if(-1===jE(Lx,this))return;BE(Px,this,!0);const{undo:e,post:t}=jE(Mx,this)[jE(Lx,this)];e(),null===t||void 0===t||t(),BE(Px,this,!1),BE(Lx,this,jE(Lx,this)-1)}redo(){if(jE(Lx,this)<jE(Mx,this).length-1){BE(Lx,this,jE(Lx,this)+1),BE(Px,this,!0);const{cmd:e,post:t}=jE(Mx,this)[jE(Lx,this)];e(),null===t||void 0===t||t(),BE(Px,this,!1)}}hasSomethingToUndo(){return-1!==jE(Lx,this)}hasSomethingToRedo(){return jE(Lx,this)<jE(Mx,this).length-1}destroy(){BE(Mx,this,null)}}var Ox=new WeakSet;class Fx{constructor(e){LE(this,Ox),this.buffer=[],this.callbacks=new Map,this.allKeys=new Set;const{isMac:t}=gk.platform;for(const[n,r,i={}]of e)for(const e of n){const n=e.startsWith("mac+");t&&n?(this.callbacks.set(e.slice(4),{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1))):t||n||(this.callbacks.set(e,{callback:r,options:i}),this.allKeys.add(e.split("+").at(-1)))}}exec(e,t){if(!this.allKeys.has(t.key))return;const n=this.callbacks.get(OE(Ox,this,jx).call(this,t));if(!n)return;const{callback:r,options:{bubbles:i=!1,args:s=[],checker:a=null}}=n;a&&!a(e,t)||(r.bind(e,...s,t)(),i||(t.stopPropagation(),t.preventDefault()))}}function jx(e){e.altKey&&this.buffer.push("alt"),e.ctrlKey&&this.buffer.push("ctrl"),e.metaKey&&this.buffer.push("meta"),e.shiftKey&&this.buffer.push("shift"),this.buffer.push(e.key);const t=this.buffer.join("+");return this.buffer.length=0,t}class Bx{get _colors(){const e=new Map([["CanvasText",null],["Canvas",null]]);return function(e){const t=document.createElement("span");t.style.visibility="hidden",document.body.append(t);for(const n of e.keys()){t.style.color=n;const r=window.getComputedStyle(t).color;e.set(n,Qk(r))}t.remove()}(e),rk(this,"_colors",e)}convert(e){const t=Qk(e);if(!window.matchMedia("(forced-colors: active)").matches)return t;for(const[n,r]of this._colors)if(r.every(((e,n)=>e===t[n])))return Bx._colorsMapping.get(n);return t}getHexCode(e){const t=this._colors.get(e);return t?vk.makeHexColor(...t):e}}h(Bx,"_colorsMapping",new Map([["CanvasText",[0,0,0]],["Canvas",[255,255,255]]]));var zx=new WeakMap,Vx=new WeakMap,Ux=new WeakMap,Wx=new WeakMap,Hx=new WeakMap,qx=new WeakMap,Gx=new WeakMap,Kx=new WeakMap,Xx=new WeakMap,Qx=new WeakMap,Yx=new WeakMap,Jx=new WeakMap,$x=new WeakMap,Zx=new WeakMap,eC=new WeakMap,tC=new WeakMap,nC=new WeakMap,rC=new WeakMap,iC=new WeakMap,sC=new WeakMap,aC=new WeakMap,oC=new WeakMap,lC=new WeakMap,cC=new WeakMap,uC=new WeakMap,hC=new WeakMap,dC=new WeakMap,pC=new WeakMap,fC=new WeakMap,gC=new WeakMap,mC=new WeakMap,vC=new WeakMap,yC=new WeakMap,bC=new WeakMap,wC=new WeakMap,_C=new WeakMap,SC=new WeakMap,EC=new WeakMap,AC=new WeakMap,kC=new WeakMap,xC=new WeakMap,CC=new WeakSet;class TC{static get _keyboardManager(){const e=TC.prototype,t=e=>jE(AC,e).contains(document.activeElement)&&"BUTTON"!==document.activeElement.tagName&&e.hasSomethingToControl(),n=(e,t)=>{let{target:n}=t;if(n instanceof HTMLInputElement){const{type:e}=n;return"text"!==e&&"number"!==e}return!0},r=this.TRANSLATE_SMALL,i=this.TRANSLATE_BIG;return rk(this,"_keyboardManager",new Fx([[["ctrl+a","mac+meta+a"],e.selectAll,{checker:n}],[["ctrl+z","mac+meta+z"],e.undo,{checker:n}],[["ctrl+y","ctrl+shift+z","mac+meta+shift+z","ctrl+shift+Z","mac+meta+shift+Z"],e.redo,{checker:n}],[["Backspace","alt+Backspace","ctrl+Backspace","shift+Backspace","mac+Backspace","mac+alt+Backspace","mac+ctrl+Backspace","Delete","ctrl+Delete","shift+Delete","mac+Delete"],e.delete,{checker:n}],[["Enter","mac+Enter"],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&jE(AC,e).contains(n)&&!e.isEnterHandled}}],[[" ","mac+ "],e.addNewEditorFromKeyboard,{checker:(e,t)=>{let{target:n}=t;return!(n instanceof HTMLButtonElement)&&jE(AC,e).contains(document.activeElement)}}],[["Escape","mac+Escape"],e.unselectAll],[["ArrowLeft","mac+ArrowLeft"],e.translateSelectedEditors,{args:[-r,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e.translateSelectedEditors,{args:[-i,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e.translateSelectedEditors,{args:[r,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e.translateSelectedEditors,{args:[i,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e.translateSelectedEditors,{args:[0,-r],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e.translateSelectedEditors,{args:[0,-i],checker:t}],[["ArrowDown","mac+ArrowDown"],e.translateSelectedEditors,{args:[0,r],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e.translateSelectedEditors,{args:[0,i],checker:t}]]))}constructor(e,t,n,r,i,s,a,o,l,c,u){LE(this,CC),DE(this,zx,new AbortController),DE(this,Vx,null),DE(this,Ux,new Map),DE(this,Wx,new Map),DE(this,Hx,null),DE(this,qx,null),DE(this,Gx,null),DE(this,Kx,new Dx),DE(this,Xx,null),DE(this,Qx,0),DE(this,Yx,new Set),DE(this,Jx,null),DE(this,$x,null),DE(this,Zx,new Set),DE(this,eC,!1),DE(this,tC,!1),DE(this,nC,!1),DE(this,rC,null),DE(this,iC,null),DE(this,sC,null),DE(this,aC,null),DE(this,oC,!1),DE(this,lC,null),DE(this,cC,new Ax),DE(this,uC,!1),DE(this,hC,!1),DE(this,dC,null),DE(this,pC,null),DE(this,fC,null),DE(this,gC,null),DE(this,mC,pA.NONE),DE(this,vC,new Set),DE(this,yC,null),DE(this,bC,null),DE(this,wC,null),DE(this,_C,{isEditing:!1,isEmpty:!0,hasSomethingToUndo:!1,hasSomethingToRedo:!1,hasSelectedEditor:!1,hasSelectedText:!1}),DE(this,SC,[0,0]),DE(this,EC,null),DE(this,AC,null),DE(this,kC,null),DE(this,xC,null);const h=this._signal=jE(zx,this).signal;BE(AC,this,e),BE(kC,this,t),BE(Hx,this,n),this._eventBus=r,r._on("editingaction",this.onEditingAction.bind(this),{signal:h}),r._on("pagechanging",this.onPageChanging.bind(this),{signal:h}),r._on("scalechanging",this.onScaleChanging.bind(this),{signal:h}),r._on("rotationchanging",this.onRotationChanging.bind(this),{signal:h}),r._on("setpreference",this.onSetPreference.bind(this),{signal:h}),r._on("switchannotationeditorparams",(e=>this.updateParams(e.type,e.value)),{signal:h}),OE(CC,this,LC).call(this),OE(CC,this,VC).call(this),OE(CC,this,FC).call(this),BE(qx,this,i.annotationStorage),BE(rC,this,i.filterFactory),BE(bC,this,s),BE(aC,this,a||null),BE(eC,this,o),BE(tC,this,l),BE(nC,this,c),BE(gC,this,u||null),this.viewParameters={realScale:Lk.PDF_TO_CSS_UNITS,rotation:0},this.isShiftKeyDown=!1}destroy(){var e,t,n,r;null===(e=jE(xC,this))||void 0===e||e.resolve(),BE(xC,this,null),null===(t=jE(zx,this))||void 0===t||t.abort(),BE(zx,this,null),this._signal=null;for(const i of jE(Wx,this).values())i.destroy();jE(Wx,this).clear(),jE(Ux,this).clear(),jE(Zx,this).clear(),BE(Vx,this,null),jE(vC,this).clear(),jE(Kx,this).destroy(),null===(n=jE(Hx,this))||void 0===n||n.destroy(),null===(r=jE(lC,this))||void 0===r||r.hide(),BE(lC,this,null),jE(iC,this)&&(clearTimeout(jE(iC,this)),BE(iC,this,null)),jE(EC,this)&&(clearTimeout(jE(EC,this)),BE(EC,this,null))}combinedSignal(e){return AbortSignal.any([this._signal,e.signal])}get mlManager(){return jE(gC,this)}get useNewAltTextFlow(){return jE(tC,this)}get useNewAltTextWhenAddingImage(){return jE(nC,this)}get hcmFilter(){return rk(this,"hcmFilter",jE(bC,this)?jE(rC,this).addHCMFilter(jE(bC,this).foreground,jE(bC,this).background):"none")}get direction(){return rk(this,"direction",getComputedStyle(jE(AC,this)).direction)}get highlightColors(){return rk(this,"highlightColors",jE(aC,this)?new Map(jE(aC,this).split(",").map((e=>e.split("=").map((e=>e.trim()))))):null)}get highlightColorNames(){return rk(this,"highlightColorNames",this.highlightColors?new Map(Array.from(this.highlightColors,(e=>e.reverse()))):null)}setMainHighlightColorPicker(e){BE(fC,this,e)}editAltText(e){var t;let n=arguments.length>1&&void 0!==arguments[1]&&arguments[1];null===(t=jE(Hx,this))||void 0===t||t.editAltText(this,e,n)}switchToMode(e,t){this._eventBus.on("annotationeditormodechanged",t,{once:!0,signal:this._signal}),this._eventBus.dispatch("showannotationeditorui",{source:this,mode:e})}setPreference(e,t){this._eventBus.dispatch("setpreference",{source:this,name:e,value:t})}onSetPreference(e){let{name:t,value:n}=e;if("enableNewAltTextWhenAddingImage"===t)BE(nC,this,n)}onPageChanging(e){let{pageNumber:t}=e;BE(Qx,this,t-1)}focusMainContainer(){jE(AC,this).focus()}findParent(e,t){for(const n of jE(Wx,this).values()){const{x:r,y:i,width:s,height:a}=n.div.getBoundingClientRect();if(e>=r&&e<=r+s&&t>=i&&t<=i+a)return n}return null}disableUserSelect(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];jE(kC,this).classList.toggle("noUserSelect",e)}addShouldRescale(e){jE(Zx,this).add(e)}removeShouldRescale(e){jE(Zx,this).delete(e)}onScaleChanging(e){let{scale:t}=e;this.commitOrRemove(),this.viewParameters.realScale=t*Lk.PDF_TO_CSS_UNITS;for(const n of jE(Zx,this))n.onScaleChanging()}onRotationChanging(e){let{pagesRotation:t}=e;this.commitOrRemove(),this.viewParameters.rotation=t}highlightSelection(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";const t=document.getSelection();if(!t||t.isCollapsed)return;const{anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s}=t,a=t.toString(),o=OE(CC,this,IC).call(this,t).closest(".textLayer"),l=this.getSelectionBoxes(o);if(!l)return;t.empty();const c=OE(CC,this,RC).call(this,o),u=jE(mC,this)===pA.NONE,h=()=>{null===c||void 0===c||c.createAndAddNewEditor({x:0,y:0},!1,{methodOfCreation:e,boxes:l,anchorNode:n,anchorOffset:r,focusNode:i,focusOffset:s,text:a}),u&&this.showAllEditors("highlight",!0,!0)};u?this.switchToMode(pA.HIGHLIGHT,h):h()}addToAnnotationStorage(e){e.isEmpty()||!jE(qx,this)||jE(qx,this).has(e.id)||jE(qx,this).setValue(e.id,e)}blur(){if(this.isShiftKeyDown=!1,jE(oC,this)&&(BE(oC,this,!1),OE(CC,this,NC).call(this,"main_toolbar")),!this.hasSelection)return;const{activeElement:e}=document;for(const t of jE(vC,this))if(t.div.contains(e)){BE(pC,this,[t,e]),t._focusEventsAllowed=!1;break}}focus(){if(!jE(pC,this))return;const[e,t]=jE(pC,this);BE(pC,this,null),t.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:this._signal}),t.focus()}addEditListeners(){OE(CC,this,FC).call(this),OE(CC,this,BC).call(this)}removeEditListeners(){OE(CC,this,jC).call(this),OE(CC,this,zC).call(this)}dragOver(e){for(const{type:t}of e.dataTransfer.items)for(const n of jE($x,this))if(n.isHandlingMimeForPasting(t))return e.dataTransfer.dropEffect="copy",void e.preventDefault()}drop(e){for(const t of e.dataTransfer.items)for(const n of jE($x,this))if(n.isHandlingMimeForPasting(t.type))return n.paste(t,this.currentLayer),void e.preventDefault()}copy(e){var t;if(e.preventDefault(),null===(t=jE(Vx,this))||void 0===t||t.commitOrRemove(),!this.hasSelection)return;const n=[];for(const r of jE(vC,this)){const e=r.serialize(!0);e&&n.push(e)}0!==n.length&&e.clipboardData.setData("application/pdfjs",JSON.stringify(n))}cut(e){this.copy(e),this.delete()}async paste(e){e.preventDefault();const{clipboardData:t}=e;for(const s of t.items)for(const e of jE($x,this))if(e.isHandlingMimeForPasting(s.type))return void e.paste(s,this.currentLayer);let n=t.getData("application/pdfjs");if(!n)return;try{n=JSON.parse(n)}catch(i){return void ZA('paste: "'.concat(i.message,'".'))}if(!Array.isArray(n))return;this.unselectAll();const r=this.currentLayer;try{const e=[];for(const s of n){const t=await r.deserialize(s);if(!t)return;e.push(t)}const t=()=>{for(const t of e)OE(CC,this,GC).call(this,t);OE(CC,this,QC).call(this,e)},i=()=>{for(const t of e)t.remove()};this.addCommands({cmd:t,undo:i,mustExec:!0})}catch(i){ZA('paste: "'.concat(i.message,'".'))}}keydown(e){this.isShiftKeyDown||"Shift"!==e.key||(this.isShiftKeyDown=!0),jE(mC,this)===pA.NONE||this.isEditorHandlingKeyboard||TC._keyboardManager.exec(this,e)}keyup(e){this.isShiftKeyDown&&"Shift"===e.key&&(this.isShiftKeyDown=!1,jE(oC,this)&&(BE(oC,this,!1),OE(CC,this,NC).call(this,"main_toolbar")))}onEditingAction(e){let{name:t}=e;switch(t){case"undo":case"redo":case"delete":case"selectAll":this[t]();break;case"highlightSelection":this.highlightSelection("context_menu")}}setEditingState(e){e?(OE(CC,this,DC).call(this),OE(CC,this,BC).call(this),OE(CC,this,UC).call(this,{isEditing:jE(mC,this)!==pA.NONE,isEmpty:OE(CC,this,XC).call(this),hasSomethingToUndo:jE(Kx,this).hasSomethingToUndo(),hasSomethingToRedo:jE(Kx,this).hasSomethingToRedo(),hasSelectedEditor:!1})):(OE(CC,this,OC).call(this),OE(CC,this,zC).call(this),OE(CC,this,UC).call(this,{isEditing:!1}),this.disableUserSelect(!1))}registerEditorTypes(e){if(!jE($x,this)){BE($x,this,e);for(const e of jE($x,this))OE(CC,this,WC).call(this,e.defaultPropertiesToUpdate)}}getId(){return jE(cC,this).id}get currentLayer(){return jE(Wx,this).get(jE(Qx,this))}getLayer(e){return jE(Wx,this).get(e)}get currentPageIndex(){return jE(Qx,this)}addLayer(e){jE(Wx,this).set(e.pageIndex,e),jE(uC,this)?e.enable():e.disable()}removeLayer(e){jE(Wx,this).delete(e.pageIndex)}async updateMode(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(jE(mC,this)!==e&&(!jE(xC,this)||(await jE(xC,this).promise,jE(xC,this)))){if(BE(xC,this,Promise.withResolvers()),BE(mC,this,e),e===pA.NONE)return this.setEditingState(!1),OE(CC,this,qC).call(this),void jE(xC,this).resolve();this.setEditingState(!0),await OE(CC,this,HC).call(this),this.unselectAll();for(const t of jE(Wx,this).values())t.updateMode(e);if(!t)return n&&this.addNewEditorFromKeyboard(),void jE(xC,this).resolve();for(const e of jE(Ux,this).values())e.annotationElementId===t?(this.setSelected(e),e.enterInEditMode()):e.unselect();jE(xC,this).resolve()}}addNewEditorFromKeyboard(){this.currentLayer.canCreateNewEmptyEditor()&&this.currentLayer.addNewEditor()}updateToolbar(e){e!==jE(mC,this)&&this._eventBus.dispatch("switchannotationeditormode",{source:this,mode:e})}updateParams(e,t){var n;if(jE($x,this)){switch(e){case fA.CREATE:return void this.currentLayer.addNewEditor();case fA.HIGHLIGHT_DEFAULT_COLOR:null===(n=jE(fC,this))||void 0===n||n.updateColor(t);break;case fA.HIGHLIGHT_SHOW_ALL:this._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:{type:"highlight",action:"toggle_visibility"}}}),(jE(wC,this)||BE(wC,this,new Map)).set(e,t),this.showAllEditors("highlight",t)}for(const n of jE(vC,this))n.updateParams(e,t);for(const n of jE($x,this))n.updateDefaultParams(e,t)}}showAllEditors(e,t){var n,r;for(const i of jE(Ux,this).values())i.editorType===e&&i.show(t);(null===(n=null===(r=jE(wC,this))||void 0===r?void 0:r.get(fA.HIGHLIGHT_SHOW_ALL))||void 0===n||n)!==t&&OE(CC,this,WC).call(this,[[fA.HIGHLIGHT_SHOW_ALL,t]])}enableWaiting(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(jE(hC,this)!==e){BE(hC,this,e);for(const t of jE(Wx,this).values())e?t.disableClick():t.enableClick(),t.div.classList.toggle("waiting",e)}}getEditors(e){const t=[];for(const n of jE(Ux,this).values())n.pageIndex===e&&t.push(n);return t}getEditor(e){return jE(Ux,this).get(e)}addEditor(e){jE(Ux,this).set(e.id,e)}removeEditor(e){var t;(e.div.contains(document.activeElement)&&(jE(iC,this)&&clearTimeout(jE(iC,this)),BE(iC,this,setTimeout((()=>{this.focusMainContainer(),BE(iC,this,null)}),0))),jE(Ux,this).delete(e.id),this.unselect(e),e.annotationElementId&&jE(Yx,this).has(e.annotationElementId))||(null===(t=jE(qx,this))||void 0===t||t.remove(e.id))}addDeletedAnnotationElement(e){jE(Yx,this).add(e.annotationElementId),this.addChangedExistingAnnotation(e),e.deleted=!0}isDeletedAnnotationElement(e){return jE(Yx,this).has(e)}removeDeletedAnnotationElement(e){jE(Yx,this).delete(e.annotationElementId),this.removeChangedExistingAnnotation(e),e.deleted=!1}setActiveEditor(e){jE(Vx,this)!==e&&(BE(Vx,this,e),e&&OE(CC,this,WC).call(this,e.propertiesToUpdate))}updateUI(e){FE(CC,this,KC)===e&&OE(CC,this,WC).call(this,e.propertiesToUpdate)}toggleSelected(e){if(jE(vC,this).has(e))return jE(vC,this).delete(e),e.unselect(),void OE(CC,this,UC).call(this,{hasSelectedEditor:this.hasSelection});jE(vC,this).add(e),e.select(),OE(CC,this,WC).call(this,e.propertiesToUpdate),OE(CC,this,UC).call(this,{hasSelectedEditor:!0})}setSelected(e){for(const t of jE(vC,this))t!==e&&t.unselect();jE(vC,this).clear(),jE(vC,this).add(e),e.select(),OE(CC,this,WC).call(this,e.propertiesToUpdate),OE(CC,this,UC).call(this,{hasSelectedEditor:!0})}isSelected(e){return jE(vC,this).has(e)}get firstSelectedEditor(){return jE(vC,this).values().next().value}unselect(e){e.unselect(),jE(vC,this).delete(e),OE(CC,this,UC).call(this,{hasSelectedEditor:this.hasSelection})}get hasSelection(){return 0!==jE(vC,this).size}get isEnterHandled(){return 1===jE(vC,this).size&&this.firstSelectedEditor.isEnterHandled}undo(){jE(Kx,this).undo(),OE(CC,this,UC).call(this,{hasSomethingToUndo:jE(Kx,this).hasSomethingToUndo(),hasSomethingToRedo:!0,isEmpty:OE(CC,this,XC).call(this)})}redo(){jE(Kx,this).redo(),OE(CC,this,UC).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:jE(Kx,this).hasSomethingToRedo(),isEmpty:OE(CC,this,XC).call(this)})}addCommands(e){jE(Kx,this).add(e),OE(CC,this,UC).call(this,{hasSomethingToUndo:!0,hasSomethingToRedo:!1,isEmpty:OE(CC,this,XC).call(this)})}delete(){if(this.commitOrRemove(),!this.hasSelection)return;const e=[...jE(vC,this)];this.addCommands({cmd:()=>{for(const t of e)t.remove()},undo:()=>{for(const t of e)OE(CC,this,GC).call(this,t)},mustExec:!0})}commitOrRemove(){var e;null===(e=jE(Vx,this))||void 0===e||e.commitOrRemove()}hasSomethingToControl(){return jE(Vx,this)||this.hasSelection}selectAll(){for(const e of jE(vC,this))e.commit();OE(CC,this,QC).call(this,jE(Ux,this).values())}unselectAll(){if((!jE(Vx,this)||(jE(Vx,this).commitOrRemove(),jE(mC,this)===pA.NONE))&&this.hasSelection){for(const e of jE(vC,this))e.unselect();jE(vC,this).clear(),OE(CC,this,UC).call(this,{hasSelectedEditor:!1})}}translateSelectedEditors(e,t){if(arguments.length>2&&void 0!==arguments[2]&&arguments[2]||this.commitOrRemove(),!this.hasSelection)return;jE(SC,this)[0]+=e,jE(SC,this)[1]+=t;const[n,r]=jE(SC,this),i=[...jE(vC,this)];jE(EC,this)&&clearTimeout(jE(EC,this)),BE(EC,this,setTimeout((()=>{BE(EC,this,null),jE(SC,this)[0]=jE(SC,this)[1]=0,this.addCommands({cmd:()=>{for(const e of i)jE(Ux,this).has(e.id)&&e.translateInPage(n,r)},undo:()=>{for(const e of i)jE(Ux,this).has(e.id)&&e.translateInPage(-n,-r)},mustExec:!1})}),1e3));for(const s of i)s.translateInPage(e,t)}setUpDragSession(){if(this.hasSelection){this.disableUserSelect(!0),BE(Jx,this,new Map);for(const e of jE(vC,this))jE(Jx,this).set(e,{savedX:e.x,savedY:e.y,savedPageIndex:e.pageIndex,newX:0,newY:0,newPageIndex:-1})}}endDragSession(){if(!jE(Jx,this))return!1;this.disableUserSelect(!1);const e=jE(Jx,this);BE(Jx,this,null);let t=!1;for(const[{x:r,y:i,pageIndex:s},a]of e)a.newX=r,a.newY=i,a.newPageIndex=s,t||(t=r!==a.savedX||i!==a.savedY||s!==a.savedPageIndex);if(!t)return!1;const n=(e,t,n,r)=>{if(jE(Ux,this).has(e.id)){const i=jE(Wx,this).get(r);i?e._setParentAndPosition(i,t,n):(e.pageIndex=r,e.x=t,e.y=n)}};return this.addCommands({cmd:()=>{for(const[t,{newX:r,newY:i,newPageIndex:s}]of e)n(t,r,i,s)},undo:()=>{for(const[t,{savedX:r,savedY:i,savedPageIndex:s}]of e)n(t,r,i,s)},mustExec:!0}),!0}dragSelectedEditors(e,t){if(jE(Jx,this))for(const n of jE(Jx,this).keys())n.drag(e,t)}rebuild(e){if(null===e.parent){const t=this.getLayer(e.pageIndex);t?(t.changeParent(e),t.addOrRebuild(e)):(this.addEditor(e),this.addToAnnotationStorage(e),e.rebuild())}else e.parent.addOrRebuild(e)}get isEditorHandlingKeyboard(){var e;return(null===(e=this.getActive())||void 0===e?void 0:e.shouldGetKeyboardEvents())||1===jE(vC,this).size&&this.firstSelectedEditor.shouldGetKeyboardEvents()}isActive(e){return jE(Vx,this)===e}getActive(){return jE(Vx,this)}getMode(){return jE(mC,this)}get imageManager(){return rk(this,"imageManager",new Ix)}getSelectionBoxes(e){if(!e)return null;const t=document.getSelection();for(let l=0,c=t.rangeCount;l<c;l++)if(!e.contains(t.getRangeAt(l).commonAncestorContainer))return null;const{x:n,y:r,width:i,height:s}=e.getBoundingClientRect();let a;switch(e.getAttribute("data-main-rotation")){case"90":a=(e,t,a,o)=>({x:(t-r)/s,y:1-(e+a-n)/i,width:o/s,height:a/i});break;case"180":a=(e,t,a,o)=>({x:1-(e+a-n)/i,y:1-(t+o-r)/s,width:a/i,height:o/s});break;case"270":a=(e,t,a,o)=>({x:1-(t+o-r)/s,y:(e-n)/i,width:o/s,height:a/i});break;default:a=(e,t,a,o)=>({x:(e-n)/i,y:(t-r)/s,width:a/i,height:o/s})}const o=[];for(let l=0,c=t.rangeCount;l<c;l++){const e=t.getRangeAt(l);if(!e.collapsed)for(const{x:t,y:n,width:r,height:i}of e.getClientRects())0!==r&&0!==i&&o.push(a(t,n,r,i))}return 0===o.length?null:o}addChangedExistingAnnotation(e){let{annotationElementId:t,id:n}=e;(jE(Gx,this)||BE(Gx,this,new Map)).set(t,n)}removeChangedExistingAnnotation(e){var t;let{annotationElementId:n}=e;null===(t=jE(Gx,this))||void 0===t||t.delete(n)}renderAnnotationElement(e){var t;const n=null===(t=jE(Gx,this))||void 0===t?void 0:t.get(e.data.id);if(!n)return;const r=jE(qx,this).getRawValue(n);r&&(jE(mC,this)!==pA.NONE||r.hasBeenModified)&&r.renderAnnotationElement(e)}}function IC(e){let{anchorNode:t}=e;return t.nodeType===Node.TEXT_NODE?t.parentElement:t}function RC(e){const{currentLayer:t}=this;if(t.hasTextLayer(e))return t;for(const n of jE(Wx,this).values())if(n.hasTextLayer(e))return n;return null}function MC(){const e=document.getSelection();if(!e||e.isCollapsed)return;const t=OE(CC,this,IC).call(this,e).closest(".textLayer"),n=this.getSelectionBoxes(t);n&&(jE(lC,this)||BE(lC,this,new yx(this)),jE(lC,this).show(t,n,"ltr"===this.direction))}function PC(){var e;const t=document.getSelection();if(!t||t.isCollapsed){var n;if(jE(yC,this))null===(n=jE(lC,this))||void 0===n||n.hide(),BE(yC,this,null),OE(CC,this,UC).call(this,{hasSelectedText:!1});return}const{anchorNode:r}=t;if(r===jE(yC,this))return;const i=OE(CC,this,IC).call(this,t).closest(".textLayer");var s;if(i){if(null===(e=jE(lC,this))||void 0===e||e.hide(),BE(yC,this,r),OE(CC,this,UC).call(this,{hasSelectedText:!0}),(jE(mC,this)===pA.HIGHLIGHT||jE(mC,this)===pA.NONE)&&(jE(mC,this)===pA.HIGHLIGHT&&this.showAllEditors("highlight",!0,!0),BE(oC,this,this.isShiftKeyDown),!this.isShiftKeyDown)){const e=jE(mC,this)===pA.HIGHLIGHT?OE(CC,this,RC).call(this,i):null;null===e||void 0===e||e.toggleDrawing();const t=new AbortController,n=this.combinedSignal(t),r=n=>{"pointerup"===n.type&&0!==n.button||(t.abort(),null===e||void 0===e||e.toggleDrawing(!0),"pointerup"===n.type&&OE(CC,this,NC).call(this,"main_toolbar"))};window.addEventListener("pointerup",r,{signal:n}),window.addEventListener("blur",r,{signal:n})}}else jE(yC,this)&&(null===(s=jE(lC,this))||void 0===s||s.hide(),BE(yC,this,null),OE(CC,this,UC).call(this,{hasSelectedText:!1}))}function NC(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";jE(mC,this)===pA.HIGHLIGHT?this.highlightSelection(e):jE(eC,this)&&OE(CC,this,MC).call(this)}function LC(){document.addEventListener("selectionchange",OE(CC,this,PC).bind(this),{signal:this._signal})}function DC(){if(jE(sC,this))return;BE(sC,this,new AbortController);const e=this.combinedSignal(jE(sC,this));window.addEventListener("focus",this.focus.bind(this),{signal:e}),window.addEventListener("blur",this.blur.bind(this),{signal:e})}function OC(){var e;null===(e=jE(sC,this))||void 0===e||e.abort(),BE(sC,this,null)}function FC(){if(jE(dC,this))return;BE(dC,this,new AbortController);const e=this.combinedSignal(jE(dC,this));window.addEventListener("keydown",this.keydown.bind(this),{signal:e}),window.addEventListener("keyup",this.keyup.bind(this),{signal:e})}function jC(){var e;null===(e=jE(dC,this))||void 0===e||e.abort(),BE(dC,this,null)}function BC(){if(jE(Xx,this))return;BE(Xx,this,new AbortController);const e=this.combinedSignal(jE(Xx,this));document.addEventListener("copy",this.copy.bind(this),{signal:e}),document.addEventListener("cut",this.cut.bind(this),{signal:e}),document.addEventListener("paste",this.paste.bind(this),{signal:e})}function zC(){var e;null===(e=jE(Xx,this))||void 0===e||e.abort(),BE(Xx,this,null)}function VC(){const e=this._signal;document.addEventListener("dragover",this.dragOver.bind(this),{signal:e}),document.addEventListener("drop",this.drop.bind(this),{signal:e})}function UC(e){Object.entries(e).some((e=>{let[t,n]=e;return jE(_C,this)[t]!==n}))&&(this._eventBus.dispatch("annotationeditorstateschanged",{source:this,details:Object.assign(jE(_C,this),e)}),jE(mC,this)===pA.HIGHLIGHT&&!1===e.hasSelectedEditor&&OE(CC,this,WC).call(this,[[fA.HIGHLIGHT_FREE,!0]]))}function WC(e){this._eventBus.dispatch("annotationeditorparamschanged",{source:this,details:e})}async function HC(){if(!jE(uC,this)){BE(uC,this,!0);const e=[];for(const t of jE(Wx,this).values())e.push(t.enable());await Promise.all(e);for(const t of jE(Ux,this).values())t.enable()}}function qC(){if(this.unselectAll(),jE(uC,this)){BE(uC,this,!1);for(const e of jE(Wx,this).values())e.disable();for(const e of jE(Ux,this).values())e.disable()}}function GC(e){const t=jE(Wx,this).get(e.pageIndex);t?t.addOrRebuild(e):(this.addEditor(e),this.addToAnnotationStorage(e))}function KC(e){let t=null;for(t of jE(vC,e));return t}function XC(){if(0===jE(Ux,this).size)return!0;if(1===jE(Ux,this).size)for(const e of jE(Ux,this).values())return e.isEmpty();return!1}function QC(e){for(const t of jE(vC,this))t.unselect();jE(vC,this).clear();for(const t of e)t.isEmpty()||(jE(vC,this).add(t),t.select());OE(CC,this,UC).call(this,{hasSelectedEditor:this.hasSelection})}h(TC,"TRANSLATE_SMALL",1),h(TC,"TRANSLATE_BIG",10);var YC=new WeakMap,JC=new WeakMap,$C=new WeakMap,ZC=new WeakMap,eT=new WeakMap,tT=new WeakMap,nT=new WeakMap,rT=new WeakMap,iT=new WeakMap,sT=new WeakMap,aT=new WeakMap,oT=new WeakMap,lT=new WeakSet;class cT{constructor(e){LE(this,lT),DE(this,YC,null),DE(this,JC,!1),DE(this,$C,null),DE(this,ZC,null),DE(this,eT,null),DE(this,tT,null),DE(this,nT,!1),DE(this,rT,null),DE(this,iT,null),DE(this,sT,null),DE(this,aT,null),DE(this,oT,!1),BE(iT,this,e),BE(oT,this,e._uiManager.useNewAltTextFlow),dT._||(dT._=Object.freeze({added:"pdfjs-editor-new-alt-text-added-button","added-label":"pdfjs-editor-new-alt-text-added-button-label",missing:"pdfjs-editor-new-alt-text-missing-button","missing-label":"pdfjs-editor-new-alt-text-missing-button-label",review:"pdfjs-editor-new-alt-text-to-review-button","review-label":"pdfjs-editor-new-alt-text-to-review-button-label"}))}static initialize(e){var t;null!==(t=cT._l10n)&&void 0!==t||(cT._l10n=e)}async render(){const e=BE($C,this,document.createElement("button"));e.className="altText",e.tabIndex="0";const t=BE(ZC,this,document.createElement("span"));e.append(t),jE(oT,this)?(e.classList.add("new"),e.setAttribute("data-l10n-id",dT._.missing),t.setAttribute("data-l10n-id",dT._["missing-label"])):(e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button"),t.setAttribute("data-l10n-id","pdfjs-editor-alt-text-button-label"));const n=jE(iT,this)._uiManager._signal;e.addEventListener("contextmenu",Hk,{signal:n}),e.addEventListener("pointerdown",(e=>e.stopPropagation()),{signal:n});const r=e=>{e.preventDefault(),jE(iT,this)._uiManager.editAltText(jE(iT,this)),jE(oT,this)&&jE(iT,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_clicked",data:{label:FE(lT,this,uT)}})};return e.addEventListener("click",r,{capture:!0,signal:n}),e.addEventListener("keydown",(t=>{t.target===e&&"Enter"===t.key&&(BE(nT,this,!0),r(t))}),{signal:n}),await OE(lT,this,hT).call(this),e}finish(){jE($C,this)&&(jE($C,this).focus({focusVisible:jE(nT,this)}),BE(nT,this,!1))}isEmpty(){return jE(oT,this)?null===jE(YC,this):!jE(YC,this)&&!jE(JC,this)}hasData(){return jE(oT,this)?null!==jE(YC,this)||!!jE(sT,this):this.isEmpty()}get guessedText(){return jE(sT,this)}async setGuessedText(e){null===jE(YC,this)&&(BE(sT,this,e),BE(aT,this,await cT._l10n.get("pdfjs-editor-new-alt-text-generated-alt-text-with-disclaimer",{generatedAltText:e})),OE(lT,this,hT).call(this))}toggleAltTextBadge(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];var t;if(!jE(oT,this)||jE(YC,this))return null===(t=jE(rT,this))||void 0===t||t.remove(),void BE(rT,this,null);if(!jE(rT,this)){const e=BE(rT,this,document.createElement("div"));e.className="noAltTextBadge",jE(iT,this).div.append(e)}jE(rT,this).classList.toggle("hidden",!e)}serialize(e){let t=jE(YC,this);return e||jE(sT,this)!==t||(t=jE(aT,this)),{altText:t,decorative:jE(JC,this),guessedText:jE(sT,this),textWithDisclaimer:jE(aT,this)}}get data(){return{altText:jE(YC,this),decorative:jE(JC,this)}}set data(e){let{altText:t,decorative:n,guessedText:r,textWithDisclaimer:i,cancel:s=!1}=e;r&&(BE(sT,this,r),BE(aT,this,i)),jE(YC,this)===t&&jE(JC,this)===n||(s||(BE(YC,this,t),BE(JC,this,n)),OE(lT,this,hT).call(this))}toggle(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];jE($C,this)&&(!e&&jE(tT,this)&&(clearTimeout(jE(tT,this)),BE(tT,this,null)),jE($C,this).disabled=!e)}shown(){jE(iT,this)._reportTelemetry({action:"pdfjs.image.alt_text.image_status_label_displayed",data:{label:FE(lT,this,uT)}})}destroy(){var e,t;null===(e=jE($C,this))||void 0===e||e.remove(),BE($C,this,null),BE(ZC,this,null),BE(eT,this,null),null===(t=jE(rT,this))||void 0===t||t.remove(),BE(rT,this,null)}}function uT(e){return(jE(YC,e)?"added":null===jE(YC,e)&&e.guessedText&&"review")||"missing"}async function hT(){const e=jE($C,this);if(!e)return;if(jE(oT,this)){var t,n;if(e.classList.toggle("done",!!jE(YC,this)),e.setAttribute("data-l10n-id",dT._[FE(lT,this,uT)]),null===(t=jE(ZC,this))||void 0===t||t.setAttribute("data-l10n-id",dT._["".concat(FE(lT,this,uT),"-label")]),!jE(YC,this))return void(null===(n=jE(eT,this))||void 0===n||n.remove())}else{var r;if(!jE(YC,this)&&!jE(JC,this))return e.classList.remove("done"),void(null===(r=jE(eT,this))||void 0===r||r.remove());e.classList.add("done"),e.setAttribute("data-l10n-id","pdfjs-editor-alt-text-edit-button")}let i=jE(eT,this);if(!i){BE(eT,this,i=document.createElement("span")),i.className="tooltip",i.setAttribute("role","tooltip"),i.id="alt-text-tooltip-".concat(jE(iT,this).id);const t=100,n=jE(iT,this)._uiManager._signal;n.addEventListener("abort",(()=>{clearTimeout(jE(tT,this)),BE(tT,this,null)}),{once:!0}),e.addEventListener("mouseenter",(()=>{BE(tT,this,setTimeout((()=>{BE(tT,this,null),jE(eT,this).classList.add("show"),jE(iT,this)._reportTelemetry({action:"alt_text_tooltip"})}),t))}),{signal:n}),e.addEventListener("mouseleave",(()=>{var e;jE(tT,this)&&(clearTimeout(jE(tT,this)),BE(tT,this,null)),null===(e=jE(eT,this))||void 0===e||e.classList.remove("show")}),{signal:n})}jE(JC,this)?i.setAttribute("data-l10n-id","pdfjs-editor-alt-text-decorative-tooltip"):(i.removeAttribute("data-l10n-id"),i.textContent=jE(YC,this)),i.parentNode||e.append(i);const s=jE(iT,this).getImageForAltText();null===s||void 0===s||s.setAttribute("aria-describedby",i.id)}var dT={_:null};h(cT,"_l10n",null);var pT=new WeakMap,fT=new WeakMap,gT=new WeakMap,mT=new WeakMap,vT=new WeakMap,yT=new WeakMap,bT=new WeakMap,wT=new WeakMap,_T=new WeakMap,ST=new WeakMap,ET=new WeakMap,AT=new WeakMap,kT=new WeakMap,xT=new WeakMap,CT=new WeakMap,TT=new WeakMap,IT=new WeakMap,RT=new WeakMap,MT=new WeakMap,PT=new WeakMap,NT=new WeakSet;class LT{static get _resizerKeyboardManager(){const e=LT.prototype._resizeWithKeyboard,t=TC.TRANSLATE_SMALL,n=TC.TRANSLATE_BIG;return rk(this,"_resizerKeyboardManager",new Fx([[["ArrowLeft","mac+ArrowLeft"],e,{args:[-t,0]}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e,{args:[-n,0]}],[["ArrowRight","mac+ArrowRight"],e,{args:[t,0]}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e,{args:[n,0]}],[["ArrowUp","mac+ArrowUp"],e,{args:[0,-t]}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e,{args:[0,-n]}],[["ArrowDown","mac+ArrowDown"],e,{args:[0,t]}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e,{args:[0,n]}],[["Escape","mac+Escape"],LT.prototype._stopResizingWithKeyboard]]))}constructor(e){LE(this,NT),DE(this,pT,null),DE(this,fT,null),DE(this,gT,null),DE(this,mT,!1),DE(this,vT,!1),DE(this,yT,null),DE(this,bT,null),DE(this,wT,null),DE(this,_T,""),DE(this,ST,!1),DE(this,ET,null),DE(this,AT,!1),DE(this,kT,!1),DE(this,xT,!1),DE(this,CT,null),DE(this,TT,0),DE(this,IT,0),DE(this,RT,null),h(this,"_editToolbar",null),h(this,"_initialOptions",Object.create(null)),h(this,"_initialData",null),h(this,"_isVisible",!0),h(this,"_uiManager",null),h(this,"_focusEventsAllowed",!0),DE(this,MT,!1),DE(this,PT,LT._zIndex++),this.parent=e.parent,this.id=e.id,this.width=this.height=null,this.pageIndex=e.parent.pageIndex,this.name=e.name,this.div=null,this._uiManager=e.uiManager,this.annotationElementId=null,this._willKeepAspectRatio=!1,this._initialOptions.isCentered=e.isCentered,this._structTreeParentId=null;const{rotation:t,rawDims:{pageWidth:n,pageHeight:r,pageX:i,pageY:s}}=this.parent.viewport;this.rotation=t,this.pageRotation=(360+t-this._uiManager.viewParameters.rotation)%360,this.pageDimensions=[n,r],this.pageTranslation=[i,s];const[a,o]=this.parentDimensions;this.x=e.x/a,this.y=e.y/o,this.isAttachedToDOM=!1,this.deleted=!1}get editorType(){return Object.getPrototypeOf(this).constructor._type}static get _defaultLineColor(){return rk(this,"_defaultLineColor",this._colorManager.getHexCode("CanvasText"))}static deleteAnnotationElement(e){const t=new YT({id:e.parent.getNextId(),parent:e.parent,uiManager:e._uiManager});t.annotationElementId=e.annotationElementId,t.deleted=!0,t._uiManager.addToAnnotationStorage(t)}static initialize(e,t){var n;if(null!==(n=LT._l10n)&&void 0!==n||(LT._l10n=e),LT._l10nResizer||(LT._l10nResizer=Object.freeze({topLeft:"pdfjs-editor-resizer-top-left",topMiddle:"pdfjs-editor-resizer-top-middle",topRight:"pdfjs-editor-resizer-top-right",middleRight:"pdfjs-editor-resizer-middle-right",bottomRight:"pdfjs-editor-resizer-bottom-right",bottomMiddle:"pdfjs-editor-resizer-bottom-middle",bottomLeft:"pdfjs-editor-resizer-bottom-left",middleLeft:"pdfjs-editor-resizer-middle-left"})),-1!==LT._borderLineWidth)return;const r=getComputedStyle(document.documentElement);LT._borderLineWidth=parseFloat(r.getPropertyValue("--outline-width"))||0}static updateDefaultParams(e,t){}static get defaultPropertiesToUpdate(){return[]}static isHandlingMimeForPasting(e){return!1}static paste(e,t){ek("Not implemented")}get propertiesToUpdate(){return[]}get _isDraggable(){return jE(MT,this)}set _isDraggable(e){var t;BE(MT,this,e),null===(t=this.div)||void 0===t||t.classList.toggle("draggable",e)}get isEnterHandled(){return!0}center(){const[e,t]=this.pageDimensions;switch(this.parentRotation){case 90:this.x-=this.height*t/(2*e),this.y+=this.width*e/(2*t);break;case 180:this.x+=this.width/2,this.y+=this.height/2;break;case 270:this.x+=this.height*t/(2*e),this.y-=this.width*e/(2*t);break;default:this.x-=this.width/2,this.y-=this.height/2}this.fixAndSetPosition()}addCommands(e){this._uiManager.addCommands(e)}get currentLayer(){return this._uiManager.currentLayer}setInBackground(){this.div.style.zIndex=0}setInForeground(){this.div.style.zIndex=jE(PT,this)}setParent(e){null!==e?(this.pageIndex=e.pageIndex,this.pageDimensions=e.pageDimensions):OE(NT,this,QT).call(this),this.parent=e}focusin(e){this._focusEventsAllowed&&(jE(ST,this)?BE(ST,this,!1):this.parent.setSelected(this))}focusout(e){var t;if(!this._focusEventsAllowed)return;if(!this.isAttachedToDOM)return;const n=e.relatedTarget;null!==n&&void 0!==n&&n.closest("#".concat(this.id))||(e.preventDefault(),null!==(t=this.parent)&&void 0!==t&&t.isMultipleSelection||this.commitOrRemove())}commitOrRemove(){this.isEmpty()?this.remove():this.commit()}commit(){this.addToAnnotationStorage()}addToAnnotationStorage(){this._uiManager.addToAnnotationStorage(this)}setAt(e,t,n,r){const[i,s]=this.parentDimensions;[n,r]=this.screenToPageTranslation(n,r),this.x=(e+n)/i,this.y=(t+r)/s,this.fixAndSetPosition()}translate(e,t){OE(NT,this,DT).call(this,this.parentDimensions,e,t)}translateInPage(e,t){jE(ET,this)||BE(ET,this,[this.x,this.y]),OE(NT,this,DT).call(this,this.pageDimensions,e,t),this.div.scrollIntoView({block:"nearest"})}drag(e,t){jE(ET,this)||BE(ET,this,[this.x,this.y]);const[n,r]=this.parentDimensions;if(this.x+=e/n,this.y+=t/r,this.parent&&(this.x<0||this.x>1||this.y<0||this.y>1)){const{x:e,y:t}=this.div.getBoundingClientRect();this.parent.findNewParent(this,e,t)&&(this.x-=Math.floor(this.x),this.y-=Math.floor(this.y))}let{x:i,y:s}=this;const[a,o]=this.getBaseTranslation();i+=a,s+=o,this.div.style.left="".concat((100*i).toFixed(2),"%"),this.div.style.top="".concat((100*s).toFixed(2),"%"),this.div.scrollIntoView({block:"nearest"})}get _hasBeenMoved(){return!!jE(ET,this)&&(jE(ET,this)[0]!==this.x||jE(ET,this)[1]!==this.y)}getBaseTranslation(){const[e,t]=this.parentDimensions,{_borderLineWidth:n}=LT,r=n/e,i=n/t;switch(this.rotation){case 90:return[-r,i];case 180:return[r,i];case 270:return[r,-i];default:return[-r,-i]}}get _mustFixPosition(){return!0}fixAndSetPosition(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.rotation;const[t,n]=this.pageDimensions;let{x:r,y:i,width:s,height:a}=this;if(s*=t,a*=n,r*=t,i*=n,this._mustFixPosition)switch(e){case 0:r=Math.max(0,Math.min(t-s,r)),i=Math.max(0,Math.min(n-a,i));break;case 90:r=Math.max(0,Math.min(t-a,r)),i=Math.min(n,Math.max(s,i));break;case 180:r=Math.min(t,Math.max(s,r)),i=Math.min(n,Math.max(a,i));break;case 270:r=Math.min(t,Math.max(a,r)),i=Math.max(0,Math.min(n-s,i))}this.x=r/=t,this.y=i/=n;const[o,l]=this.getBaseTranslation();r+=o,i+=l;const{style:c}=this.div;c.left="".concat((100*r).toFixed(2),"%"),c.top="".concat((100*i).toFixed(2),"%"),this.moveInDOM()}screenToPageTranslation(e,t){return OT.call(LT,e,t,this.parentRotation)}pageTranslationToScreen(e,t){return OT.call(LT,e,t,360-this.parentRotation)}get parentScale(){return this._uiManager.viewParameters.realScale}get parentRotation(){return(this._uiManager.viewParameters.rotation+this.pageRotation)%360}get parentDimensions(){const{parentScale:e,pageDimensions:[t,n]}=this;return[t*e,n*e]}setDims(e,t){const[n,r]=this.parentDimensions;this.div.style.width="".concat((100*e/n).toFixed(2),"%"),jE(vT,this)||(this.div.style.height="".concat((100*t/r).toFixed(2),"%"))}fixDims(){const{style:e}=this.div,{height:t,width:n}=e,r=n.endsWith("%"),i=!jE(vT,this)&&t.endsWith("%");if(r&&i)return;const[s,a]=this.parentDimensions;r||(e.width="".concat((100*parseFloat(n)/s).toFixed(2),"%")),jE(vT,this)||i||(e.height="".concat((100*parseFloat(t)/a).toFixed(2),"%"))}getInitialTranslation(){return[0,0]}altTextFinish(){var e;null===(e=jE(gT,this))||void 0===e||e.finish()}async addEditToolbar(){return this._editToolbar||jE(kT,this)||(this._editToolbar=new ax(this),this.div.append(this._editToolbar.render()),jE(gT,this)&&await this._editToolbar.addAltText(jE(gT,this))),this._editToolbar}removeEditToolbar(){var e;this._editToolbar&&(this._editToolbar.remove(),this._editToolbar=null,null===(e=jE(gT,this))||void 0===e||e.destroy())}addContainer(e){var t;const n=null===(t=this._editToolbar)||void 0===t?void 0:t.div;n?n.before(e):this.div.append(e)}getClientDimensions(){return this.div.getBoundingClientRect()}async addAltTextButton(){jE(gT,this)||(cT.initialize(LT._l10n),BE(gT,this,new cT(this)),jE(pT,this)&&(jE(gT,this).data=jE(pT,this),BE(pT,this,null)),await this.addEditToolbar())}get altTextData(){var e;return null===(e=jE(gT,this))||void 0===e?void 0:e.data}set altTextData(e){jE(gT,this)&&(jE(gT,this).data=e)}get guessedAltText(){var e;return null===(e=jE(gT,this))||void 0===e?void 0:e.guessedText}async setGuessedAltText(e){var t;await(null===(t=jE(gT,this))||void 0===t?void 0:t.setGuessedText(e))}serializeAltText(e){var t;return null===(t=jE(gT,this))||void 0===t?void 0:t.serialize(e)}hasAltText(){return!!jE(gT,this)&&!jE(gT,this).isEmpty()}hasAltTextData(){var e,t;return null!==(e=null===(t=jE(gT,this))||void 0===t?void 0:t.hasData())&&void 0!==e&&e}render(){this.div=document.createElement("div"),this.div.setAttribute("data-editor-rotation",(360-this.rotation)%360),this.div.className=this.name,this.div.setAttribute("id",this.id),this.div.tabIndex=jE(mT,this)?-1:0,this._isVisible||this.div.classList.add("hidden"),this.setInForeground(),OE(NT,this,HT).call(this);const[e,t]=this.parentDimensions;this.parentRotation%180!==0&&(this.div.style.maxWidth="".concat((100*t/e).toFixed(2),"%"),this.div.style.maxHeight="".concat((100*e/t).toFixed(2),"%"));const[n,r]=this.getInitialTranslation();return this.translate(n,r),Sx(this,this.div,["pointerdown"]),this.div}pointerdown(e){const{isMac:t}=gk.platform;0!==e.button||e.ctrlKey&&t?e.preventDefault():(BE(ST,this,!0),this._isDraggable?OE(NT,this,WT).call(this,e):OE(NT,this,UT).call(this,e))}get isSelected(){return this._uiManager.isSelected(this)}moveInDOM(){jE(CT,this)&&clearTimeout(jE(CT,this)),BE(CT,this,setTimeout((()=>{var e;BE(CT,this,null),null===(e=this.parent)||void 0===e||e.moveEditorInDOM(this)}),0))}_setParentAndPosition(e,t,n){e.changeParent(this),this.x=t,this.y=n,this.fixAndSetPosition()}getRect(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:this.rotation;const r=this.parentScale,[i,s]=this.pageDimensions,[a,o]=this.pageTranslation,l=e/r,c=t/r,u=this.x*i,h=this.y*s,d=this.width*i,p=this.height*s;switch(n){case 0:return[u+l+a,s-h-c-p+o,u+l+d+a,s-h-c+o];case 90:return[u+c+a,s-h+l+o,u+c+p+a,s-h+l+d+o];case 180:return[u-l-d+a,s-h+c+o,u-l+a,s-h+c+p+o];case 270:return[u-c-p+a,s-h-l-d+o,u-c+a,s-h-l+o];default:throw new Error("Invalid rotation")}}getRectInCurrentCoords(e,t){const[n,r,i,s]=e,a=i-n,o=s-r;switch(this.rotation){case 0:return[n,t-s,a,o];case 90:return[n,t-r,o,a];case 180:return[i,t-r,a,o];case 270:return[i,t-s,o,a];default:throw new Error("Invalid rotation")}}onceAdded(){}isEmpty(){return!1}enableEditMode(){BE(kT,this,!0)}disableEditMode(){BE(kT,this,!1)}isInEditMode(){return jE(kT,this)}shouldGetKeyboardEvents(){return jE(xT,this)}needsToBeRebuilt(){return this.div&&!this.isAttachedToDOM}rebuild(){OE(NT,this,HT).call(this)}rotate(e){}serializeDeleted(){var e;return{id:this.annotationElementId,deleted:!0,pageIndex:this.pageIndex,popupRef:(null===(e=this._initialData)||void 0===e?void 0:e.popupRef)||""}}serialize(){ek("An editor must be serializable")}static async deserialize(e,t,n){const r=new this.prototype.constructor({parent:t,id:t.getNextId(),uiManager:n});r.rotation=e.rotation,BE(pT,r,e.accessibilityData);const[i,s]=r.pageDimensions,[a,o,l,c]=r.getRectInCurrentCoords(e.rect,s);return r.x=a/i,r.y=o/s,r.width=l/i,r.height=c/s,r}get hasBeenModified(){return!!this.annotationElementId&&(this.deleted||null!==this.serialize())}remove(){var e;if(null===(e=jE(wT,this))||void 0===e||e.abort(),BE(wT,this,null),this.isEmpty()||this.commit(),this.parent?this.parent.remove(this):this._uiManager.removeEditor(this),jE(CT,this)&&(clearTimeout(jE(CT,this)),BE(CT,this,null)),OE(NT,this,QT).call(this),this.removeEditToolbar(),jE(RT,this)){for(const e of jE(RT,this).values())clearTimeout(e);BE(RT,this,null)}this.parent=null}get isResizable(){return!1}makeResizable(){this.isResizable&&(OE(NT,this,jT).call(this),jE(yT,this).classList.remove("hidden"),Sx(this,this.div,["keydown"]))}get toolbarPosition(){return null}keydown(e){if(!this.isResizable||e.target!==this.div||"Enter"!==e.key)return;this._uiManager.setSelected(this),BE(bT,this,{savedX:this.x,savedY:this.y,savedWidth:this.width,savedHeight:this.height});const t=jE(yT,this).children;if(!jE(fT,this)){BE(fT,this,Array.from(t));const e=OE(NT,this,qT).bind(this),n=OE(NT,this,GT).bind(this),r=this._uiManager._signal;for(const t of jE(fT,this)){const i=t.getAttribute("data-resizer-name");t.setAttribute("role","spinbutton"),t.addEventListener("keydown",e,{signal:r}),t.addEventListener("blur",n,{signal:r}),t.addEventListener("focus",OE(NT,this,KT).bind(this,i),{signal:r}),t.setAttribute("data-l10n-id",LT._l10nResizer[i])}}const n=jE(fT,this)[0];let r=0;for(const s of t){if(s===n)break;r++}const i=(360-this.rotation+this.parentRotation)%360/90*(jE(fT,this).length/4);if(i!==r){if(i<r)for(let t=0;t<r-i;t++)jE(yT,this).append(jE(yT,this).firstChild);else if(i>r)for(let t=0;t<i-r;t++)jE(yT,this).firstChild.before(jE(yT,this).lastChild);let e=0;for(const n of t){const t=jE(fT,this)[e++].getAttribute("data-resizer-name");n.setAttribute("data-l10n-id",LT._l10nResizer[t])}}OE(NT,this,XT).call(this,0),BE(xT,this,!0),jE(yT,this).firstChild.focus({focusVisible:!0}),e.preventDefault(),e.stopImmediatePropagation()}_resizeWithKeyboard(e,t){jE(xT,this)&&OE(NT,this,VT).call(this,jE(_T,this),{movementX:e,movementY:t})}_stopResizingWithKeyboard(){OE(NT,this,QT).call(this),this.div.focus()}select(){var e,t,n;this.makeResizable(),null===(e=this.div)||void 0===e||e.classList.add("selectedEditor"),this._editToolbar?(null===(t=this._editToolbar)||void 0===t||t.show(),null===(n=jE(gT,this))||void 0===n||n.toggleAltTextBadge(!1)):this.addEditToolbar().then((()=>{var e,t;null!==(e=this.div)&&void 0!==e&&e.classList.contains("selectedEditor")&&(null===(t=this._editToolbar)||void 0===t||t.show())}))}unselect(){var e,t,n,r,i;null===(e=jE(yT,this))||void 0===e||e.classList.add("hidden"),null===(t=this.div)||void 0===t||t.classList.remove("selectedEditor"),null!==(n=this.div)&&void 0!==n&&n.contains(document.activeElement)&&this._uiManager.currentLayer.div.focus({preventScroll:!0}),null===(r=this._editToolbar)||void 0===r||r.hide(),null===(i=jE(gT,this))||void 0===i||i.toggleAltTextBadge(!0)}updateParams(e,t){}disableEditing(){}enableEditing(){}enterInEditMode(){}getImageForAltText(){return null}get contentDiv(){return this.div}get isEditing(){return jE(AT,this)}set isEditing(e){BE(AT,this,e),this.parent&&(e?(this.parent.setSelected(this),this.parent.setActiveEditor(this)):this.parent.setActiveEditor(null))}setAspectRatio(e,t){BE(vT,this,!0);const n=e/t,{style:r}=this.div;r.aspectRatio=n,r.height="auto"}static get MIN_SIZE(){return 16}static canCreateNewEmptyEditor(){return!0}get telemetryInitialData(){return{action:"added"}}get telemetryFinalData(){return null}_reportTelemetry(e){if(arguments.length>1&&void 0!==arguments[1]&&arguments[1]){jE(RT,this)||BE(RT,this,new Map);const{action:t}=e;let n=jE(RT,this).get(t);return n&&clearTimeout(n),n=setTimeout((()=>{this._reportTelemetry(e),jE(RT,this).delete(t),0===jE(RT,this).size&&BE(RT,this,null)}),LT._telemetryTimeout),void jE(RT,this).set(t,n)}e.type||(e.type=this.editorType),this._uiManager._eventBus.dispatch("reporttelemetry",{source:this,details:{type:"editing",data:e}})}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;this.div.classList.toggle("hidden",!e),this._isVisible=e}enable(){this.div&&(this.div.tabIndex=0),BE(mT,this,!1)}disable(){this.div&&(this.div.tabIndex=-1),BE(mT,this,!0)}renderAnnotationElement(e){let t=e.container.querySelector(".annotationContent");if(t){if("CANVAS"===t.nodeName){const e=t;t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.before(t)}}else t=document.createElement("div"),t.classList.add("annotationContent",this.editorType),e.container.prepend(t);return t}resetAnnotationElement(e){const{firstChild:t}=e.container;"DIV"===(null===t||void 0===t?void 0:t.nodeName)&&t.classList.contains("annotationContent")&&t.remove()}}function DT(e,t,n){let[r,i]=e;[t,n]=this.screenToPageTranslation(t,n),this.x+=t/r,this.y+=n/i,this.fixAndSetPosition()}function OT(e,t,n){switch(n){case 90:return[t,-e];case 180:return[-e,-t];case 270:return[-t,e];default:return[e,t]}}function FT(e){switch(e){case 90:{const[e,t]=this.pageDimensions;return[0,-e/t,t/e,0]}case 180:return[-1,0,0,-1];case 270:{const[e,t]=this.pageDimensions;return[0,e/t,-t/e,0]}default:return[1,0,0,1]}}function jT(){if(jE(yT,this))return;BE(yT,this,document.createElement("div")),jE(yT,this).classList.add("resizers");const e=this._willKeepAspectRatio?["topLeft","topRight","bottomRight","bottomLeft"]:["topLeft","topMiddle","topRight","middleRight","bottomRight","bottomMiddle","bottomLeft","middleLeft"],t=this._uiManager._signal;for(const n of e){const e=document.createElement("div");jE(yT,this).append(e),e.classList.add("resizer",n),e.setAttribute("data-resizer-name",n),e.addEventListener("pointerdown",OE(NT,this,BT).bind(this,n),{signal:t}),e.addEventListener("contextmenu",Hk,{signal:t}),e.tabIndex=-1}this.div.prepend(jE(yT,this))}function BT(e,t){var n;t.preventDefault();const{isMac:r}=gk.platform;if(0!==t.button||t.ctrlKey&&r)return;null===(n=jE(gT,this))||void 0===n||n.toggle(!1);const i=this._isDraggable;this._isDraggable=!1;const s=new AbortController,a=this._uiManager.combinedSignal(s);this.parent.togglePointerEvents(!1),window.addEventListener("pointermove",OE(NT,this,VT).bind(this,e),{passive:!0,capture:!0,signal:a}),window.addEventListener("contextmenu",Hk,{signal:a});const o=this.x,l=this.y,c=this.width,u=this.height,h=this.parent.div.style.cursor,d=this.div.style.cursor;this.div.style.cursor=this.parent.div.style.cursor=window.getComputedStyle(t.target).cursor;const p=()=>{var e;s.abort(),this.parent.togglePointerEvents(!0),null===(e=jE(gT,this))||void 0===e||e.toggle(!0),this._isDraggable=i,this.parent.div.style.cursor=h,this.div.style.cursor=d,OE(NT,this,zT).call(this,o,l,c,u)};window.addEventListener("pointerup",p,{signal:a}),window.addEventListener("blur",p,{signal:a})}function zT(e,t,n,r){const i=this.x,s=this.y,a=this.width,o=this.height;i===e&&s===t&&a===n&&o===r||this.addCommands({cmd:()=>{this.width=a,this.height=o,this.x=i,this.y=s;const[e,t]=this.parentDimensions;this.setDims(e*a,t*o),this.fixAndSetPosition()},undo:()=>{this.width=n,this.height=r,this.x=e,this.y=t;const[i,s]=this.parentDimensions;this.setDims(i*n,s*r),this.fixAndSetPosition()},mustExec:!0})}function VT(e,t){const[n,r]=this.parentDimensions,i=this.x,s=this.y,a=this.width,o=this.height,l=WE.MIN_SIZE/n,c=WE.MIN_SIZE/r,u=e=>Math.round(1e4*e)/1e4,h=OE(NT,this,FT).call(this,this.rotation),d=(e,t)=>[h[0]*e+h[2]*t,h[1]*e+h[3]*t],p=OE(NT,this,FT).call(this,360-this.rotation);let f,g,m=!1,v=!1;switch(e){case"topLeft":m=!0,f=(e,t)=>[0,0],g=(e,t)=>[e,t];break;case"topMiddle":f=(e,t)=>[e/2,0],g=(e,t)=>[e/2,t];break;case"topRight":m=!0,f=(e,t)=>[e,0],g=(e,t)=>[0,t];break;case"middleRight":v=!0,f=(e,t)=>[e,t/2],g=(e,t)=>[0,t/2];break;case"bottomRight":m=!0,f=(e,t)=>[e,t],g=(e,t)=>[0,0];break;case"bottomMiddle":f=(e,t)=>[e/2,t],g=(e,t)=>[e/2,0];break;case"bottomLeft":m=!0,f=(e,t)=>[0,t],g=(e,t)=>[e,0];break;case"middleLeft":v=!0,f=(e,t)=>[0,t/2],g=(e,t)=>[e,t/2]}const y=f(a,o),b=g(a,o);let w=d(...b);const _=u(i+w[0]),S=u(s+w[1]);let E=1,A=1,[k,x]=this.screenToPageTranslation(t.movementX,t.movementY);if([k,x]=((e,t)=>[p[0]*e+p[2]*t,p[1]*e+p[3]*t])(k/n,x/r),m){const e=Math.hypot(a,o);E=A=Math.max(Math.min(Math.hypot(b[0]-y[0]-k,b[1]-y[1]-x)/e,1/a,1/o),l/a,c/o)}else v?E=Math.max(l,Math.min(1,Math.abs(b[0]-y[0]-k)))/a:A=Math.max(c,Math.min(1,Math.abs(b[1]-y[1]-x)))/o;const C=u(a*E),T=u(o*A);w=d(...g(C,T));const I=_-w[0],R=S-w[1];this.width=C,this.height=T,this.x=I,this.y=R,this.setDims(n*C,r*T),this.fixAndSetPosition()}function UT(e){const{isMac:t}=gk.platform;e.ctrlKey&&!t||e.shiftKey||e.metaKey&&t?this.parent.toggleSelected(this):this.parent.setSelected(this)}function WT(e){const{isSelected:t}=this;this._uiManager.setUpDragSession();const n=new AbortController,r=this._uiManager.combinedSignal(n);if(t){this.div.classList.add("moving"),BE(TT,this,e.clientX),BE(IT,this,e.clientY);const t=e=>{const{clientX:t,clientY:n}=e,[r,i]=this.screenToPageTranslation(t-jE(TT,this),n-jE(IT,this));BE(TT,this,t),BE(IT,this,n),this._uiManager.dragSelectedEditors(r,i)};window.addEventListener("pointermove",t,{passive:!0,capture:!0,signal:r})}const i=()=>{n.abort(),t&&this.div.classList.remove("moving"),BE(ST,this,!1),this._uiManager.endDragSession()||OE(NT,this,UT).call(this,e)};window.addEventListener("pointerup",i,{signal:r}),window.addEventListener("blur",i,{signal:r})}function HT(){if(jE(wT,this)||!this.div)return;BE(wT,this,new AbortController);const e=this._uiManager.combinedSignal(jE(wT,this));this.div.addEventListener("focusin",this.focusin.bind(this),{signal:e}),this.div.addEventListener("focusout",this.focusout.bind(this),{signal:e})}function qT(e){WE._resizerKeyboardManager.exec(this,e)}function GT(e){var t;jE(xT,this)&&(null===(t=e.relatedTarget)||void 0===t?void 0:t.parentNode)!==jE(yT,this)&&OE(NT,this,QT).call(this)}function KT(e){BE(_T,this,jE(xT,this)?e:"")}function XT(e){if(jE(fT,this))for(const t of jE(fT,this))t.tabIndex=e}function QT(){if(BE(xT,this,!1),OE(NT,this,XT).call(this,-1),jE(bT,this)){const{savedX:e,savedY:t,savedWidth:n,savedHeight:r}=jE(bT,this);OE(NT,this,zT).call(this,e,t,n,r),BE(bT,this,null)}}WE=LT,h(LT,"_l10n",null),h(LT,"_l10nResizer",null),h(LT,"_borderLineWidth",-1),h(LT,"_colorManager",new Bx),h(LT,"_zIndex",1),h(LT,"_telemetryTimeout",1e3);class YT extends LT{constructor(e){super(e),this.annotationElementId=e.annotationElementId,this.deleted=!0}serialize(){return this.serializeDeleted()}}const JT=3285377520,$T=4294901760,ZT=65535;class eI{constructor(e){this.h1=e?4294967295&e:JT,this.h2=e?4294967295&e:JT}update(e){let t,n;if("string"===typeof e){t=new Uint8Array(2*e.length),n=0;for(let r=0,i=e.length;r<i;r++){const i=e.charCodeAt(r);i<=255?t[n++]=i:(t[n++]=i>>>8,t[n++]=255&i)}}else{if(!ArrayBuffer.isView(e))throw new Error("Invalid data format, must be a string or TypedArray.");t=e.slice(),n=t.byteLength}const r=n>>2,i=n-4*r,s=new Uint32Array(t.buffer,0,r);let a=0,o=0,l=this.h1,c=this.h2;const u=3432918353,h=461845907,d=11601,p=13715;for(let f=0;f<r;f++)1&f?(a=s[f],a=a*u&$T|a*d&ZT,a=a<<15|a>>>17,a=a*h&$T|a*p&ZT,l^=a,l=l<<13|l>>>19,l=5*l+3864292196):(o=s[f],o=o*u&$T|o*d&ZT,o=o<<15|o>>>17,o=o*h&$T|o*p&ZT,c^=o,c=c<<13|c>>>19,c=5*c+3864292196);switch(a=0,i){case 3:a^=t[4*r+2]<<16;case 2:a^=t[4*r+1]<<8;case 1:a^=t[4*r],a=a*u&$T|a*d&ZT,a=a<<15|a>>>17,a=a*h&$T|a*p&ZT,1&r?l^=a:c^=a}this.h1=l,this.h2=c}hexdigest(){let e=this.h1,t=this.h2;return e^=t>>>1,e=3981806797*e&$T|36045*e&ZT,t=4283543511*t&$T|(2950163797*(t<<16|e>>>16)&$T)>>>16,e^=t>>>1,e=444984403*e&$T|60499*e&ZT,t=3301882366*t&$T|(3120437893*(t<<16|e>>>16)&$T)>>>16,e^=t>>>1,(e>>>0).toString(16).padStart(8,"0")+(t>>>0).toString(16).padStart(8,"0")}}const tI=Object.freeze({map:null,hash:"",transfer:void 0});var nI=new WeakMap,rI=new WeakMap,iI=new WeakMap,sI=new WeakSet;class aI{constructor(){LE(this,sI),DE(this,nI,!1),DE(this,rI,null),DE(this,iI,new Map),this.onSetModified=null,this.onResetModified=null,this.onAnnotationEditor=null}getValue(e,t){const n=jE(iI,this).get(e);return void 0===n?t:Object.assign(t,n)}getRawValue(e){return jE(iI,this).get(e)}remove(e){if(jE(iI,this).delete(e),0===jE(iI,this).size&&this.resetModified(),"function"===typeof this.onAnnotationEditor){for(const e of jE(iI,this).values())if(e instanceof LT)return;this.onAnnotationEditor(null)}}setValue(e,t){const n=jE(iI,this).get(e);let r=!1;if(void 0!==n)for(const[i,s]of Object.entries(t))n[i]!==s&&(r=!0,n[i]=s);else r=!0,jE(iI,this).set(e,t);r&&OE(sI,this,oI).call(this),t instanceof LT&&"function"===typeof this.onAnnotationEditor&&this.onAnnotationEditor(t.constructor._type)}has(e){return jE(iI,this).has(e)}getAll(){return jE(iI,this).size>0?fk(jE(iI,this)):null}setAll(e){for(const[t,n]of Object.entries(e))this.setValue(t,n)}get size(){return jE(iI,this).size}resetModified(){jE(nI,this)&&(BE(nI,this,!1),"function"===typeof this.onResetModified&&this.onResetModified())}get print(){return new cI(this)}get serializable(){if(0===jE(iI,this).size)return tI;const e=new Map,t=new eI,n=[],r=Object.create(null);let i=!1;for(const[s,a]of jE(iI,this)){const n=a instanceof LT?a.serialize(!1,r):a;n&&(e.set(s,n),t.update("".concat(s,":").concat(JSON.stringify(n))),i||(i=!!n.bitmap))}if(i)for(const s of e.values())s.bitmap&&n.push(s.bitmap);return e.size>0?{map:e,hash:t.hexdigest(),transfer:n}:tI}get editorStats(){let e=null;const t=new Map;for(const i of jE(iI,this).values()){var n;if(!(i instanceof LT))continue;const s=i.telemetryFinalData;if(!s)continue;const{type:a}=s;t.has(a)||t.set(a,Object.getPrototypeOf(i).constructor),e||(e=Object.create(null));const o=(n=e)[a]||(n[a]=new Map);for(const[e,t]of Object.entries(s)){var r;if("type"===e)continue;let n=o.get(e);n||(n=new Map,o.set(e,n));const i=null!==(r=n.get(t))&&void 0!==r?r:0;n.set(t,i+1)}}for(const[i,s]of t)e[i]=s.computeTelemetryFinalData(e[i]);return e}resetModifiedIds(){BE(rI,this,null)}get modifiedIds(){if(jE(rI,this))return jE(rI,this);const e=[];for(const t of jE(iI,this).values())t instanceof LT&&t.annotationElementId&&t.serialize()&&e.push(t.annotationElementId);return BE(rI,this,{ids:new Set(e),hash:e.join(",")})}}function oI(){jE(nI,this)||(BE(nI,this,!0),"function"===typeof this.onSetModified&&this.onSetModified())}var lI=new WeakMap;class cI extends aI{constructor(e){super(),DE(this,lI,void 0);const{map:t,hash:n,transfer:r}=e.serializable,i=structuredClone(t,r?{transfer:r}:null);BE(lI,this,{map:i,hash:n,transfer:r})}get print(){ek("Should not call PrintAnnotationStorage.print")}get serializable(){return jE(lI,this)}get modifiedIds(){return rk(this,"modifiedIds",{ids:new Set,hash:""})}}var uI=new WeakMap;class hI{constructor(e){let{ownerDocument:t=globalThis.document,styleElement:n=null}=e;DE(this,uI,new Set),this._document=t,this.nativeFontFaces=new Set,this.styleElement=null,this.loadingRequests=[],this.loadTestFontId=0}addNativeFontFace(e){this.nativeFontFaces.add(e),this._document.fonts.add(e)}removeNativeFontFace(e){this.nativeFontFaces.delete(e),this._document.fonts.delete(e)}insertRule(e){this.styleElement||(this.styleElement=this._document.createElement("style"),this._document.documentElement.getElementsByTagName("head")[0].append(this.styleElement));const t=this.styleElement.sheet;t.insertRule(e,t.cssRules.length)}clear(){for(const e of this.nativeFontFaces)this._document.fonts.delete(e);this.nativeFontFaces.clear(),jE(uI,this).clear(),this.styleElement&&(this.styleElement.remove(),this.styleElement=null)}async loadSystemFont(e){let{systemFontInfo:t,_inspectFont:n}=e;if(t&&!jE(uI,this).has(t.loadedName))if(tk(!this.disableFontFace,"loadSystemFont shouldn't be called when `disableFontFace` is set."),this.isFontLoadingAPISupported){const{loadedName:e,src:i,style:s}=t,a=new FontFace(e,i,s);this.addNativeFontFace(a);try{await a.load(),jE(uI,this).add(e),null===n||void 0===n||n(t)}catch(r){ZA("Cannot load system font: ".concat(t.baseFontName,", installing it could help to improve PDF rendering.")),this.removeNativeFontFace(a)}}else ek("Not implemented: loadSystemFont without the Font Loading API.")}async bind(e){if(e.attached||e.missingFile&&!e.systemFontInfo)return;if(e.attached=!0,e.systemFontInfo)return void await this.loadSystemFont(e);if(this.isFontLoadingAPISupported){const t=e.createNativeFontFace();if(t){this.addNativeFontFace(t);try{await t.loaded}catch(n){throw ZA("Failed to load font '".concat(t.family,"': '").concat(n,"'.")),e.disableFontFace=!0,n}}return}const t=e.createFontFaceRule();if(t){if(this.insertRule(t),this.isSyncFontLoadingSupported)return;await new Promise((t=>{const n=this._queueLoadingCallback(t);this._prepareFontLoadEvent(e,n)}))}}get isFontLoadingAPISupported(){var e;return rk(this,"isFontLoadingAPISupported",!(null===(e=this._document)||void 0===e||!e.fonts))}get isSyncFontLoadingSupported(){var e;let t=!1;return(eA||"undefined"!==typeof navigator&&"string"===typeof(null===(e=navigator)||void 0===e?void 0:e.userAgent)&&/Mozilla\/5.0.*?rv:\d+.*? Gecko/.test(navigator.userAgent))&&(t=!0),rk(this,"isSyncFontLoadingSupported",t)}_queueLoadingCallback(e){const{loadingRequests:t}=this,n={done:!1,complete:function(){for(tk(!n.done,"completeRequest() cannot be called twice."),n.done=!0;t.length>0&&t[0].done;){const e=t.shift();setTimeout(e.callback,0)}},callback:e};return t.push(n),n}get _loadTestFont(){return rk(this,"_loadTestFont",atob("T1RUTwALAIAAAwAwQ0ZGIDHtZg4AAAOYAAAAgUZGVE1lkzZwAAAEHAAAABxHREVGABQAFQAABDgAAAAeT1MvMlYNYwkAAAEgAAAAYGNtYXABDQLUAAACNAAAAUJoZWFk/xVFDQAAALwAAAA2aGhlYQdkA+oAAAD0AAAAJGhtdHgD6AAAAAAEWAAAAAZtYXhwAAJQAAAAARgAAAAGbmFtZVjmdH4AAAGAAAAAsXBvc3T/hgAzAAADeAAAACAAAQAAAAEAALZRFsRfDzz1AAsD6AAAAADOBOTLAAAAAM4KHDwAAAAAA+gDIQAAAAgAAgAAAAAAAAABAAADIQAAAFoD6AAAAAAD6AABAAAAAAAAAAAAAAAAAAAAAQAAUAAAAgAAAAQD6AH0AAUAAAKKArwAAACMAooCvAAAAeAAMQECAAACAAYJAAAAAAAAAAAAAQAAAAAAAAAAAAAAAFBmRWQAwAAuAC4DIP84AFoDIQAAAAAAAQAAAAAAAAAAACAAIAABAAAADgCuAAEAAAAAAAAAAQAAAAEAAAAAAAEAAQAAAAEAAAAAAAIAAQAAAAEAAAAAAAMAAQAAAAEAAAAAAAQAAQAAAAEAAAAAAAUAAQAAAAEAAAAAAAYAAQAAAAMAAQQJAAAAAgABAAMAAQQJAAEAAgABAAMAAQQJAAIAAgABAAMAAQQJAAMAAgABAAMAAQQJAAQAAgABAAMAAQQJAAUAAgABAAMAAQQJAAYAAgABWABYAAAAAAAAAwAAAAMAAAAcAAEAAAAAADwAAwABAAAAHAAEACAAAAAEAAQAAQAAAC7//wAAAC7////TAAEAAAAAAAABBgAAAQAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAEAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAAMAAAAAAAD/gwAyAAAAAQAAAAAAAAAAAAAAAAAAAAABAAQEAAEBAQJYAAEBASH4DwD4GwHEAvgcA/gXBIwMAYuL+nz5tQXkD5j3CBLnEQACAQEBIVhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYAAABAQAADwACAQEEE/t3Dov6fAH6fAT+fPp8+nwHDosMCvm1Cvm1DAz6fBQAAAAAAAABAAAAAMmJbzEAAAAAzgTjFQAAAADOBOQpAAEAAAAAAAAADAAUAAQAAAABAAAAAgABAAAAAAAAAAAD6AAAAAAAAA=="))}_prepareFontLoadEvent(e,t){function n(e,t){return e.charCodeAt(t)<<24|e.charCodeAt(t+1)<<16|e.charCodeAt(t+2)<<8|255&e.charCodeAt(t+3)}function r(e,t,n,r){return e.substring(0,t)+r+e.substring(t+n)}let i,s;const a=this._document.createElement("canvas");a.width=1,a.height=1;const o=a.getContext("2d");let l=0;const c="lt".concat(Date.now()).concat(this.loadTestFontId++);let u=this._loadTestFont;u=r(u,976,c.length,c);const h=1482184792;let d=n(u,16);for(i=0,s=c.length-3;i<s;i+=4)d=d-h+n(c,i)|0;var p;i<c.length&&(d=d-h+n(c+"XXX",i)|0),u=r(u,16,4,(p=d,String.fromCharCode(p>>24&255,p>>16&255,p>>8&255,255&p)));const f="url(data:font/opentype;base64,".concat(btoa(u),");"),g='@font-face {font-family:"'.concat(c,'";src:').concat(f,"}");this.insertRule(g);const m=this._document.createElement("div");m.style.visibility="hidden",m.style.width=m.style.height="10px",m.style.position="absolute",m.style.top=m.style.left="0px";for(const v of[e.loadedName,c]){const e=this._document.createElement("span");e.textContent="Hi",e.style.fontFamily=v,m.append(e)}this._document.body.append(m),function e(t,n){if(++l>30)return ZA("Load test font never loaded."),void n();o.font="30px "+t,o.fillText(".",0,20),o.getImageData(0,0,1,1).data[3]>0?n():setTimeout(e.bind(null,t,n))}(c,(()=>{m.remove(),t.complete()}))}}class dI{constructor(e,t){let{disableFontFace:n=!1,inspectFont:r=null}=t;this.compiledGlyphs=Object.create(null);for(const i in e)this[i]=e[i];this.disableFontFace=!0===n,this._inspectFont=r}createNativeFontFace(){var e;if(!this.data||this.disableFontFace)return null;let t;if(this.cssFontInfo){const e={weight:this.cssFontInfo.fontWeight};this.cssFontInfo.italicAngle&&(e.style="oblique ".concat(this.cssFontInfo.italicAngle,"deg")),t=new FontFace(this.cssFontInfo.fontFamily,this.data,e)}else t=new FontFace(this.loadedName,this.data,{});return null===(e=this._inspectFont)||void 0===e||e.call(this,this),t}createFontFaceRule(){var e;if(!this.data||this.disableFontFace)return null;const t="url(data:".concat(this.mimetype,";base64,").concat((n=this.data,Uint8Array.prototype.toBase64?n.toBase64():btoa(dk(n))),");");var n;let r;if(this.cssFontInfo){let e="font-weight: ".concat(this.cssFontInfo.fontWeight,";");this.cssFontInfo.italicAngle&&(e+="font-style: oblique ".concat(this.cssFontInfo.italicAngle,"deg;")),r='@font-face {font-family:"'.concat(this.cssFontInfo.fontFamily,'";').concat(e,"src:").concat(t,"}")}else r='@font-face {font-family:"'.concat(this.loadedName,'";src:').concat(t,"}");return null===(e=this._inspectFont)||void 0===e||e.call(this,this,t),r}getPathGenerator(e,t){if(void 0!==this.compiledGlyphs[t])return this.compiledGlyphs[t];let n;try{n=e.get(this.loadedName+"_path_"+t)}catch(i){ZA('getPathGenerator - ignoring character: "'.concat(i,'".'))}if(!Array.isArray(n)||0===n.length)return this.compiledGlyphs[t]=function(e,t){};const r=[];for(let s=0,a=n.length;s<a;)switch(n[s++]){case Ak:{const[e,t,i,a,o,l]=n.slice(s,s+6);r.push((n=>n.bezierCurveTo(e,t,i,a,o,l))),s+=6}break;case kk:{const[e,t]=n.slice(s,s+2);r.push((n=>n.moveTo(e,t))),s+=2}break;case xk:{const[e,t]=n.slice(s,s+2);r.push((n=>n.lineTo(e,t))),s+=2}break;case Ck:{const[e,t,i,a]=n.slice(s,s+4);r.push((n=>n.quadraticCurveTo(e,t,i,a))),s+=4}break;case Tk:r.push((e=>e.restore()));break;case Ik:r.push((e=>e.save()));break;case Rk:tk(2===r.length,"Scale command is only valid at the third position.");break;case Mk:{const[e,t,i,a,o,l]=n.slice(s,s+6);r.push((n=>n.transform(e,t,i,a,o,l))),s+=6}break;case Pk:{const[e,t]=n.slice(s,s+2);r.push((n=>n.translate(e,t))),s+=2}}return this.compiledGlyphs[t]=function(e,t){r[0](e),r[1](e),e.scale(t,-t);for(let n=2,i=r.length;n<i;n++)r[n](e)}}}var pI=new WeakMap;class fI{constructor(e){let{enableHWA:t=!1}=e;DE(this,pI,!1),BE(pI,this,t)}create(e,t){if(e<=0||t<=0)throw new Error("Invalid canvas size");const n=this._createCanvas(e,t);return{canvas:n,context:n.getContext("2d",{willReadFrequently:!jE(pI,this)})}}reset(e,t,n){if(!e.canvas)throw new Error("Canvas is not specified");if(t<=0||n<=0)throw new Error("Invalid canvas size");e.canvas.width=t,e.canvas.height=n}destroy(e){if(!e.canvas)throw new Error("Canvas is not specified");e.canvas.width=0,e.canvas.height=0,e.canvas=null,e.context=null}_createCanvas(e,t){ek("Abstract method `_createCanvas` called.")}}class gI{constructor(e){let{baseUrl:t=null,isCompressed:n=!0}=e;this.baseUrl=t,this.isCompressed=n}async fetch(e){let{name:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `cMapUrl` and `cMapPacked` API parameters are provided.");if(!t)throw new Error("CMap name must be specified.");const n=this.baseUrl+t+(this.isCompressed?".bcmap":"");return this._fetch(n).then((e=>({cMapData:e,isCompressed:this.isCompressed}))).catch((e=>{throw new Error("Unable to load ".concat(this.isCompressed?"binary ":"","CMap at: ").concat(n))}))}async _fetch(e){ek("Abstract method `_fetch` called.")}}class mI extends gI{async _fetch(e){const t=await Dk(e,this.isCompressed?"arraybuffer":"text");return t instanceof ArrayBuffer?new Uint8Array(t):pk(t)}}class vI{addFilter(e){return"none"}addHCMFilter(e,t){return"none"}addAlphaFilter(e){return"none"}addLuminosityFilter(e){return"none"}addHighlightHCMFilter(e,t,n,r,i){return"none"}destroy(){}}var yI=new WeakMap,bI=new WeakMap,wI=new WeakMap,_I=new WeakMap,SI=new WeakMap,EI=new WeakMap,AI=new WeakMap,kI=new WeakSet;function xI(e){return jE(bI,e)||BE(bI,e,new Map)}function CI(e){return jE(EI,e)||BE(EI,e,new Map)}function TI(e){if(!jE(wI,e)){const t=jE(SI,e).createElement("div"),{style:n}=t;n.visibility="hidden",n.contain="strict",n.width=n.height=0,n.position="absolute",n.top=n.left=0,n.zIndex=-1;const r=jE(SI,e).createElementNS(Nk,"svg");r.setAttribute("width",0),r.setAttribute("height",0),BE(wI,e,jE(SI,e).createElementNS(Nk,"defs")),t.append(r),r.append(jE(wI,e)),jE(SI,e).body.append(t)}return jE(wI,e)}function II(e){if(1===e.length){const t=e[0],n=new Array(256);for(let e=0;e<256;e++)n[e]=t[e]/255;const r=n.join(",");return[r,r,r]}const[t,n,r]=e,i=new Array(256),s=new Array(256),a=new Array(256);for(let o=0;o<256;o++)i[o]=t[o]/255,s[o]=n[o]/255,a[o]=r[o]/255;return[i.join(","),s.join(","),a.join(",")]}function RI(e){if(void 0===jE(yI,this)){BE(yI,this,"");const e=jE(SI,this).URL;e!==jE(SI,this).baseURI&&(jk(e)?ZA('#createUrl: ignore "data:"-URL for performance reasons.'):BE(yI,this,e.split("#",1)[0]))}return"url(".concat(jE(yI,this),"#").concat(e,")")}function MI(e){const t=jE(SI,this).createElementNS(Nk,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0 0 0 0 0 0 0 0 0 0 0 0 0 0 0 0.3 0.59 0.11 0 0"),e.append(t)}function PI(e){const t=jE(SI,this).createElementNS(Nk,"feColorMatrix");t.setAttribute("type","matrix"),t.setAttribute("values","0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0.2126 0.7152 0.0722 0 0 0 0 0 1 0"),e.append(t)}function NI(e){const t=jE(SI,this).createElementNS(Nk,"filter");return t.setAttribute("color-interpolation-filters","sRGB"),t.setAttribute("id",e),FE(kI,this,TI).append(t),t}function LI(e,t,n){const r=jE(SI,this).createElementNS(Nk,t);r.setAttribute("type","discrete"),r.setAttribute("tableValues",n),e.append(r)}function DI(e,t,n,r){const i=jE(SI,this).createElementNS(Nk,"feComponentTransfer");r.append(i),OE(kI,this,LI).call(this,i,"feFuncR",e),OE(kI,this,LI).call(this,i,"feFuncG",t),OE(kI,this,LI).call(this,i,"feFuncB",n)}function OI(e,t){const n=jE(SI,this).createElementNS(Nk,"feComponentTransfer");t.append(n),OE(kI,this,LI).call(this,n,"feFuncA",e)}function FI(e){return FE(kI,this,TI).style.color=e,Qk(getComputedStyle(FE(kI,this,TI)).getPropertyValue("color"))}class jI{constructor(e){let{baseUrl:t=null}=e;this.baseUrl=t}async fetch(e){let{filename:t}=e;if(!this.baseUrl)throw new Error("Ensure that the `standardFontDataUrl` API parameter is provided.");if(!t)throw new Error("Font filename must be specified.");const n="".concat(this.baseUrl).concat(t);return this._fetch(n).catch((e=>{throw new Error("Unable to load font data at: ".concat(n))}))}async _fetch(e){ek("Abstract method `_fetch` called.")}}class BI extends jI{async _fetch(e){const t=await Dk(e,"arraybuffer");return new Uint8Array(t)}}if(eA){var zI=Promise.withResolvers(),VI=null;(async()=>{const e=await import("fs"),t=await import("http"),n=await import("https"),r=await import("url");return new Map(Object.entries({fs:e,http:t,https:n,url:r,canvas:undefined,path2d:undefined}))})().then((e=>{VI=e,zI.resolve()}),(e=>{ZA("loadPackages: ".concat(e)),VI=new Map,zI.resolve()}))}class UI{static get promise(){return zI.promise}static get(e){var t;return null===(t=VI)||void 0===t?void 0:t.get(e)}}async function WI(e){const t=UI.get("fs"),n=await t.promises.readFile(e);return new Uint8Array(n)}const HI="Fill",qI="Stroke",GI="Shading";function KI(e,t){if(!t)return;const n=t[2]-t[0],r=t[3]-t[1],i=new Path2D;i.rect(t[0],t[1],n,r),e.clip(i)}class XI{getPattern(){ek("Abstract method `getPattern` called.")}}class QI extends XI{constructor(e){super(),this._type=e[1],this._bbox=e[2],this._colorStops=e[3],this._p0=e[4],this._p1=e[5],this._r0=e[6],this._r1=e[7],this.matrix=null}_createGradient(e){let t;"axial"===this._type?t=e.createLinearGradient(this._p0[0],this._p0[1],this._p1[0],this._p1[1]):"radial"===this._type&&(t=e.createRadialGradient(this._p0[0],this._p0[1],this._r0,this._p1[0],this._p1[1],this._r1));for(const n of this._colorStops)t.addColorStop(n[0],n[1]);return t}getPattern(e,t,n,r){let i;if(r===qI||r===HI){const s=t.current.getClippedPathBoundingBox(r,Yk(e))||[0,0,0,0],a=Math.ceil(s[2]-s[0])||1,o=Math.ceil(s[3]-s[1])||1,l=t.cachedCanvases.getCanvas("pattern",a,o),c=l.context;c.clearRect(0,0,c.canvas.width,c.canvas.height),c.beginPath(),c.rect(0,0,c.canvas.width,c.canvas.height),c.translate(-s[0],-s[1]),n=vk.transform(n,[1,0,0,1,s[0],s[1]]),c.transform(...t.baseTransform),this.matrix&&c.transform(...this.matrix),KI(c,this._bbox),c.fillStyle=this._createGradient(c),c.fill(),i=e.createPattern(l.canvas,"no-repeat");const u=new DOMMatrix(n);i.setTransform(u)}else KI(e,this._bbox),i=this._createGradient(e);return i}}function YI(e,t,n,r,i,s,a,o){const l=t.coords,c=t.colors,u=e.data,h=4*e.width;let d;l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d),l[r+1]>l[i+1]&&(d=r,r=i,i=d,d=a,a=o,o=d),l[n+1]>l[r+1]&&(d=n,n=r,r=d,d=s,s=a,a=d);const p=(l[n]+t.offsetX)*t.scaleX,f=(l[n+1]+t.offsetY)*t.scaleY,g=(l[r]+t.offsetX)*t.scaleX,m=(l[r+1]+t.offsetY)*t.scaleY,v=(l[i]+t.offsetX)*t.scaleX,y=(l[i+1]+t.offsetY)*t.scaleY;if(f>=y)return;const b=c[s],w=c[s+1],_=c[s+2],S=c[a],E=c[a+1],A=c[a+2],k=c[o],x=c[o+1],C=c[o+2],T=Math.round(f),I=Math.round(y);let R,M,P,N,L,D,O,F;for(let j=T;j<=I;j++){if(j<m){const e=j<f?0:(f-j)/(f-m);R=p-(p-g)*e,M=b-(b-S)*e,P=w-(w-E)*e,N=_-(_-A)*e}else{let e;e=j>y?1:m===y?0:(m-j)/(m-y),R=g-(g-v)*e,M=S-(S-k)*e,P=E-(E-x)*e,N=A-(A-C)*e}let e;e=j<f?0:j>y?1:(f-j)/(f-y),L=p-(p-v)*e,D=b-(b-k)*e,O=w-(w-x)*e,F=_-(_-C)*e;const t=Math.round(Math.min(R,L)),n=Math.round(Math.max(R,L));let r=h*j+4*t;for(let i=t;i<=n;i++)e=(R-i)/(R-L),e<0?e=0:e>1&&(e=1),u[r++]=M-(M-D)*e|0,u[r++]=P-(P-O)*e|0,u[r++]=N-(N-F)*e|0,u[r++]=255}}function JI(e,t,n){const r=t.coords,i=t.colors;let s,a;switch(t.type){case"lattice":const o=t.verticesPerRow,l=Math.floor(r.length/o)-1,c=o-1;for(s=0;s<l;s++){let t=s*o;for(let s=0;s<c;s++,t++)YI(e,n,r[t],r[t+1],r[t+o],i[t],i[t+1],i[t+o]),YI(e,n,r[t+o+1],r[t+1],r[t+o],i[t+o+1],i[t+1],i[t+o])}break;case"triangles":for(s=0,a=r.length;s<a;s+=3)YI(e,n,r[s],r[s+1],r[s+2],i[s],i[s+1],i[s+2]);break;default:throw new Error("illegal figure")}}class $I extends XI{constructor(e){super(),this._coords=e[2],this._colors=e[3],this._figures=e[4],this._bounds=e[5],this._bbox=e[7],this._background=e[8],this.matrix=null}_createMeshCanvas(e,t,n){const r=Math.floor(this._bounds[0]),i=Math.floor(this._bounds[1]),s=Math.ceil(this._bounds[2])-r,a=Math.ceil(this._bounds[3])-i,o=Math.min(Math.ceil(Math.abs(s*e[0]*1.1)),3e3),l=Math.min(Math.ceil(Math.abs(a*e[1]*1.1)),3e3),c=s/o,u=a/l,h={coords:this._coords,colors:this._colors,offsetX:-r,offsetY:-i,scaleX:1/c,scaleY:1/u},d=o+4,p=l+4,f=n.getCanvas("mesh",d,p),g=f.context,m=g.createImageData(o,l);if(t){const e=m.data;for(let n=0,r=e.length;n<r;n+=4)e[n]=t[0],e[n+1]=t[1],e[n+2]=t[2],e[n+3]=255}for(const v of this._figures)JI(m,v,h);g.putImageData(m,2,2);return{canvas:f.canvas,offsetX:r-2*c,offsetY:i-2*u,scaleX:c,scaleY:u}}getPattern(e,t,n,r){let i;if(KI(e,this._bbox),r===GI)i=vk.singularValueDecompose2dScale(Yk(e));else if(i=vk.singularValueDecompose2dScale(t.baseTransform),this.matrix){const e=vk.singularValueDecompose2dScale(this.matrix);i=[i[0]*e[0],i[1]*e[1]]}const s=this._createMeshCanvas(i,r===GI?null:this._background,t.cachedCanvases);return r!==GI&&(e.setTransform(...t.baseTransform),this.matrix&&e.transform(...this.matrix)),e.translate(s.offsetX,s.offsetY),e.scale(s.scaleX,s.scaleY),e.createPattern(s.canvas,"no-repeat")}}class ZI extends XI{getPattern(){return"hotpink"}}const eR=1,tR=2;class nR{constructor(e,t,n,r,i){this.operatorList=e[2],this.matrix=e[3],this.bbox=e[4],this.xstep=e[5],this.ystep=e[6],this.paintType=e[7],this.tilingType=e[8],this.color=t,this.ctx=n,this.canvasGraphicsFactory=r,this.baseTransform=i}createPatternCanvas(e){const{bbox:t,operatorList:n,paintType:r,tilingType:i,color:s,canvasGraphicsFactory:a}=this;let{xstep:o,ystep:l}=this;o=Math.abs(o),l=Math.abs(l),$A("TilingType: "+i);const c=t[0],u=t[1],h=t[2],d=t[3],p=h-c,f=d-u,g=vk.singularValueDecompose2dScale(this.matrix),m=vk.singularValueDecompose2dScale(this.baseTransform),v=g[0]*m[0],y=g[1]*m[1];let b=p,w=f,_=!1,S=!1;const E=Math.ceil(o*v),A=Math.ceil(l*y);E>=Math.ceil(p*v)?b=o:_=!0,A>=Math.ceil(f*y)?w=l:S=!0;const k=this.getSizeAndScale(b,this.ctx.canvas.width,v),x=this.getSizeAndScale(w,this.ctx.canvas.height,y),C=e.cachedCanvases.getCanvas("pattern",k.size,x.size),T=C.context,I=a.createCanvasGraphics(T);if(I.groupLevel=e.groupLevel,this.setFillAndStrokeStyleToContext(I,r,s),T.translate(-k.scale*c,-x.scale*u),I.transform(k.scale,0,0,x.scale,0,0),T.save(),this.clipBbox(I,c,u,h,d),I.baseTransform=Yk(I.ctx),I.executeOperatorList(n),I.endDrawing(),T.restore(),_||S){const t=C.canvas;_&&(b=o),S&&(w=l);const n=this.getSizeAndScale(b,this.ctx.canvas.width,v),r=this.getSizeAndScale(w,this.ctx.canvas.height,y),i=n.size,s=r.size,a=e.cachedCanvases.getCanvas("pattern-workaround",i,s),h=a.context,d=_?Math.floor(p/o):0,g=S?Math.floor(f/l):0;for(let e=0;e<=d;e++)for(let n=0;n<=g;n++)h.drawImage(t,i*e,s*n,i,s,0,0,i,s);return{canvas:a.canvas,scaleX:n.scale,scaleY:r.scale,offsetX:c,offsetY:u}}return{canvas:C.canvas,scaleX:k.scale,scaleY:x.scale,offsetX:c,offsetY:u}}getSizeAndScale(e,t,n){const r=Math.max(nR.MAX_PATTERN_SIZE,t);let i=Math.ceil(e*n);return i>=r?i=r:n=i/e,{scale:n,size:i}}clipBbox(e,t,n,r,i){const s=r-t,a=i-n;e.ctx.rect(t,n,s,a),e.current.updateRectMinMax(Yk(e.ctx),[t,n,r,i]),e.clip(),e.endPath()}setFillAndStrokeStyleToContext(e,t,n){const r=e.ctx,i=e.current;switch(t){case eR:const e=this.ctx;r.fillStyle=e.fillStyle,r.strokeStyle=e.strokeStyle,i.fillColor=e.fillStyle,i.strokeColor=e.strokeStyle;break;case tR:const s=vk.makeHexColor(n[0],n[1],n[2]);r.fillStyle=s,r.strokeStyle=s,i.fillColor=s,i.strokeColor=s;break;default:throw new uk("Unsupported paint type: ".concat(t))}}getPattern(e,t,n,r){let i=n;r!==GI&&(i=vk.transform(i,t.baseTransform),this.matrix&&(i=vk.transform(i,this.matrix)));const s=this.createPatternCanvas(t);let a=new DOMMatrix(i);a=a.translate(s.offsetX,s.offsetY),a=a.scale(1/s.scaleX,1/s.scaleY);const o=e.createPattern(s.canvas,"repeat");return o.setTransform(a),o}}function rR(e){let{src:t,srcPos:n=0,dest:r,width:i,height:s,nonBlackColor:a=4294967295,inverseDecode:o=!1}=e;const l=gk.isLittleEndian?4278190080:255,[c,u]=o?[a,l]:[l,a],h=i>>3,d=7&i,p=t.length;r=new Uint32Array(r.buffer);let f=0;for(let g=0;g<s;g++){for(const i=n+h;n<i;n++){const e=n<p?t[n]:255;r[f++]=128&e?u:c,r[f++]=64&e?u:c,r[f++]=32&e?u:c,r[f++]=16&e?u:c,r[f++]=8&e?u:c,r[f++]=4&e?u:c,r[f++]=2&e?u:c,r[f++]=1&e?u:c}if(0===d)continue;const e=n<p?t[n++]:255;for(let t=0;t<d;t++)r[f++]=e&1<<7-t?u:c}return{srcPos:n,destPos:f}}h(nR,"MAX_PATTERN_SIZE",3e3);const iR=16;class sR{constructor(e){this.canvasFactory=e,this.cache=Object.create(null)}getCanvas(e,t,n){let r;return void 0!==this.cache[e]?(r=this.cache[e],this.canvasFactory.reset(r,t,n)):(r=this.canvasFactory.create(t,n),this.cache[e]=r),r}delete(e){delete this.cache[e]}clear(){for(const e in this.cache){const t=this.cache[e];this.canvasFactory.destroy(t),delete this.cache[e]}}}function aR(e,t,n,r,i,s,a,o,l,c){const[u,h,d,p,f,g]=Yk(e);if(0===h&&0===d){const m=a*u+f,v=Math.round(m),y=o*p+g,b=Math.round(y),w=(a+l)*u+f,_=Math.abs(Math.round(w)-v)||1,S=(o+c)*p+g,E=Math.abs(Math.round(S)-b)||1;return e.setTransform(Math.sign(u),0,0,Math.sign(p),v,b),e.drawImage(t,n,r,i,s,0,0,_,E),e.setTransform(u,h,d,p,f,g),[_,E]}if(0===u&&0===p){const m=o*d+f,v=Math.round(m),y=a*h+g,b=Math.round(y),w=(o+c)*d+f,_=Math.abs(Math.round(w)-v)||1,S=(a+l)*h+g,E=Math.abs(Math.round(S)-b)||1;return e.setTransform(0,Math.sign(h),Math.sign(d),0,v,b),e.drawImage(t,n,r,i,s,0,0,E,_),e.setTransform(u,h,d,p,f,g),[E,_]}e.drawImage(t,n,r,i,s,a,o,l,c);return[Math.hypot(u,h)*l,Math.hypot(d,p)*c]}class oR{constructor(e,t){this.alphaIsShape=!1,this.fontSize=0,this.fontSizeScale=1,this.textMatrix=tA,this.textMatrixScale=1,this.fontMatrix=nA,this.leading=0,this.x=0,this.y=0,this.lineX=0,this.lineY=0,this.charSpacing=0,this.wordSpacing=0,this.textHScale=1,this.textRenderingMode=mA,this.textRise=0,this.fillColor="#000000",this.strokeColor="#000000",this.patternFill=!1,this.fillAlpha=1,this.strokeAlpha=1,this.lineWidth=1,this.activeSMask=null,this.transferMaps="none",this.startNewPathAndClipBox([0,0,e,t])}clone(){const e=Object.create(this);return e.clipBox=this.clipBox.slice(),e}setCurrentPoint(e,t){this.x=e,this.y=t}updatePathMinMax(e,t,n){[t,n]=vk.applyTransform([t,n],e),this.minX=Math.min(this.minX,t),this.minY=Math.min(this.minY,n),this.maxX=Math.max(this.maxX,t),this.maxY=Math.max(this.maxY,n)}updateRectMinMax(e,t){const n=vk.applyTransform(t,e),r=vk.applyTransform(t.slice(2),e),i=vk.applyTransform([t[0],t[3]],e),s=vk.applyTransform([t[2],t[1]],e);this.minX=Math.min(this.minX,n[0],r[0],i[0],s[0]),this.minY=Math.min(this.minY,n[1],r[1],i[1],s[1]),this.maxX=Math.max(this.maxX,n[0],r[0],i[0],s[0]),this.maxY=Math.max(this.maxY,n[1],r[1],i[1],s[1])}updateScalingPathMinMax(e,t){vk.scaleMinMax(e,t),this.minX=Math.min(this.minX,t[0]),this.minY=Math.min(this.minY,t[1]),this.maxX=Math.max(this.maxX,t[2]),this.maxY=Math.max(this.maxY,t[3])}updateCurvePathMinMax(e,t,n,r,i,s,a,o,l,c){const u=vk.bezierBoundingBox(t,n,r,i,s,a,o,l,c);c||this.updateRectMinMax(e,u)}getPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[this.minX,this.minY,this.maxX,this.maxY];if(e===qI){t||ek("Stroke bounding box must include transform.");const e=vk.singularValueDecompose2dScale(t),r=e[0]*this.lineWidth/2,i=e[1]*this.lineWidth/2;n[0]-=r,n[1]-=i,n[2]+=r,n[3]+=i}return n}updateClipFromPath(){const e=vk.intersect(this.clipBox,this.getPathBoundingBox());this.startNewPathAndClipBox(e||[0,0,0,0])}isEmptyClip(){return this.minX===1/0}startNewPathAndClipBox(e){this.clipBox=e,this.minX=1/0,this.minY=1/0,this.maxX=0,this.maxY=0}getClippedPathBoundingBox(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:HI,t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return vk.intersect(this.clipBox,this.getPathBoundingBox(e,t))}}function lR(e,t){if("undefined"!==typeof ImageData&&t instanceof ImageData)return void e.putImageData(t,0,0);const n=t.height,r=t.width,i=n%iR,s=(n-i)/iR,a=0===i?s:s+1,o=e.createImageData(r,iR);let l,c=0;const u=t.data,h=o.data;let d,p,f,g;if(t.kind===SA.GRAYSCALE_1BPP){const t=u.byteLength,n=new Uint32Array(h.buffer,0,h.byteLength>>2),g=n.length,m=r+7>>3,v=4294967295,y=gk.isLittleEndian?4278190080:255;for(d=0;d<a;d++){for(f=d<s?iR:i,l=0,p=0;p<f;p++){const e=t-c;let i=0;const s=e>m?r:8*e-7,a=-8&s;let o=0,h=0;for(;i<a;i+=8)h=u[c++],n[l++]=128&h?v:y,n[l++]=64&h?v:y,n[l++]=32&h?v:y,n[l++]=16&h?v:y,n[l++]=8&h?v:y,n[l++]=4&h?v:y,n[l++]=2&h?v:y,n[l++]=1&h?v:y;for(;i<s;i++)0===o&&(h=u[c++],o=128),n[l++]=h&o?v:y,o>>=1}for(;l<g;)n[l++]=0;e.putImageData(o,0,d*iR)}}else if(t.kind===SA.RGBA_32BPP){for(p=0,g=r*iR*4,d=0;d<s;d++)h.set(u.subarray(c,c+g)),c+=g,e.putImageData(o,0,p),p+=iR;d<a&&(g=r*i*4,h.set(u.subarray(c,c+g)),e.putImageData(o,0,p))}else{if(t.kind!==SA.RGB_24BPP)throw new Error("bad image kind: ".concat(t.kind));for(f=iR,g=r*f,d=0;d<a;d++){for(d>=s&&(f=i,g=r*f),l=0,p=g;p--;)h[l++]=u[c++],h[l++]=u[c++],h[l++]=u[c++],h[l++]=255;e.putImageData(o,0,d*iR)}}}function cR(e,t){if(t.bitmap)return void e.drawImage(t.bitmap,0,0);const n=t.height,r=t.width,i=n%iR,s=(n-i)/iR,a=0===i?s:s+1,o=e.createImageData(r,iR);let l=0;const c=t.data,u=o.data;for(let h=0;h<a;h++){const t=h<s?iR:i;({srcPos:l}=rR({src:c,srcPos:l,dest:u,width:r,height:t,nonBlackColor:0})),e.putImageData(o,0,h*iR)}}function uR(e,t){const n=["strokeStyle","fillStyle","fillRule","globalAlpha","lineWidth","lineCap","lineJoin","miterLimit","globalCompositeOperation","font","filter"];for(const r of n)void 0!==e[r]&&(t[r]=e[r]);void 0!==e.setLineDash&&(t.setLineDash(e.getLineDash()),t.lineDashOffset=e.lineDashOffset)}function hR(e){if(e.strokeStyle=e.fillStyle="#000000",e.fillRule="nonzero",e.globalAlpha=1,e.lineWidth=1,e.lineCap="butt",e.lineJoin="miter",e.miterLimit=10,e.globalCompositeOperation="source-over",e.font="10px sans-serif",void 0!==e.setLineDash&&(e.setLineDash([]),e.lineDashOffset=0),!eA){const{filter:t}=e;"none"!==t&&""!==t&&(e.filter="none")}}function dR(e,t){if(t)return!0;const n=vk.singularValueDecompose2dScale(e);n[0]=Math.fround(n[0]),n[1]=Math.fround(n[1]);const r=Math.fround((globalThis.devicePixelRatio||1)*Lk.PDF_TO_CSS_UNITS);return n[0]<=r&&n[1]<=r}const pR=["butt","round","square"],fR=["miter","round","bevel"],gR={},mR={};var vR=new WeakSet;class yR{constructor(e,t,n,r,i,s,a,o){let{optionalContentConfig:l,markedContentStack:c=null}=s;LE(this,vR),this.ctx=e,this.current=new oR(this.ctx.canvas.width,this.ctx.canvas.height),this.stateStack=[],this.pendingClip=null,this.pendingEOFill=!1,this.res=null,this.xobjs=null,this.commonObjs=t,this.objs=n,this.canvasFactory=r,this.filterFactory=i,this.groupStack=[],this.processingType3=null,this.baseTransform=null,this.baseTransformStack=[],this.groupLevel=0,this.smaskStack=[],this.smaskCounter=0,this.tempSMask=null,this.suspendedCtx=null,this.contentVisible=!0,this.markedContentStack=c||[],this.optionalContentConfig=l,this.cachedCanvases=new sR(this.canvasFactory),this.cachedPatterns=new Map,this.annotationCanvasMap=a,this.viewportScale=1,this.outputScaleX=1,this.outputScaleY=1,this.pageColors=o,this._cachedScaleForStroking=[-1,0],this._cachedGetSinglePixelWidth=null,this._cachedBitmapsMap=new Map}getObject(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return"string"===typeof e?e.startsWith("g_")?this.commonObjs.get(e):this.objs.get(e):t}beginDrawing(e){let{transform:t,viewport:n,transparency:r=!1,background:i=null}=e;const s=this.ctx.canvas.width,a=this.ctx.canvas.height,o=this.ctx.fillStyle;if(this.ctx.fillStyle=i||"#ffffff",this.ctx.fillRect(0,0,s,a),this.ctx.fillStyle=o,r){const e=this.cachedCanvases.getCanvas("transparent",s,a);this.compositeCtx=this.ctx,this.transparentCanvas=e.canvas,this.ctx=e.context,this.ctx.save(),this.ctx.transform(...Yk(this.compositeCtx))}this.ctx.save(),hR(this.ctx),t&&(this.ctx.transform(...t),this.outputScaleX=t[0],this.outputScaleY=t[0]),this.ctx.transform(...n.transform),this.viewportScale=n.scale,this.baseTransform=Yk(this.ctx)}executeOperatorList(e,t,n,r){const i=e.argsArray,s=e.fnArray;let a=t||0;const o=i.length;if(o===a)return a;const l=o-a>10&&"function"===typeof n,c=l?Date.now()+15:0;let u=0;const h=this.commonObjs,d=this.objs;let p;for(;;){if(void 0!==r&&a===r.nextBreakPoint)return r.breakIt(a,n),a;if(p=s[a],p!==KA.dependency)this[p].apply(this,i[a]);else for(const e of i[a]){const t=e.startsWith("g_")?h:d;if(!t.has(e))return t.get(e,n),a}if(a++,a===o)return a;if(l&&++u>10){if(Date.now()>c)return n(),a;u=0}}}endDrawing(){OE(vR,this,bR).call(this),this.cachedCanvases.clear(),this.cachedPatterns.clear();for(const e of this._cachedBitmapsMap.values()){for(const t of e.values())"undefined"!==typeof HTMLCanvasElement&&t instanceof HTMLCanvasElement&&(t.width=t.height=0);e.clear()}this._cachedBitmapsMap.clear(),OE(vR,this,wR).call(this)}_scaleImage(e,t){var n,r;const i=null!==(n=e.width)&&void 0!==n?n:e.displayWidth,s=null!==(r=e.height)&&void 0!==r?r:e.displayHeight;let a,o,l=Math.max(Math.hypot(t[0],t[1]),1),c=Math.max(Math.hypot(t[2],t[3]),1),u=i,h=s,d="prescale1";for(;l>2&&u>1||c>2&&h>1;){let t=u,n=h;l>2&&u>1&&(t=u>=16384?Math.floor(u/2)-1||1:Math.ceil(u/2),l/=u/t),c>2&&h>1&&(n=h>=16384?Math.floor(h/2)-1||1:Math.ceil(h)/2,c/=h/n),a=this.cachedCanvases.getCanvas(d,t,n),o=a.context,o.clearRect(0,0,t,n),o.drawImage(e,0,0,u,h,0,0,t,n),e=a.canvas,u=t,h=n,d="prescale1"===d?"prescale2":"prescale1"}return{img:e,paintWidth:u,paintHeight:h}}_createMaskCanvas(e){const t=this.ctx,{width:n,height:r}=e,i=this.current.fillColor,s=this.current.patternFill,a=Yk(t);let o,l,c,u;if((e.bitmap||e.data)&&e.count>1){const t=e.bitmap||e.data.buffer;l=JSON.stringify(s?a:[a.slice(0,4),i]),o=this._cachedBitmapsMap.get(t),o||(o=new Map,this._cachedBitmapsMap.set(t,o));const n=o.get(l);if(n&&!s){return{canvas:n,offsetX:Math.round(Math.min(a[0],a[2])+a[4]),offsetY:Math.round(Math.min(a[1],a[3])+a[5])}}c=n}c||(u=this.cachedCanvases.getCanvas("maskCanvas",n,r),cR(u.context,e));let h=vk.transform(a,[1/n,0,0,-1/r,0,0]);h=vk.transform(h,[1,0,0,1,0,-r]);const[d,p,f,g]=vk.getAxialAlignedBoundingBox([0,0,n,r],h),m=Math.round(f-d)||1,v=Math.round(g-p)||1,y=this.cachedCanvases.getCanvas("fillCanvas",m,v),b=y.context,w=d,_=p;b.translate(-w,-_),b.transform(...h),c||(c=this._scaleImage(u.canvas,Jk(b)),c=c.img,o&&s&&o.set(l,c)),b.imageSmoothingEnabled=dR(Yk(b),e.interpolate),aR(b,c,0,0,c.width,c.height,0,0,n,r),b.globalCompositeOperation="source-in";const S=vk.transform(Jk(b),[1,0,0,1,-w,-_]);return b.fillStyle=s?i.getPattern(t,this,S,HI):i,b.fillRect(0,0,n,r),o&&!s&&(this.cachedCanvases.delete("fillCanvas"),o.set(l,y.canvas)),{canvas:y.canvas,offsetX:Math.round(w),offsetY:Math.round(_)}}setLineWidth(e){e!==this.current.lineWidth&&(this._cachedScaleForStroking[0]=-1),this.current.lineWidth=e,this.ctx.lineWidth=e}setLineCap(e){this.ctx.lineCap=pR[e]}setLineJoin(e){this.ctx.lineJoin=fR[e]}setMiterLimit(e){this.ctx.miterLimit=e}setDash(e,t){const n=this.ctx;void 0!==n.setLineDash&&(n.setLineDash(e),n.lineDashOffset=t)}setRenderingIntent(e){}setFlatness(e){}setGState(e){for(const[t,n]of e)switch(t){case"LW":this.setLineWidth(n);break;case"LC":this.setLineCap(n);break;case"LJ":this.setLineJoin(n);break;case"ML":this.setMiterLimit(n);break;case"D":this.setDash(n[0],n[1]);break;case"RI":this.setRenderingIntent(n);break;case"FL":this.setFlatness(n);break;case"Font":this.setFont(n[0],n[1]);break;case"CA":this.current.strokeAlpha=n;break;case"ca":this.current.fillAlpha=n,this.ctx.globalAlpha=n;break;case"BM":this.ctx.globalCompositeOperation=n;break;case"SMask":this.current.activeSMask=n?this.tempSMask:null,this.tempSMask=null,this.checkSMaskState();break;case"TR":this.ctx.filter=this.current.transferMaps=this.filterFactory.addFilter(n)}}get inSMaskMode(){return!!this.suspendedCtx}checkSMaskState(){const e=this.inSMaskMode;this.current.activeSMask&&!e?this.beginSMaskMode():!this.current.activeSMask&&e&&this.endSMaskMode()}beginSMaskMode(){if(this.inSMaskMode)throw new Error("beginSMaskMode called while already in smask mode");const e=this.ctx.canvas.width,t=this.ctx.canvas.height,n="smaskGroupAt"+this.groupLevel,r=this.cachedCanvases.getCanvas(n,e,t);this.suspendedCtx=this.ctx,this.ctx=r.context;const i=this.ctx;i.setTransform(...Yk(this.suspendedCtx)),uR(this.suspendedCtx,i),function(e,t){if(e._removeMirroring)throw new Error("Context is already forwarding operations.");e.__originalSave=e.save,e.__originalRestore=e.restore,e.__originalRotate=e.rotate,e.__originalScale=e.scale,e.__originalTranslate=e.translate,e.__originalTransform=e.transform,e.__originalSetTransform=e.setTransform,e.__originalResetTransform=e.resetTransform,e.__originalClip=e.clip,e.__originalMoveTo=e.moveTo,e.__originalLineTo=e.lineTo,e.__originalBezierCurveTo=e.bezierCurveTo,e.__originalRect=e.rect,e.__originalClosePath=e.closePath,e.__originalBeginPath=e.beginPath,e._removeMirroring=()=>{e.save=e.__originalSave,e.restore=e.__originalRestore,e.rotate=e.__originalRotate,e.scale=e.__originalScale,e.translate=e.__originalTranslate,e.transform=e.__originalTransform,e.setTransform=e.__originalSetTransform,e.resetTransform=e.__originalResetTransform,e.clip=e.__originalClip,e.moveTo=e.__originalMoveTo,e.lineTo=e.__originalLineTo,e.bezierCurveTo=e.__originalBezierCurveTo,e.rect=e.__originalRect,e.closePath=e.__originalClosePath,e.beginPath=e.__originalBeginPath,delete e._removeMirroring},e.save=function(){t.save(),this.__originalSave()},e.restore=function(){t.restore(),this.__originalRestore()},e.translate=function(e,n){t.translate(e,n),this.__originalTranslate(e,n)},e.scale=function(e,n){t.scale(e,n),this.__originalScale(e,n)},e.transform=function(e,n,r,i,s,a){t.transform(e,n,r,i,s,a),this.__originalTransform(e,n,r,i,s,a)},e.setTransform=function(e,n,r,i,s,a){t.setTransform(e,n,r,i,s,a),this.__originalSetTransform(e,n,r,i,s,a)},e.resetTransform=function(){t.resetTransform(),this.__originalResetTransform()},e.rotate=function(e){t.rotate(e),this.__originalRotate(e)},e.clip=function(e){t.clip(e),this.__originalClip(e)},e.moveTo=function(e,n){t.moveTo(e,n),this.__originalMoveTo(e,n)},e.lineTo=function(e,n){t.lineTo(e,n),this.__originalLineTo(e,n)},e.bezierCurveTo=function(e,n,r,i,s,a){t.bezierCurveTo(e,n,r,i,s,a),this.__originalBezierCurveTo(e,n,r,i,s,a)},e.rect=function(e,n,r,i){t.rect(e,n,r,i),this.__originalRect(e,n,r,i)},e.closePath=function(){t.closePath(),this.__originalClosePath()},e.beginPath=function(){t.beginPath(),this.__originalBeginPath()}}(i,this.suspendedCtx),this.setGState([["BM","source-over"],["ca",1],["CA",1]])}endSMaskMode(){if(!this.inSMaskMode)throw new Error("endSMaskMode called while not in smask mode");this.ctx._removeMirroring(),uR(this.ctx,this.suspendedCtx),this.ctx=this.suspendedCtx,this.suspendedCtx=null}compose(e){if(!this.current.activeSMask)return;e?(e[0]=Math.floor(e[0]),e[1]=Math.floor(e[1]),e[2]=Math.ceil(e[2]),e[3]=Math.ceil(e[3])):e=[0,0,this.ctx.canvas.width,this.ctx.canvas.height];const t=this.current.activeSMask,n=this.suspendedCtx;this.composeSMask(n,t,this.ctx,e),this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.clearRect(0,0,this.ctx.canvas.width,this.ctx.canvas.height),this.ctx.restore()}composeSMask(e,t,n,r){const i=r[0],s=r[1],a=r[2]-i,o=r[3]-s;0!==a&&0!==o&&(this.genericComposeSMask(t.context,n,a,o,t.subtype,t.backdrop,t.transferMap,i,s,t.offsetX,t.offsetY),e.save(),e.globalAlpha=1,e.globalCompositeOperation="source-over",e.setTransform(1,0,0,1,0,0),e.drawImage(n.canvas,0,0),e.restore())}genericComposeSMask(e,t,n,r,i,s,a,o,l,c,u){let h=e.canvas,d=o-c,p=l-u;if(s){const t=vk.makeHexColor(...s);if(d<0||p<0||d+n>h.width||p+r>h.height){const e=this.cachedCanvases.getCanvas("maskExtension",n,r),i=e.context;i.drawImage(h,-d,-p),i.globalCompositeOperation="destination-atop",i.fillStyle=t,i.fillRect(0,0,n,r),i.globalCompositeOperation="source-over",h=e.canvas,d=p=0}else{e.save(),e.globalAlpha=1,e.setTransform(1,0,0,1,0,0);const i=new Path2D;i.rect(d,p,n,r),e.clip(i),e.globalCompositeOperation="destination-atop",e.fillStyle=t,e.fillRect(d,p,n,r),e.restore()}}t.save(),t.globalAlpha=1,t.setTransform(1,0,0,1,0,0),"Alpha"===i&&a?t.filter=this.filterFactory.addAlphaFilter(a):"Luminosity"===i&&(t.filter=this.filterFactory.addLuminosityFilter(a));const f=new Path2D;f.rect(o,l,n,r),t.clip(f),t.globalCompositeOperation="destination-in",t.drawImage(h,d,p,n,r,o,l,n,r),t.restore()}save(){this.inSMaskMode?(uR(this.ctx,this.suspendedCtx),this.suspendedCtx.save()):this.ctx.save();const e=this.current;this.stateStack.push(e),this.current=e.clone()}restore(){0===this.stateStack.length&&this.inSMaskMode&&this.endSMaskMode(),0!==this.stateStack.length&&(this.current=this.stateStack.pop(),this.inSMaskMode?(this.suspendedCtx.restore(),uR(this.suspendedCtx,this.ctx)):this.ctx.restore(),this.checkSMaskState(),this.pendingClip=null,this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null)}transform(e,t,n,r,i,s){this.ctx.transform(e,t,n,r,i,s),this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null}constructPath(e,t,n){const r=this.ctx,i=this.current;let s,a,o=i.x,l=i.y;const c=Yk(r),u=0===c[0]&&0===c[3]||0===c[1]&&0===c[2],h=u?n.slice(0):null;for(let d=0,p=0,f=e.length;d<f;d++)switch(0|e[d]){case KA.rectangle:o=t[p++],l=t[p++];const e=t[p++],n=t[p++],d=o+e,f=l+n;r.moveTo(o,l),0===e||0===n?r.lineTo(d,f):(r.lineTo(d,l),r.lineTo(d,f),r.lineTo(o,f)),u||i.updateRectMinMax(c,[o,l,d,f]),r.closePath();break;case KA.moveTo:o=t[p++],l=t[p++],r.moveTo(o,l),u||i.updatePathMinMax(c,o,l);break;case KA.lineTo:o=t[p++],l=t[p++],r.lineTo(o,l),u||i.updatePathMinMax(c,o,l);break;case KA.curveTo:s=o,a=l,o=t[p+4],l=t[p+5],r.bezierCurveTo(t[p],t[p+1],t[p+2],t[p+3],o,l),i.updateCurvePathMinMax(c,s,a,t[p],t[p+1],t[p+2],t[p+3],o,l,h),p+=6;break;case KA.curveTo2:s=o,a=l,r.bezierCurveTo(o,l,t[p],t[p+1],t[p+2],t[p+3]),i.updateCurvePathMinMax(c,s,a,o,l,t[p],t[p+1],t[p+2],t[p+3],h),o=t[p+2],l=t[p+3],p+=4;break;case KA.curveTo3:s=o,a=l,o=t[p+2],l=t[p+3],r.bezierCurveTo(t[p],t[p+1],o,l,o,l),i.updateCurvePathMinMax(c,s,a,t[p],t[p+1],o,l,o,l,h),p+=4;break;case KA.closePath:r.closePath()}u&&i.updateScalingPathMinMax(c,h),i.setCurrentPoint(o,l)}closePath(){this.ctx.closePath()}stroke(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.strokeColor;t.globalAlpha=this.current.strokeAlpha,this.contentVisible&&("object"===typeof n&&null!==n&&void 0!==n&&n.getPattern?(t.save(),t.strokeStyle=n.getPattern(t,this,Jk(t),qI),this.rescaleAndStroke(!1),t.restore()):this.rescaleAndStroke(!0)),e&&this.consumePath(this.current.getClippedPathBoundingBox()),t.globalAlpha=this.current.fillAlpha}closeStroke(){this.closePath(),this.stroke()}fill(){let e=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];const t=this.ctx,n=this.current.fillColor;let r=!1;this.current.patternFill&&(t.save(),t.fillStyle=n.getPattern(t,this,Jk(t),HI),r=!0);const i=this.current.getClippedPathBoundingBox();this.contentVisible&&null!==i&&(this.pendingEOFill?(t.fill("evenodd"),this.pendingEOFill=!1):t.fill()),r&&t.restore(),e&&this.consumePath(i)}eoFill(){this.pendingEOFill=!0,this.fill()}fillStroke(){this.fill(!1),this.stroke(!1),this.consumePath()}eoFillStroke(){this.pendingEOFill=!0,this.fillStroke()}closeFillStroke(){this.closePath(),this.fillStroke()}closeEOFillStroke(){this.pendingEOFill=!0,this.closePath(),this.fillStroke()}endPath(){this.consumePath()}clip(){this.pendingClip=gR}eoClip(){this.pendingClip=mR}beginText(){this.current.textMatrix=tA,this.current.textMatrixScale=1,this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}endText(){const e=this.pendingTextPaths,t=this.ctx;if(void 0!==e){t.save(),t.beginPath();for(const n of e)t.setTransform(...n.transform),t.translate(n.x,n.y),n.addToPath(t,n.fontSize);t.restore(),t.clip(),t.beginPath(),delete this.pendingTextPaths}else t.beginPath()}setCharSpacing(e){this.current.charSpacing=e}setWordSpacing(e){this.current.wordSpacing=e}setHScale(e){this.current.textHScale=e/100}setLeading(e){this.current.leading=-e}setFont(e,t){var n;const r=this.commonObjs.get(e),i=this.current;if(!r)throw new Error("Can't find font for ".concat(e));if(i.fontMatrix=r.fontMatrix||nA,0!==i.fontMatrix[0]&&0!==i.fontMatrix[3]||ZA("Invalid font matrix for font "+e),t<0?(t=-t,i.fontDirection=-1):i.fontDirection=1,this.current.font=r,this.current.fontSize=t,r.isType3Font)return;const s=r.loadedName||"sans-serif",a=(null===(n=r.systemFontInfo)||void 0===n?void 0:n.css)||'"'.concat(s,'", ').concat(r.fallbackName);let o="normal";r.black?o="900":r.bold&&(o="bold");const l=r.italic?"italic":"normal";let c=t;t<16?c=16:t>100&&(c=100),this.current.fontSizeScale=t/c,this.ctx.font="".concat(l," ").concat(o," ").concat(c,"px ").concat(a)}setTextRenderingMode(e){this.current.textRenderingMode=e}setTextRise(e){this.current.textRise=e}moveText(e,t){this.current.x=this.current.lineX+=e,this.current.y=this.current.lineY+=t}setLeadingMoveText(e,t){this.setLeading(-t),this.moveText(e,t)}setTextMatrix(e,t,n,r,i,s){this.current.textMatrix=[e,t,n,r,i,s],this.current.textMatrixScale=Math.hypot(e,t),this.current.x=this.current.lineX=0,this.current.y=this.current.lineY=0}nextLine(){this.moveText(0,this.current.leading)}paintChar(e,t,n,r){const i=this.ctx,s=this.current,a=s.font,o=s.textRenderingMode,l=s.fontSize/s.fontSizeScale,c=o&wA,u=!!(o&_A),h=s.patternFill&&!a.missingFile;let d;if((a.disableFontFace||u||h)&&(d=a.getPathGenerator(this.commonObjs,e)),a.disableFontFace||h?(i.save(),i.translate(t,n),i.beginPath(),d(i,l),r&&i.setTransform(...r),c!==mA&&c!==yA||i.fill(),c!==vA&&c!==yA||i.stroke(),i.restore()):(c!==mA&&c!==yA||i.fillText(e,t,n),c!==vA&&c!==yA||i.strokeText(e,t,n)),u){(this.pendingTextPaths||(this.pendingTextPaths=[])).push({transform:Yk(i),x:t,y:n,fontSize:l,addToPath:d})}}get isFontSubpixelAAEnabled(){const{context:e}=this.cachedCanvases.getCanvas("isFontSubpixelAAEnabled",10,10);e.scale(1.5,1),e.fillText("I",0,10);const t=e.getImageData(0,0,10,10).data;let n=!1;for(let r=3;r<t.length;r+=4)if(t[r]>0&&t[r]<255){n=!0;break}return rk(this,"isFontSubpixelAAEnabled",n)}showText(e){const t=this.current,n=t.font;if(n.isType3Font)return this.showType3Text(e);const r=t.fontSize;if(0===r)return;const i=this.ctx,s=t.fontSizeScale,a=t.charSpacing,o=t.wordSpacing,l=t.fontDirection,c=t.textHScale*l,u=e.length,h=n.vertical,d=h?1:-1,p=n.defaultVMetrics,f=r*t.fontMatrix[0],g=t.textRenderingMode===mA&&!n.disableFontFace&&!t.patternFill;let m;if(i.save(),i.transform(...t.textMatrix),i.translate(t.x,t.y+t.textRise),l>0?i.scale(c,-1):i.scale(c,1),t.patternFill){i.save();const e=t.fillColor.getPattern(i,this,Jk(i),HI);m=Yk(i),i.restore(),i.fillStyle=e}let v=t.lineWidth;const y=t.textMatrixScale;if(0===y||0===v){const e=t.textRenderingMode&wA;e!==vA&&e!==yA||(v=this.getSinglePixelWidth())}else v/=y;if(1!==s&&(i.scale(s,s),v/=s),i.lineWidth=v,n.isInvalidPDFjsFont){const n=[];let r=0;for(const t of e)n.push(t.unicode),r+=t.width;return i.fillText(n.join(""),0,0),t.x+=r*f*c,i.restore(),void this.compose()}let b,w=0;for(b=0;b<u;++b){const t=e[b];if("number"===typeof t){w+=d*t*r/1e3;continue}let c=!1;const u=(t.isSpace?o:0)+a,v=t.fontChar,y=t.accent;let _,S,E=t.width;if(h){const e=t.vmetric||p,n=-(t.vmetric?e[1]:.5*E)*f,r=e[2]*f;E=e?-e[0]:E,_=n/s,S=(w+r)/s}else _=w/s,S=0;if(n.remeasure&&E>0){const e=1e3*i.measureText(v).width/r*s;if(E<e&&this.isFontSubpixelAAEnabled){const t=E/e;c=!0,i.save(),i.scale(t,1),_/=t}else E!==e&&(_+=(E-e)/2e3*r/s)}if(this.contentVisible&&(t.isInFont||n.missingFile))if(g&&!y)i.fillText(v,_,S);else if(this.paintChar(v,_,S,m),y){const e=_+r*y.offset.x/s,t=S-r*y.offset.y/s;this.paintChar(y.fontChar,e,t,m)}w+=h?E*f-u*l:E*f+u*l,c&&i.restore()}h?t.y-=w:t.x+=w*c,i.restore(),this.compose()}showType3Text(e){const t=this.ctx,n=this.current,r=n.font,i=n.fontSize,s=n.fontDirection,a=r.vertical?1:-1,o=n.charSpacing,l=n.wordSpacing,c=n.textHScale*s,u=n.fontMatrix||nA,h=e.length;let d,p,f,g;if(!(n.textRenderingMode===bA)&&0!==i){for(this._cachedScaleForStroking[0]=-1,this._cachedGetSinglePixelWidth=null,t.save(),t.transform(...n.textMatrix),t.translate(n.x,n.y),t.scale(c,s),d=0;d<h;++d){if(p=e[d],"number"===typeof p){g=a*p*i/1e3,this.ctx.translate(g,0),n.x+=g*c;continue}const s=(p.isSpace?l:0)+o,h=r.charProcOperatorList[p.operatorListId];if(!h){ZA('Type3 character "'.concat(p.operatorListId,'" is not available.'));continue}this.contentVisible&&(this.processingType3=p,this.save(),t.scale(i,i),t.transform(...u),this.executeOperatorList(h),this.restore());f=vk.applyTransform([p.width,0],u)[0]*i+s,t.translate(f,0),n.x+=f*c}t.restore(),this.processingType3=null}}setCharWidth(e,t){}setCharWidthAndBounds(e,t,n,r,i,s){this.ctx.rect(n,r,i-n,s-r),this.ctx.clip(),this.endPath()}getColorN_Pattern(e){let t;if("TilingPattern"===e[0]){const n=e[1],r=this.baseTransform||Yk(this.ctx),i={createCanvasGraphics:e=>new yR(e,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:this.optionalContentConfig,markedContentStack:this.markedContentStack})};t=new nR(e,n,this.ctx,i,r)}else t=this._getPattern(e[1],e[2]);return t}setStrokeColorN(){this.current.strokeColor=this.getColorN_Pattern(arguments)}setFillColorN(){this.current.fillColor=this.getColorN_Pattern(arguments),this.current.patternFill=!0}setStrokeRGBColor(e,t,n){this.ctx.strokeStyle=this.current.strokeColor=vk.makeHexColor(e,t,n)}setStrokeTransparent(){this.ctx.strokeStyle=this.current.strokeColor="transparent"}setFillRGBColor(e,t,n){this.ctx.fillStyle=this.current.fillColor=vk.makeHexColor(e,t,n),this.current.patternFill=!1}setFillTransparent(){this.ctx.fillStyle=this.current.fillColor="transparent",this.current.patternFill=!1}_getPattern(e){let t,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return this.cachedPatterns.has(e)?t=this.cachedPatterns.get(e):(t=function(e){switch(e[0]){case"RadialAxial":return new QI(e);case"Mesh":return new $I(e);case"Dummy":return new ZI}throw new Error("Unknown IR type: ".concat(e[0]))}(this.getObject(e)),this.cachedPatterns.set(e,t)),n&&(t.matrix=n),t}shadingFill(e){if(!this.contentVisible)return;const t=this.ctx;this.save();const n=this._getPattern(e);t.fillStyle=n.getPattern(t,this,Jk(t),GI);const r=Jk(t);if(r){const{width:e,height:n}=t.canvas,[i,s,a,o]=vk.getAxialAlignedBoundingBox([0,0,e,n],r);this.ctx.fillRect(i,s,a-i,o-s)}else this.ctx.fillRect(-1e10,-1e10,2e10,2e10);this.compose(this.current.getClippedPathBoundingBox()),this.restore()}beginInlineImage(){ek("Should not call beginInlineImage")}beginImageData(){ek("Should not call beginImageData")}paintFormXObjectBegin(e,t){if(this.contentVisible&&(this.save(),this.baseTransformStack.push(this.baseTransform),e&&this.transform(...e),this.baseTransform=Yk(this.ctx),t)){const e=t[2]-t[0],n=t[3]-t[1];this.ctx.rect(t[0],t[1],e,n),this.current.updateRectMinMax(Yk(this.ctx),t),this.clip(),this.endPath()}}paintFormXObjectEnd(){this.contentVisible&&(this.restore(),this.baseTransform=this.baseTransformStack.pop())}beginGroup(e){if(!this.contentVisible)return;this.save(),this.inSMaskMode&&(this.endSMaskMode(),this.current.activeSMask=null);const t=this.ctx;e.isolated||$A("TODO: Support non-isolated groups."),e.knockout&&ZA("Knockout groups not supported.");const n=Yk(t);if(e.matrix&&t.transform(...e.matrix),!e.bbox)throw new Error("Bounding box is required.");let r=vk.getAxialAlignedBoundingBox(e.bbox,Yk(t));const i=[0,0,t.canvas.width,t.canvas.height];r=vk.intersect(r,i)||[0,0,0,0];const s=Math.floor(r[0]),a=Math.floor(r[1]),o=Math.max(Math.ceil(r[2])-s,1),l=Math.max(Math.ceil(r[3])-a,1);this.current.startNewPathAndClipBox([0,0,o,l]);let c="groupAt"+this.groupLevel;e.smask&&(c+="_smask_"+this.smaskCounter++%2);const u=this.cachedCanvases.getCanvas(c,o,l),h=u.context;h.translate(-s,-a),h.transform(...n),e.smask?this.smaskStack.push({canvas:u.canvas,context:h,offsetX:s,offsetY:a,subtype:e.smask.subtype,backdrop:e.smask.backdrop,transferMap:e.smask.transferMap||null,startTransformInverse:null}):(t.setTransform(1,0,0,1,0,0),t.translate(s,a),t.save()),uR(t,h),this.ctx=h,this.setGState([["BM","source-over"],["ca",1],["CA",1]]),this.groupStack.push(t),this.groupLevel++}endGroup(e){if(!this.contentVisible)return;this.groupLevel--;const t=this.ctx,n=this.groupStack.pop();if(this.ctx=n,this.ctx.imageSmoothingEnabled=!1,e.smask)this.tempSMask=this.smaskStack.pop(),this.restore();else{this.ctx.restore();const e=Yk(this.ctx);this.restore(),this.ctx.save(),this.ctx.setTransform(...e);const n=vk.getAxialAlignedBoundingBox([0,0,t.canvas.width,t.canvas.height],e);this.ctx.drawImage(t.canvas,0,0),this.ctx.restore(),this.compose(n)}}beginAnnotation(e,t,n,r,i){if(OE(vR,this,bR).call(this),hR(this.ctx),this.ctx.save(),this.save(),this.baseTransform&&this.ctx.setTransform(...this.baseTransform),t){const r=t[2]-t[0],s=t[3]-t[1];if(i&&this.annotationCanvasMap){(n=n.slice())[4]-=t[0],n[5]-=t[1],(t=t.slice())[0]=t[1]=0,t[2]=r,t[3]=s;const[i,a]=vk.singularValueDecompose2dScale(Yk(this.ctx)),{viewportScale:o}=this,l=Math.ceil(r*this.outputScaleX*o),c=Math.ceil(s*this.outputScaleY*o);this.annotationCanvas=this.canvasFactory.create(l,c);const{canvas:u,context:h}=this.annotationCanvas;this.annotationCanvasMap.set(e,u),this.annotationCanvas.savedCtx=this.ctx,this.ctx=h,this.ctx.save(),this.ctx.setTransform(i,0,0,-a,0,s*a),hR(this.ctx)}else hR(this.ctx),this.endPath(),this.ctx.rect(t[0],t[1],r,s),this.ctx.clip(),this.ctx.beginPath()}this.current=new oR(this.ctx.canvas.width,this.ctx.canvas.height),this.transform(...n),this.transform(...r)}endAnnotation(){this.annotationCanvas&&(this.ctx.restore(),OE(vR,this,wR).call(this),this.ctx=this.annotationCanvas.savedCtx,delete this.annotationCanvas.savedCtx,delete this.annotationCanvas)}paintImageMaskXObject(e){if(!this.contentVisible)return;const t=e.count;(e=this.getObject(e.data,e)).count=t;const n=this.ctx,r=this.processingType3;if(r&&(void 0===r.compiled&&(r.compiled=function(e){const{width:t,height:n}=e;if(t>1e3||n>1e3)return null;const r=new Uint8Array([0,2,4,0,1,0,5,4,8,10,0,8,0,2,1,0]),i=t+1;let s,a,o,l=new Uint8Array(i*(n+1));const c=t+7&-8;let u=new Uint8Array(c*n),h=0;for(const g of e.data){let e=128;for(;e>0;)u[h++]=g&e?0:255,e>>=1}let d=0;for(h=0,0!==u[h]&&(l[0]=1,++d),a=1;a<t;a++)u[h]!==u[h+1]&&(l[a]=u[h]?2:1,++d),h++;for(0!==u[h]&&(l[a]=2,++d),s=1;s<n;s++){h=s*c,o=s*i,u[h-c]!==u[h]&&(l[o]=u[h]?1:8,++d);let e=(u[h]?4:0)+(u[h-c]?8:0);for(a=1;a<t;a++)e=(e>>2)+(u[h+1]?4:0)+(u[h-c+1]?8:0),r[e]&&(l[o+a]=r[e],++d),h++;if(u[h-c]!==u[h]&&(l[o+a]=u[h]?2:4,++d),d>1e3)return null}for(h=c*(n-1),o=s*i,0!==u[h]&&(l[o]=8,++d),a=1;a<t;a++)u[h]!==u[h+1]&&(l[o+a]=u[h]?4:8,++d),h++;if(0!==u[h]&&(l[o+a]=4,++d),d>1e3)return null;const p=new Int32Array([0,i,-1,0,-i,0,0,0,1]),f=new Path2D;for(s=0;d&&s<=n;s++){let e=s*i;const n=e+t;for(;e<n&&!l[e];)e++;if(e===n)continue;f.moveTo(e%i,s);const r=e;let a=l[e];do{const t=p[a];do{e+=t}while(!l[e]);const n=l[e];5!==n&&10!==n?(a=n,l[e]=0):(a=n&51*a>>4,l[e]&=a>>2|a<<2),f.lineTo(e%i,e/i|0),l[e]||--d}while(r!==e);--s}return u=null,l=null,function(e){e.save(),e.scale(1/t,-1/n),e.translate(0,-n),e.fill(f),e.beginPath(),e.restore()}}(e)),r.compiled))return void r.compiled(n);const i=this._createMaskCanvas(e),s=i.canvas;n.save(),n.setTransform(1,0,0,1,0,0),n.drawImage(s,i.offsetX,i.offsetY),n.restore(),this.compose()}paintImageMaskXObjectRepeat(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:0,i=arguments.length>4?arguments[4]:void 0,s=arguments.length>5?arguments[5]:void 0;if(!this.contentVisible)return;e=this.getObject(e.data,e);const a=this.ctx;a.save();const o=Yk(a);a.transform(t,n,r,i,0,0);const l=this._createMaskCanvas(e);a.setTransform(1,0,0,1,l.offsetX-o[4],l.offsetY-o[5]);for(let c=0,u=s.length;c<u;c+=2){const e=vk.transform(o,[t,n,r,i,s[c],s[c+1]]),[u,h]=vk.applyTransform([0,0],e);a.drawImage(l.canvas,u,h)}a.restore(),this.compose()}paintImageMaskXObjectGroup(e){if(!this.contentVisible)return;const t=this.ctx,n=this.current.fillColor,r=this.current.patternFill;for(const i of e){const{data:e,width:s,height:a,transform:o}=i,l=this.cachedCanvases.getCanvas("maskCanvas",s,a),c=l.context;c.save();cR(c,this.getObject(e,i)),c.globalCompositeOperation="source-in",c.fillStyle=r?n.getPattern(c,this,Jk(t),HI):n,c.fillRect(0,0,s,a),c.restore(),t.save(),t.transform(...o),t.scale(1,-1),aR(t,l.canvas,0,0,s,a,0,-1,1,1),t.restore()}this.compose()}paintImageXObject(e){if(!this.contentVisible)return;const t=this.getObject(e);t?this.paintInlineImageXObject(t):ZA("Dependent image isn't ready yet")}paintImageXObjectRepeat(e,t,n,r){if(!this.contentVisible)return;const i=this.getObject(e);if(!i)return void ZA("Dependent image isn't ready yet");const s=i.width,a=i.height,o=[];for(let l=0,c=r.length;l<c;l+=2)o.push({transform:[t,0,0,n,r[l],r[l+1]],x:0,y:0,w:s,h:a});this.paintInlineImageXObjectGroup(i,o)}applyTransferMapsToCanvas(e){return"none"!==this.current.transferMaps&&(e.filter=this.current.transferMaps,e.drawImage(e.canvas,0,0),e.filter="none"),e.canvas}applyTransferMapsToBitmap(e){if("none"===this.current.transferMaps)return e.bitmap;const{bitmap:t,width:n,height:r}=e,i=this.cachedCanvases.getCanvas("inlineImage",n,r),s=i.context;return s.filter=this.current.transferMaps,s.drawImage(t,0,0),s.filter="none",i.canvas}paintInlineImageXObject(e){if(!this.contentVisible)return;const t=e.width,n=e.height,r=this.ctx;if(this.save(),!eA){const{filter:e}=r;"none"!==e&&""!==e&&(r.filter="none")}let i;if(r.scale(1/t,-1/n),e.bitmap)i=this.applyTransferMapsToBitmap(e);else if("function"===typeof HTMLElement&&e instanceof HTMLElement||!e.data)i=e;else{const r=this.cachedCanvases.getCanvas("inlineImage",t,n).context;lR(r,e),i=this.applyTransferMapsToCanvas(r)}const s=this._scaleImage(i,Jk(r));r.imageSmoothingEnabled=dR(Yk(r),e.interpolate),aR(r,s.img,0,0,s.paintWidth,s.paintHeight,0,-n,t,n),this.compose(),this.restore()}paintInlineImageXObjectGroup(e,t){if(!this.contentVisible)return;const n=this.ctx;let r;if(e.bitmap)r=e.bitmap;else{const t=e.width,n=e.height,i=this.cachedCanvases.getCanvas("inlineImage",t,n).context;lR(i,e),r=this.applyTransferMapsToCanvas(i)}for(const i of t)n.save(),n.transform(...i.transform),n.scale(1,-1),aR(n,r,i.x,i.y,i.w,i.h,0,-1,1,1),n.restore();this.compose()}paintSolidColorImageMask(){this.contentVisible&&(this.ctx.fillRect(0,0,1,1),this.compose())}markPoint(e){}markPointProps(e,t){}beginMarkedContent(e){this.markedContentStack.push({visible:!0})}beginMarkedContentProps(e,t){"OC"===e?this.markedContentStack.push({visible:this.optionalContentConfig.isVisible(t)}):this.markedContentStack.push({visible:!0}),this.contentVisible=this.isContentVisible()}endMarkedContent(){this.markedContentStack.pop(),this.contentVisible=this.isContentVisible()}beginCompat(){}endCompat(){}consumePath(e){const t=this.current.isEmptyClip();this.pendingClip&&this.current.updateClipFromPath(),this.pendingClip||this.compose(e);const n=this.ctx;this.pendingClip&&(t||(this.pendingClip===mR?n.clip("evenodd"):n.clip()),this.pendingClip=null),this.current.startNewPathAndClipBox(this.current.clipBox),n.beginPath()}getSinglePixelWidth(){if(!this._cachedGetSinglePixelWidth){const e=Yk(this.ctx);if(0===e[1]&&0===e[2])this._cachedGetSinglePixelWidth=1/Math.min(Math.abs(e[0]),Math.abs(e[3]));else{const t=Math.abs(e[0]*e[3]-e[2]*e[1]),n=Math.hypot(e[0],e[2]),r=Math.hypot(e[1],e[3]);this._cachedGetSinglePixelWidth=Math.max(n,r)/t}}return this._cachedGetSinglePixelWidth}getScaleForStroking(){if(-1===this._cachedScaleForStroking[0]){const{lineWidth:e}=this.current,{a:t,b:n,c:r,d:i}=this.ctx.getTransform();let s,a;if(0===n&&0===r){const n=Math.abs(t),r=Math.abs(i);if(n===r)if(0===e)s=a=1/n;else{const t=n*e;s=a=t<1?1/t:1}else if(0===e)s=1/n,a=1/r;else{const t=n*e,i=r*e;s=t<1?1/t:1,a=i<1?1/i:1}}else{const o=Math.abs(t*i-n*r),l=Math.hypot(t,n),c=Math.hypot(r,i);if(0===e)s=c/o,a=l/o;else{const t=e*o;s=c>t?c/t:1,a=l>t?l/t:1}}this._cachedScaleForStroking[0]=s,this._cachedScaleForStroking[1]=a}return this._cachedScaleForStroking}rescaleAndStroke(e){const{ctx:t}=this,{lineWidth:n}=this.current,[r,i]=this.getScaleForStroking();if(t.lineWidth=n||1,1===r&&1===i)return void t.stroke();const s=t.getLineDash();if(e&&t.save(),t.scale(r,i),s.length>0){const e=Math.max(r,i);t.setLineDash(s.map((t=>t/e))),t.lineDashOffset/=e}t.stroke(),e&&t.restore()}isContentVisible(){for(let e=this.markedContentStack.length-1;e>=0;e--)if(!this.markedContentStack[e].visible)return!1;return!0}}function bR(){for(;this.stateStack.length||this.inSMaskMode;)this.restore();this.current.activeSMask=null,this.ctx.restore(),this.transparentCanvas&&(this.ctx=this.compositeCtx,this.ctx.save(),this.ctx.setTransform(1,0,0,1,0,0),this.ctx.drawImage(this.transparentCanvas,0,0),this.ctx.restore(),this.transparentCanvas=null)}function wR(){if(this.pageColors){const e=this.filterFactory.addHCMFilter(this.pageColors.foreground,this.pageColors.background);if("none"!==e){const t=this.ctx.filter;this.ctx.filter=e,this.ctx.drawImage(this.ctx.canvas,0,0),this.ctx.filter=t}}}for(const tz in KA)void 0!==yR.prototype[tz]&&(yR.prototype[KA[tz]]=yR.prototype[tz]);class _R{static get workerPort(){return OE(_R,this,SR)._}static set workerPort(e){if(!("undefined"!==typeof Worker&&e instanceof Worker)&&null!==e)throw new Error("Invalid `workerPort` type.");SR._=OE(_R,this,e)}static get workerSrc(){return OE(_R,this,ER)._}static set workerSrc(e){if("string"!==typeof e)throw new Error("Invalid `workerSrc` type.");ER._=OE(_R,this,e)}}var SR={_:null},ER={_:""};const AR=1,kR=2,xR=1,CR=2,TR=3,IR=4,RR=5,MR=6,PR=7,NR=8;function LR(e){switch(e instanceof Error||"object"===typeof e&&null!==e||ek('wrapReason: Expected "reason" to be a (possibly cloned) Error.'),e.name){case"AbortException":return new hk(e.message);case"MissingPDFException":return new lk(e.message);case"PasswordException":return new sk(e.message,e.code);case"UnexpectedResponseException":return new ck(e.message,e.status);case"UnknownErrorException":return new ak(e.message,e.details);default:return new ak(e.message,e.toString())}}var DR=new WeakMap,OR=new WeakSet;class FR{constructor(e,t,n){LE(this,OR),DE(this,DR,new AbortController),this.sourceName=e,this.targetName=t,this.comObj=n,this.callbackId=1,this.streamId=1,this.streamSinks=Object.create(null),this.streamControllers=Object.create(null),this.callbackCapabilities=Object.create(null),this.actionHandler=Object.create(null),n.addEventListener("message",OE(OR,this,jR).bind(this),{signal:jE(DR,this).signal})}on(e,t){const n=this.actionHandler;if(n[e])throw new Error('There is already an actionName called "'.concat(e,'"'));n[e]=t}send(e,t,n){this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,data:t},n)}sendWithPromise(e,t,n){const r=this.callbackId++,i=Promise.withResolvers();this.callbackCapabilities[r]=i;try{this.comObj.postMessage({sourceName:this.sourceName,targetName:this.targetName,action:e,callbackId:r,data:t},n)}catch(s){i.reject(s)}return i.promise}sendWithStream(e,t,n,r){const i=this.streamId++,s=this.sourceName,a=this.targetName,o=this.comObj;return new ReadableStream({start:n=>{const l=Promise.withResolvers();return this.streamControllers[i]={controller:n,startCall:l,pullCall:null,cancelCall:null,isClosed:!1},o.postMessage({sourceName:s,targetName:a,action:e,streamId:i,data:t,desiredSize:n.desiredSize},r),l.promise},pull:e=>{const t=Promise.withResolvers();return this.streamControllers[i].pullCall=t,o.postMessage({sourceName:s,targetName:a,stream:MR,streamId:i,desiredSize:e.desiredSize}),t.promise},cancel:e=>{tk(e instanceof Error,"cancel must have a valid reason");const t=Promise.withResolvers();return this.streamControllers[i].cancelCall=t,this.streamControllers[i].isClosed=!0,o.postMessage({sourceName:s,targetName:a,stream:xR,streamId:i,reason:LR(e)}),t.promise}},n)}destroy(){var e;null===(e=jE(DR,this))||void 0===e||e.abort(),BE(DR,this,null)}}function jR(e){let{data:t}=e;if(t.targetName!==this.sourceName)return;if(t.stream)return void OE(OR,this,zR).call(this,t);if(t.callback){const e=t.callbackId,n=this.callbackCapabilities[e];if(!n)throw new Error("Cannot resolve callback ".concat(e));if(delete this.callbackCapabilities[e],t.callback===AR)n.resolve(t.data);else{if(t.callback!==kR)throw new Error("Unexpected callback case");n.reject(LR(t.reason))}return}const n=this.actionHandler[t.action];if(!n)throw new Error("Unknown action from worker: ".concat(t.action));if(t.callbackId){const e=this.sourceName,r=t.sourceName,i=this.comObj;new Promise((function(e){e(n(t.data))})).then((function(n){i.postMessage({sourceName:e,targetName:r,callback:AR,callbackId:t.callbackId,data:n})}),(function(n){i.postMessage({sourceName:e,targetName:r,callback:kR,callbackId:t.callbackId,reason:LR(n)})}))}else t.streamId?OE(OR,this,BR).call(this,t):n(t.data)}function BR(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,s=this,a=this.actionHandler[e.action],o={enqueue(e){let s=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,a=arguments.length>2?arguments[2]:void 0;if(this.isCancelled)return;const o=this.desiredSize;this.desiredSize-=s,o>0&&this.desiredSize<=0&&(this.sinkCapability=Promise.withResolvers(),this.ready=this.sinkCapability.promise),i.postMessage({sourceName:n,targetName:r,stream:IR,streamId:t,chunk:e},a)},close(){this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:TR,streamId:t}),delete s.streamSinks[t])},error(e){tk(e instanceof Error,"error must have a valid reason"),this.isCancelled||(this.isCancelled=!0,i.postMessage({sourceName:n,targetName:r,stream:RR,streamId:t,reason:LR(e)}))},sinkCapability:Promise.withResolvers(),onPull:null,onCancel:null,isCancelled:!1,desiredSize:e.desiredSize,ready:null};o.sinkCapability.resolve(),o.ready=o.sinkCapability.promise,this.streamSinks[t]=o,new Promise((function(t){t(a(e.data,o))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:NR,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:NR,streamId:t,reason:LR(e)})}))}function zR(e){const t=e.streamId,n=this.sourceName,r=e.sourceName,i=this.comObj,s=this.streamControllers[t],a=this.streamSinks[t];switch(e.stream){case NR:e.success?s.startCall.resolve():s.startCall.reject(LR(e.reason));break;case PR:e.success?s.pullCall.resolve():s.pullCall.reject(LR(e.reason));break;case MR:if(!a){i.postMessage({sourceName:n,targetName:r,stream:PR,streamId:t,success:!0});break}a.desiredSize<=0&&e.desiredSize>0&&a.sinkCapability.resolve(),a.desiredSize=e.desiredSize,new Promise((function(e){var t;e(null===(t=a.onPull)||void 0===t?void 0:t.call(a))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:PR,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:PR,streamId:t,reason:LR(e)})}));break;case IR:if(tk(s,"enqueue should have stream controller"),s.isClosed)break;s.controller.enqueue(e.chunk);break;case TR:if(tk(s,"close should have stream controller"),s.isClosed)break;s.isClosed=!0,s.controller.close(),OE(OR,this,VR).call(this,s,t);break;case RR:tk(s,"error should have stream controller"),s.controller.error(LR(e.reason)),OE(OR,this,VR).call(this,s,t);break;case CR:e.success?s.cancelCall.resolve():s.cancelCall.reject(LR(e.reason)),OE(OR,this,VR).call(this,s,t);break;case xR:if(!a)break;new Promise((function(t){var n;t(null===(n=a.onCancel)||void 0===n?void 0:n.call(a,LR(e.reason)))})).then((function(){i.postMessage({sourceName:n,targetName:r,stream:CR,streamId:t,success:!0})}),(function(e){i.postMessage({sourceName:n,targetName:r,stream:CR,streamId:t,reason:LR(e)})})),a.sinkCapability.reject(LR(e.reason)),a.isCancelled=!0,delete this.streamSinks[t];break;default:throw new Error("Unexpected stream case")}}async function VR(e,t){var n,r,i;await Promise.allSettled([null===(n=e.startCall)||void 0===n?void 0:n.promise,null===(r=e.pullCall)||void 0===r?void 0:r.promise,null===(i=e.cancelCall)||void 0===i?void 0:i.promise]),delete this.streamControllers[t]}var UR=new WeakMap,WR=new WeakMap;class HR{constructor(e){let{parsedData:t,rawData:n}=e;DE(this,UR,void 0),DE(this,WR,void 0),BE(UR,this,t),BE(WR,this,n)}getRaw(){return jE(WR,this)}get(e){var t;return null!==(t=jE(UR,this).get(e))&&void 0!==t?t:null}getAll(){return fk(jE(UR,this))}has(e){return jE(UR,this).has(e)}}const qR=Symbol("INTERNAL");var GR=new WeakMap,KR=new WeakMap,XR=new WeakMap,QR=new WeakMap;class YR{constructor(e,t){let{name:n,intent:r,usage:i,rbGroups:s}=t;DE(this,GR,!1),DE(this,KR,!1),DE(this,XR,!1),DE(this,QR,!0),BE(GR,this,!!(e&sA)),BE(KR,this,!!(e&aA)),this.name=n,this.intent=r,this.usage=i,this.rbGroups=s}get visible(){if(jE(XR,this))return jE(QR,this);if(!jE(QR,this))return!1;const{print:e,view:t}=this.usage;return jE(GR,this)?"OFF"!==(null===t||void 0===t?void 0:t.viewState):!jE(KR,this)||"OFF"!==(null===e||void 0===e?void 0:e.printState)}_setVisible(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e!==qR&&ek("Internal method `_setVisible` called."),BE(XR,this,n),BE(QR,this,t)}}var JR=new WeakMap,$R=new WeakMap,ZR=new WeakMap,eM=new WeakMap,tM=new WeakSet;class nM{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:sA;if(LE(this,tM),DE(this,JR,null),DE(this,$R,new Map),DE(this,ZR,null),DE(this,eM,null),this.renderingIntent=t,this.name=null,this.creator=null,null!==e){this.name=e.name,this.creator=e.creator,BE(eM,this,e.order);for(const n of e.groups)jE($R,this).set(n.id,new YR(t,n));if("OFF"===e.baseState)for(const e of jE($R,this).values())e._setVisible(qR,!1);for(const t of e.on)jE($R,this).get(t)._setVisible(qR,!0);for(const t of e.off)jE($R,this).get(t)._setVisible(qR,!1);BE(ZR,this,this.getHash())}}isVisible(e){if(0===jE($R,this).size)return!0;if(!e)return $A("Optional content group not defined."),!0;if("OCG"===e.type)return jE($R,this).has(e.id)?jE($R,this).get(e.id).visible:(ZA("Optional content group not found: ".concat(e.id)),!0);if("OCMD"===e.type){if(e.expression)return OE(tM,this,rM).call(this,e.expression);if(!e.policy||"AnyOn"===e.policy){for(const t of e.ids){if(!jE($R,this).has(t))return ZA("Optional content group not found: ".concat(t)),!0;if(jE($R,this).get(t).visible)return!0}return!1}if("AllOn"===e.policy){for(const t of e.ids){if(!jE($R,this).has(t))return ZA("Optional content group not found: ".concat(t)),!0;if(!jE($R,this).get(t).visible)return!1}return!0}if("AnyOff"===e.policy){for(const t of e.ids){if(!jE($R,this).has(t))return ZA("Optional content group not found: ".concat(t)),!0;if(!jE($R,this).get(t).visible)return!0}return!1}if("AllOff"===e.policy){for(const t of e.ids){if(!jE($R,this).has(t))return ZA("Optional content group not found: ".concat(t)),!0;if(jE($R,this).get(t).visible)return!1}return!0}return ZA("Unknown optional content policy ".concat(e.policy,".")),!0}return ZA("Unknown group type ".concat(e.type,".")),!0}setVisibility(e){let t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1],n=!(arguments.length>2&&void 0!==arguments[2])||arguments[2];const r=jE($R,this).get(e);if(r){if(n&&t&&r.rbGroups.length)for(const t of r.rbGroups)for(const n of t){var i;if(n!==e)null===(i=jE($R,this).get(n))||void 0===i||i._setVisible(qR,!1,!0)}r._setVisible(qR,!!t,!0),BE(JR,this,null)}else ZA("Optional content group not found: ".concat(e))}setOCGState(e){let t,{state:n,preserveRB:r}=e;for(const i of n){switch(i){case"ON":case"OFF":case"Toggle":t=i;continue}const e=jE($R,this).get(i);if(e)switch(t){case"ON":this.setVisibility(i,!0,r);break;case"OFF":this.setVisibility(i,!1,r);break;case"Toggle":this.setVisibility(i,!e.visible,r)}}BE(JR,this,null)}get hasInitialVisibility(){return null===jE(ZR,this)||this.getHash()===jE(ZR,this)}getOrder(){return jE($R,this).size?jE(eM,this)?jE(eM,this).slice():[...jE($R,this).keys()]:null}getGroups(){return jE($R,this).size>0?fk(jE($R,this)):null}getGroup(e){return jE($R,this).get(e)||null}getHash(){if(null!==jE(JR,this))return jE(JR,this);const e=new eI;for(const[t,n]of jE($R,this))e.update("".concat(t,":").concat(n.visible));return BE(JR,this,e.hexdigest())}}function rM(e){const t=e.length;if(t<2)return!0;const n=e[0];for(let r=1;r<t;r++){const t=e[r];let i;if(Array.isArray(t))i=OE(tM,this,rM).call(this,t);else{if(!jE($R,this).has(t))return ZA("Optional content group not found: ".concat(t)),!0;i=jE($R,this).get(t).visible}switch(n){case"And":if(!i)return!1;break;case"Or":if(i)return!0;break;case"Not":return!i;default:return!0}}return"And"===n}class iM{constructor(e,t){let{disableRange:n=!1,disableStream:r=!1}=t;tk(e,'PDFDataTransportStream - missing required "pdfDataRangeTransport" argument.');const{length:i,initialData:s,progressiveDone:a,contentDispositionFilename:o}=e;if(this._queuedChunks=[],this._progressiveDone=a,this._contentDispositionFilename=o,(null===s||void 0===s?void 0:s.length)>0){const e=s instanceof Uint8Array&&s.byteLength===s.buffer.byteLength?s.buffer:new Uint8Array(s).buffer;this._queuedChunks.push(e)}this._pdfDataRangeTransport=e,this._isStreamingSupported=!r,this._isRangeSupported=!n,this._contentLength=i,this._fullRequestReader=null,this._rangeReaders=[],e.addRangeListener(((e,t)=>{this._onReceiveData({begin:e,chunk:t})})),e.addProgressListener(((e,t)=>{this._onProgress({loaded:e,total:t})})),e.addProgressiveReadListener((e=>{this._onReceiveData({chunk:e})})),e.addProgressiveDoneListener((()=>{this._onProgressiveDone()})),e.transportReady()}_onReceiveData(e){let{begin:t,chunk:n}=e;const r=n instanceof Uint8Array&&n.byteLength===n.buffer.byteLength?n.buffer:new Uint8Array(n).buffer;if(void 0===t)this._fullRequestReader?this._fullRequestReader._enqueue(r):this._queuedChunks.push(r);else{tk(this._rangeReaders.some((function(e){return e._begin===t&&(e._enqueue(r),!0)})),"_onReceiveData - no `PDFDataTransportStreamRangeReader` instance found.")}}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}_onProgress(e){var t,n,r,i;void 0===e.total?null===(t=this._rangeReaders[0])||void 0===t||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded}):null===(r=this._fullRequestReader)||void 0===r||null===(i=r.onProgress)||void 0===i||i.call(r,{loaded:e.loaded,total:e.total})}_onProgressiveDone(){var e;null===(e=this._fullRequestReader)||void 0===e||e.progressiveDone(),this._progressiveDone=!0}_removeRangeReader(e){const t=this._rangeReaders.indexOf(e);t>=0&&this._rangeReaders.splice(t,1)}getFullReader(){tk(!this._fullRequestReader,"PDFDataTransportStream.getFullReader can only be called once.");const e=this._queuedChunks;return this._queuedChunks=null,new sM(this,e,this._progressiveDone,this._contentDispositionFilename)}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new aM(this,e,t);return this._pdfDataRangeTransport.requestDataRange(e,t),this._rangeReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeReaders.slice(0))n.cancel(e);this._pdfDataRangeTransport.abort()}}class sM{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this._stream=e,this._done=n||!1,this._filename=Bk(r)?r:null,this._queuedChunks=t||[],this._loaded=0;for(const i of this._queuedChunks)this._loaded+=i.byteLength;this._requests=[],this._headersReady=Promise.resolve(),e._fullRequestReader=this,this.onProgress=null}_enqueue(e){if(!this._done){if(this._requests.length>0){this._requests.shift().resolve({value:e,done:!1})}else this._queuedChunks.push(e);this._loaded+=e.byteLength}}get headersReady(){return this._headersReady}get filename(){return this._filename}get isRangeSupported(){return this._stream._isRangeSupported}get isStreamingSupported(){return this._stream._isStreamingSupported}get contentLength(){return this._stream._contentLength}async read(){if(this._queuedChunks.length>0){return{value:this._queuedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0}progressiveDone(){this._done||(this._done=!0)}}class aM{constructor(e,t,n){this._stream=e,this._begin=t,this._end=n,this._queuedChunk=null,this._requests=[],this._done=!1,this.onProgress=null}_enqueue(e){if(!this._done){if(0===this._requests.length)this._queuedChunk=e;else{this._requests.shift().resolve({value:e,done:!1});for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}this._done=!0,this._stream._removeRangeReader(this)}}get isStreamingSupported(){return!1}async read(){if(this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._stream._removeRangeReader(this)}}function oM(e,t){const n=new Headers;if(!e||!t||"object"!==typeof t)return n;for(const r in t){const e=t[r];void 0!==e&&n.append(r,e)}return n}function lM(e){let{responseHeaders:t,isHttp:n,rangeChunkSize:r,disableRange:i}=e;const s={allowRangeRequests:!1,suggestedLength:void 0},a=parseInt(t.get("Content-Length"),10);if(!Number.isInteger(a))return s;if(s.suggestedLength=a,a<=2*r)return s;if(i||!n)return s;if("bytes"!==t.get("Accept-Ranges"))return s;return"identity"!==(t.get("Content-Encoding")||"identity")||(s.allowRangeRequests=!0),s}function cM(e){const t=e.get("Content-Disposition");if(t){let e=function(e){let t=!0,n=r("filename\\*","i").exec(e);if(n){n=n[1];let e=a(n);return e=unescape(e),e=o(e),e=l(e),s(e)}if(n=function(e){const t=[];let n;const i=r("filename\\*((?!0\\d)\\d+)(\\*?)","ig");for(;null!==(n=i.exec(e));){let[,e,r,i]=n;if(e=parseInt(e,10),e in t){if(0===e)break}else t[e]=[r,i]}const s=[];for(let r=0;r<t.length&&r in t;++r){let[e,n]=t[r];n=a(n),e&&(n=unescape(n),0===r&&(n=o(n))),s.push(n)}return s.join("")}(e),n)return s(l(n));if(n=r("filename","i").exec(e),n){n=n[1];let e=a(n);return e=l(e),s(e)}function r(e,t){return new RegExp("(?:^|;)\\s*"+e+'\\s*=\\s*([^";\\s][^;\\s]*|"(?:[^"\\\\]|\\\\"?)+"?)',t)}function i(e,n){if(e){if(!/^[\x00-\xFF]+$/.test(n))return n;try{const r=new TextDecoder(e,{fatal:!0}),i=pk(n);n=r.decode(i),t=!1}catch(r){}}return n}function s(e){return t&&/[\x80-\xff]/.test(e)&&(e=i("utf-8",e),t&&(e=i("iso-8859-1",e))),e}function a(e){if(e.startsWith('"')){const t=e.slice(1).split('\\"');for(let e=0;e<t.length;++e){const n=t[e].indexOf('"');-1!==n&&(t[e]=t[e].slice(0,n),t.length=e+1),t[e]=t[e].replaceAll(/\\(.)/g,"$1")}e=t.join('"')}return e}function o(e){const t=e.indexOf("'");return-1===t?e:i(e.slice(0,t),e.slice(t+1).replace(/^[^']*'/,""))}function l(e){return!e.startsWith("=?")||/[\x00-\x19\x80-\xff]/.test(e)?e:e.replaceAll(/=\?([\w-]*)\?([QqBb])\?((?:[^?]|\?(?!=))*)\?=/g,(function(e,t,n,r){if("q"===n||"Q"===n)return r=(r=r.replaceAll("_"," ")).replaceAll(/=([0-9a-fA-F]{2})/g,(function(e,t){return String.fromCharCode(parseInt(t,16))})),i(t,r);try{r=atob(r)}catch(s){}return i(t,r)}))}return""}(t);if(e.includes("%"))try{e=decodeURIComponent(e)}catch(n){}if(Bk(e))return e}return null}function uM(e,t){return 404===e||0===e&&t.startsWith("file:")?new lk('Missing PDF "'+t+'".'):new ck("Unexpected server response (".concat(e,') while retrieving PDF "').concat(t,'".'),e)}function hM(e){return 200===e||206===e}function dM(e,t,n){return{method:"GET",headers:e,signal:n.signal,mode:"cors",credentials:t?"include":"same-origin",redirect:"follow"}}function pM(e){return e instanceof Uint8Array?e.buffer:e instanceof ArrayBuffer?e:(ZA("getArrayBuffer - unexpected data format: ".concat(e)),new Uint8Array(e).buffer)}class fM{constructor(e){this.source=e,this.isHttp=/^https?:/i.test(e.url),this.headers=oM(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return tk(!this._fullRequestReader,"PDFFetchStream.getFullReader can only be called once."),this._fullRequestReader=new gM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=new mM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class gM{constructor(e){this._stream=e,this._reader=null,this._loaded=0,this._filename=null;const t=e.source;this._withCredentials=t.withCredentials||!1,this._contentLength=t.length,this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._abortController=new AbortController,this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange;const n=new Headers(e.headers),r=t.url;fetch(r,dM(n,this._withCredentials,this._abortController)).then((t=>{if(!hM(t.status))throw uM(t.status,r);this._reader=t.body.getReader(),this._headersCapability.resolve();const n=t.headers,{allowRangeRequests:i,suggestedLength:s}=lM({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=i,this._contentLength=s||this._contentLength,this._filename=cM(n),!this._isStreamingSupported&&this._isRangeSupported&&this.cancel(new hk("Streaming is disabled."))})).catch(this._headersCapability.reject),this.onProgress=null}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._headersCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength}),{value:pM(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class mM{constructor(e,t,n){this._stream=e,this._reader=null,this._loaded=0;const r=e.source;this._withCredentials=r.withCredentials||!1,this._readCapability=Promise.withResolvers(),this._isStreamingSupported=!r.disableStream,this._abortController=new AbortController;const i=new Headers(e.headers);i.append("Range","bytes=".concat(t,"-").concat(n-1));const s=r.url;fetch(s,dM(i,this._withCredentials,this._abortController)).then((e=>{if(!hM(e.status))throw uM(e.status,s);this._readCapability.resolve(),this._reader=e.body.getReader()})).catch(this._readCapability.reject),this.onProgress=null}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;await this._readCapability.promise;const{value:t,done:n}=await this._reader.read();return n?{value:t,done:n}:(this._loaded+=t.byteLength,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded}),{value:pM(t),done:!1})}cancel(e){var t;null===(t=this._reader)||void 0===t||t.cancel(e),this._abortController.abort()}}class vM{constructor(e){let{url:t,httpHeaders:n,withCredentials:r}=e;this.url=t,this.isHttp=/^https?:/i.test(t),this.headers=oM(this.isHttp,n),this.withCredentials=r||!1,this.currXhrId=0,this.pendingRequests=Object.create(null)}requestRange(e,t,n){const r={begin:e,end:t};for(const i in n)r[i]=n[i];return this.request(r)}requestFull(e){return this.request(e)}request(e){const t=new XMLHttpRequest,n=this.currXhrId++,r=this.pendingRequests[n]={xhr:t};t.open("GET",this.url),t.withCredentials=this.withCredentials;for(const[i,s]of this.headers)t.setRequestHeader(i,s);return this.isHttp&&"begin"in e&&"end"in e?(t.setRequestHeader("Range","bytes=".concat(e.begin,"-").concat(e.end-1)),r.expectedStatus=206):r.expectedStatus=200,t.responseType="arraybuffer",e.onError&&(t.onerror=function(n){e.onError(t.status)}),t.onreadystatechange=this.onStateChange.bind(this,n),t.onprogress=this.onProgress.bind(this,n),r.onHeadersReceived=e.onHeadersReceived,r.onDone=e.onDone,r.onError=e.onError,r.onProgress=e.onProgress,t.send(null),n}onProgress(e,t){var n;const r=this.pendingRequests[e];r&&(null===(n=r.onProgress)||void 0===n||n.call(r,t))}onStateChange(e,t){const n=this.pendingRequests[e];if(!n)return;const r=n.xhr;if(r.readyState>=2&&n.onHeadersReceived&&(n.onHeadersReceived(),delete n.onHeadersReceived),4!==r.readyState)return;if(!(e in this.pendingRequests))return;var i;if(delete this.pendingRequests[e],0===r.status&&this.isHttp)return void(null===(i=n.onError)||void 0===i||i.call(n,r.status));const s=r.status||200;var a;if(!(200===s&&206===n.expectedStatus)&&s!==n.expectedStatus)return void(null===(a=n.onError)||void 0===a||a.call(n,r.status));const o=function(e){const t=e.response;return"string"!==typeof t?t:pk(t).buffer}(r);if(206===s){const e=r.getResponseHeader("Content-Range"),t=/bytes (\d+)-(\d+)\/(\d+)/.exec(e);n.onDone({begin:parseInt(t[1],10),chunk:o})}else if(o)n.onDone({begin:0,chunk:o});else{var l;null===(l=n.onError)||void 0===l||l.call(n,r.status)}}getRequestXhr(e){return this.pendingRequests[e].xhr}isPendingRequest(e){return e in this.pendingRequests}abortRequest(e){const t=this.pendingRequests[e].xhr;delete this.pendingRequests[e],t.abort()}}class yM{constructor(e){this._source=e,this._manager=new vM(e),this._rangeChunkSize=e.rangeChunkSize,this._fullRequestReader=null,this._rangeRequestReaders=[]}_onRangeRequestReaderClosed(e){const t=this._rangeRequestReaders.indexOf(e);t>=0&&this._rangeRequestReaders.splice(t,1)}getFullReader(){return tk(!this._fullRequestReader,"PDFNetworkStream.getFullReader can only be called once."),this._fullRequestReader=new bM(this._manager,this._source),this._fullRequestReader}getRangeReader(e,t){const n=new wM(this._manager,e,t);return n.onClosed=this._onRangeRequestReaderClosed.bind(this),this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class bM{constructor(e,t){this._manager=e;const n={onHeadersReceived:this._onHeadersReceived.bind(this),onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=t.url,this._fullRequestId=e.requestFull(n),this._headersCapability=Promise.withResolvers(),this._disableRange=t.disableRange||!1,this._contentLength=t.length,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!1,this._isRangeSupported=!1,this._cachedChunks=[],this._requests=[],this._done=!1,this._storedError=void 0,this._filename=null,this.onProgress=null}_onHeadersReceived(){const e=this._fullRequestId,t=this._manager.getRequestXhr(e),n=new Headers(t.getAllResponseHeaders().trim().split(/[\r\n]+/).map((e=>{const[t,...n]=e.split(": ");return[t,n.join(": ")]}))),{allowRangeRequests:r,suggestedLength:i}=lM({responseHeaders:n,isHttp:this._manager.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});r&&(this._isRangeSupported=!0),this._contentLength=i||this._contentLength,this._filename=cM(n),this._isRangeSupported&&this._manager.abortRequest(e),this._headersCapability.resolve()}_onDone(e){if(e)if(this._requests.length>0){this._requests.shift().resolve({value:e.chunk,done:!1})}else this._cachedChunks.push(e.chunk);if(this._done=!0,!(this._cachedChunks.length>0)){for(const e of this._requests)e.resolve({value:void 0,done:!0});this._requests.length=0}}_onError(e){this._storedError=uM(e,this._url),this._headersCapability.reject(this._storedError);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._cachedChunks.length=0}_onProgress(e){var t;null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded,total:e.lengthComputable?e.total:this._contentLength})}get filename(){return this._filename}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}get contentLength(){return this._contentLength}get headersReady(){return this._headersCapability.promise}async read(){if(this._storedError)throw this._storedError;if(this._cachedChunks.length>0){return{value:this._cachedChunks.shift(),done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0,this._headersCapability.reject(e);for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._fullRequestId)&&this._manager.abortRequest(this._fullRequestId),this._fullRequestReader=null}}class wM{constructor(e,t,n){this._manager=e;const r={onDone:this._onDone.bind(this),onError:this._onError.bind(this),onProgress:this._onProgress.bind(this)};this._url=e.url,this._requestId=e.requestRange(t,n,r),this._requests=[],this._queuedChunk=null,this._done=!1,this._storedError=void 0,this.onProgress=null,this.onClosed=null}_close(){var e;null===(e=this.onClosed)||void 0===e||e.call(this,this)}_onDone(e){const t=e.chunk;if(this._requests.length>0){this._requests.shift().resolve({value:t,done:!1})}else this._queuedChunk=t;this._done=!0;for(const n of this._requests)n.resolve({value:void 0,done:!0});this._requests.length=0,this._close()}_onError(e){this._storedError=uM(e,this._url);for(const t of this._requests)t.reject(this._storedError);this._requests.length=0,this._queuedChunk=null}_onProgress(e){var t;this.isStreamingSupported||(null===(t=this.onProgress)||void 0===t||t.call(this,{loaded:e.loaded}))}get isStreamingSupported(){return!1}async read(){if(this._storedError)throw this._storedError;if(null!==this._queuedChunk){const e=this._queuedChunk;return this._queuedChunk=null,{value:e,done:!1}}if(this._done)return{value:void 0,done:!0};const e=Promise.withResolvers();return this._requests.push(e),e.promise}cancel(e){this._done=!0;for(const t of this._requests)t.resolve({value:void 0,done:!0});this._requests.length=0,this._manager.isPendingRequest(this._requestId)&&this._manager.abortRequest(this._requestId),this._close()}}const _M=/^[a-z][a-z0-9\-+.]+:/i;function SM(e,t,n){if("http:"===e.protocol){return UI.get("http").request(e,{headers:t},n)}return UI.get("https").request(e,{headers:t},n)}class EM{constructor(e){this.source=e,this.url=function(e){if(_M.test(e))return new URL(e);const t=UI.get("url");return new URL(t.pathToFileURL(e))}(e.url),this.isHttp="http:"===this.url.protocol||"https:"===this.url.protocol,this.isFsUrl="file:"===this.url.protocol,this.headers=oM(this.isHttp,e.httpHeaders),this._fullRequestReader=null,this._rangeRequestReaders=[]}get _progressiveDataLength(){var e,t;return null!==(e=null===(t=this._fullRequestReader)||void 0===t?void 0:t._loaded)&&void 0!==e?e:0}getFullReader(){return tk(!this._fullRequestReader,"PDFNodeStream.getFullReader can only be called once."),this._fullRequestReader=this.isFsUrl?new TM(this):new xM(this),this._fullRequestReader}getRangeReader(e,t){if(t<=this._progressiveDataLength)return null;const n=this.isFsUrl?new IM(this,e,t):new CM(this,e,t);return this._rangeRequestReaders.push(n),n}cancelAllRequests(e){var t;null===(t=this._fullRequestReader)||void 0===t||t.cancel(e);for(const n of this._rangeRequestReaders.slice(0))n.cancel(e)}}class AM{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null;const t=e.source;this._contentLength=t.length,this._loaded=0,this._filename=null,this._disableRange=t.disableRange||!1,this._rangeChunkSize=t.rangeChunkSize,this._rangeChunkSize||this._disableRange||(this._disableRange=!0),this._isStreamingSupported=!t.disableStream,this._isRangeSupported=!t.disableRange,this._readableStream=null,this._readCapability=Promise.withResolvers(),this._headersCapability=Promise.withResolvers()}get headersReady(){return this._headersCapability.promise}get filename(){return this._filename}get contentLength(){return this._contentLength}get isRangeSupported(){return this._isRangeSupported}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded,total:this._contentLength});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),!this._isStreamingSupported&&this._isRangeSupported&&this._error(new hk("streaming is disabled")),this._storedError&&this._readableStream.destroy(this._storedError)}}class kM{constructor(e){this._url=e.url,this._done=!1,this._storedError=null,this.onProgress=null,this._loaded=0,this._readableStream=null,this._readCapability=Promise.withResolvers();const t=e.source;this._isStreamingSupported=!t.disableStream}get isStreamingSupported(){return this._isStreamingSupported}async read(){var e;if(await this._readCapability.promise,this._done)return{value:void 0,done:!0};if(this._storedError)throw this._storedError;const t=this._readableStream.read();if(null===t)return this._readCapability=Promise.withResolvers(),this.read();this._loaded+=t.length,null===(e=this.onProgress)||void 0===e||e.call(this,{loaded:this._loaded});return{value:new Uint8Array(t).buffer,done:!1}}cancel(e){this._readableStream?this._readableStream.destroy(e):this._error(e)}_error(e){this._storedError=e,this._readCapability.resolve()}_setReadableStream(e){this._readableStream=e,e.on("readable",(()=>{this._readCapability.resolve()})),e.on("end",(()=>{e.destroy(),this._done=!0,this._readCapability.resolve()})),e.on("error",(e=>{this._error(e)})),this._storedError&&this._readableStream.destroy(this._storedError)}}class xM extends AM{constructor(e){super(e);const t=Object.fromEntries(e.headers);this._request=SM(this._url,t,(t=>{if(404===t.statusCode){const e=new lk('Missing PDF "'.concat(this._url,'".'));return this._storedError=e,void this._headersCapability.reject(e)}this._headersCapability.resolve(),this._setReadableStream(t);const n=new Headers(this._readableStream.headers),{allowRangeRequests:r,suggestedLength:i}=lM({responseHeaders:n,isHttp:e.isHttp,rangeChunkSize:this._rangeChunkSize,disableRange:this._disableRange});this._isRangeSupported=r,this._contentLength=i||this._contentLength,this._filename=cM(n)})),this._request.on("error",(e=>{this._storedError=e,this._headersCapability.reject(e)})),this._request.end()}}class CM extends kM{constructor(e,t,n){super(e);const r=Object.fromEntries(e.headers);r.Range="bytes=".concat(t,"-").concat(n-1);this._request=SM(this._url,r,(e=>{if(404!==e.statusCode)this._setReadableStream(e);else{const e=new lk('Missing PDF "'.concat(this._url,'".'));this._storedError=e}})),this._request.on("error",(e=>{this._storedError=e})),this._request.end()}}class TM extends AM{constructor(e){super(e);const t=UI.get("fs");t.promises.lstat(this._url).then((e=>{this._contentLength=e.size,this._setReadableStream(t.createReadStream(this._url)),this._headersCapability.resolve()}),(e=>{"ENOENT"===e.code&&(e=new lk('Missing PDF "'.concat(this._url,'".'))),this._storedError=e,this._headersCapability.reject(e)}))}}class IM extends kM{constructor(e,t,n){super(e);const r=UI.get("fs");this._setReadableStream(r.createReadStream(this._url,{start:t,end:n-1}))}}const RM=30;var MM=new WeakMap,PM=new WeakMap,NM=new WeakMap,LM=new WeakMap,DM=new WeakMap,OM=new WeakMap,FM=new WeakMap,jM=new WeakMap,BM=new WeakMap,zM=new WeakMap,VM=new WeakMap,UM=new WeakMap,WM=new WeakMap,HM=new WeakMap,qM=new WeakMap,GM=new WeakMap,KM=new WeakMap,XM=new WeakMap,QM=new WeakSet;class YM{constructor(e){var t;let{textContentSource:n,container:r,viewport:i}=e;if(LE(this,QM),DE(this,MM,Promise.withResolvers()),DE(this,PM,null),DE(this,NM,!1),DE(this,LM,!(null===(t=globalThis.FontInspector)||void 0===t||!t.enabled)),DE(this,DM,null),DE(this,OM,null),DE(this,FM,0),DE(this,jM,0),DE(this,BM,null),DE(this,zM,null),DE(this,VM,0),DE(this,UM,0),DE(this,WM,Object.create(null)),DE(this,HM,[]),DE(this,qM,null),DE(this,GM,[]),DE(this,KM,new WeakMap),DE(this,XM,null),n instanceof ReadableStream)BE(qM,this,n);else{if("object"!==typeof n)throw new Error('No "textContentSource" parameter specified.');BE(qM,this,new ReadableStream({start(e){e.enqueue(n),e.close()}}))}BE(PM,this,BE(zM,this,r)),BE(UM,this,i.scale*(globalThis.devicePixelRatio||1)),BE(VM,this,i.rotation),BE(OM,this,{div:null,properties:null,ctx:null});const{pageWidth:s,pageHeight:a,pageX:o,pageY:l}=i.rawDims;BE(XM,this,[1,0,0,-1,-o,l+a]),BE(jM,this,s),BE(FM,this,a),nP.call(YM),$k(r,i),jE(MM,this).promise.finally((()=>{lP._.delete(this),BE(OM,this,null),BE(WM,this,null)})).catch((()=>{}))}static get fontFamilyMap(){const{isWindows:e,isFirefox:t}=gk.platform;return rk(this,"fontFamilyMap",new Map([["sans-serif","".concat(e&&t?"Calibri, ":"","sans-serif")],["monospace","".concat(e&&t?"Lucida Console, ":"","monospace")]]))}render(){const e=()=>{jE(BM,this).read().then((t=>{var n;let{value:r,done:i}=t;i?jE(MM,this).resolve():(null!==(n=jE(DM,this))&&void 0!==n||BE(DM,this,r.lang),Object.assign(jE(WM,this),r.styles),OE(QM,this,JM).call(this,r.items),e())}),jE(MM,this).reject)};return BE(BM,this,jE(qM,this).getReader()),lP._.add(this),e(),jE(MM,this).promise}update(e){let{viewport:t,onBefore:n=null}=e;const r=t.scale*(globalThis.devicePixelRatio||1),i=t.rotation;if(i!==jE(VM,this)&&(null===n||void 0===n||n(),BE(VM,this,i),$k(jE(zM,this),{rotation:i})),r!==jE(UM,this)){null===n||void 0===n||n(),BE(UM,this,r);const e={div:null,properties:null,ctx:eP.call(YM,jE(DM,this))};for(const t of jE(GM,this))e.properties=jE(KM,this).get(t),e.div=t,OE(QM,this,ZM).call(this,e)}}cancel(){var e;const t=new hk("TextLayer task cancelled.");null===(e=jE(BM,this))||void 0===e||e.cancel(t).catch((()=>{})),BE(BM,this,null),jE(MM,this).reject(t)}get textDivs(){return jE(GM,this)}get textContentItemsStr(){return jE(HM,this)}static cleanup(){if(!(OE(YM,this,lP)._.size>0)){OE(YM,this,iP)._.clear();for(const{canvas:e}of OE(YM,this,sP)._.values())e.remove();OE(YM,this,sP)._.clear()}}}function JM(e){var t,n;if(jE(NM,this))return;null!==(n=(t=jE(OM,this)).ctx)&&void 0!==n||(t.ctx=eP.call(HE,jE(DM,this)));const r=jE(GM,this),i=jE(HM,this);for(const s of e){if(r.length>1e5)return ZA("Ignoring additional textDivs for performance reasons."),void BE(NM,this,!0);if(void 0!==s.str)i.push(s.str),OE(QM,this,$M).call(this,s);else if("beginMarkedContentProps"===s.type||"beginMarkedContent"===s.type){const e=jE(PM,this);BE(PM,this,document.createElement("span")),jE(PM,this).classList.add("markedContent"),null!==s.id&&jE(PM,this).setAttribute("id","".concat(s.id)),e.append(jE(PM,this))}else"endMarkedContent"===s.type&&BE(PM,this,jE(PM,this).parentNode)}}function $M(e){const t=document.createElement("span"),n={angle:0,canvasWidth:0,hasText:""!==e.str,hasEOL:e.hasEOL,fontSize:0};jE(GM,this).push(t);const r=vk.transform(jE(XM,this),e.transform);let i=Math.atan2(r[1],r[0]);const s=jE(WM,this)[e.fontName];s.vertical&&(i+=Math.PI/2);let a=jE(LM,this)&&s.fontSubstitution||s.fontFamily;a=HE.fontFamilyMap.get(a)||a;const o=Math.hypot(r[2],r[3]),l=o*rP.call(HE,a,jE(DM,this));let c,u;0===i?(c=r[4],u=r[5]-l):(c=r[4]+l*Math.sin(i),u=r[5]-l*Math.cos(i));const h="calc(var(--scale-factor)*",d=t.style;jE(PM,this)===jE(zM,this)?(d.left="".concat((100*c/jE(jM,this)).toFixed(2),"%"),d.top="".concat((100*u/jE(FM,this)).toFixed(2),"%")):(d.left="".concat(h).concat(c.toFixed(2),"px)"),d.top="".concat(h).concat(u.toFixed(2),"px)")),d.fontSize="".concat(h).concat((oP._*o).toFixed(2),"px)"),d.fontFamily=a,n.fontSize=o,t.setAttribute("role","presentation"),t.textContent=e.str,t.dir=e.dir,jE(LM,this)&&(t.dataset.fontName=s.fontSubstitutionLoadedName||e.fontName),0!==i&&(n.angle=i*(180/Math.PI));let p=!1;if(e.str.length>1)p=!0;else if(" "!==e.str&&e.transform[0]!==e.transform[3]){const t=Math.abs(e.transform[0]),n=Math.abs(e.transform[3]);t!==n&&Math.max(t,n)/Math.min(t,n)>1.5&&(p=!0)}if(p&&(n.canvasWidth=s.vertical?e.height:e.width),jE(KM,this).set(t,n),jE(OM,this).div=t,jE(OM,this).properties=n,OE(QM,this,ZM).call(this,jE(OM,this)),n.hasText&&jE(PM,this).append(t),n.hasEOL){const e=document.createElement("br");e.setAttribute("role","presentation"),jE(PM,this).append(e)}}function ZM(e){const{div:t,properties:n,ctx:r}=e,{style:i}=t;let s="";if(oP._>1&&(s="scale(".concat(1/oP._,")")),0!==n.canvasWidth&&n.hasText){const{fontFamily:e}=i,{canvasWidth:a,fontSize:o}=n;tP.call(HE,r,o*jE(UM,this),e);const{width:l}=r.measureText(t.textContent);l>0&&(s="scaleX(".concat(a*jE(UM,this)/l,") ").concat(s))}0!==n.angle&&(s="rotate(".concat(n.angle,"deg) ").concat(s)),s.length>0&&(i.transform=s)}function eP(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=OE(HE,this,sP)._.get(e||(e=""));if(!t){const n=document.createElement("canvas");n.className="hiddenCanvasElement",n.lang=e,document.body.append(n),t=n.getContext("2d",{alpha:!1,willReadFrequently:!0}),OE(HE,this,sP)._.set(e,t),OE(HE,this,aP)._.set(t,{size:0,family:""})}return t}function tP(e,t,n){const r=OE(HE,this,aP)._.get(e);t===r.size&&n===r.family||(e.font="".concat(t,"px ").concat(n),r.size=t,r.family=n)}function nP(){if(null!==OE(HE,this,oP)._)return;const e=document.createElement("div");e.style.opacity=0,e.style.lineHeight=1,e.style.fontSize="1px",e.style.position="absolute",e.textContent="X",document.body.append(e),oP._=OE(HE,this,e.getBoundingClientRect().height),e.remove()}function rP(e,t){const n=OE(HE,this,iP)._.get(e);if(n)return n;const r=OE(HE,this,eP).call(this,t);r.canvas.width=r.canvas.height=RM,OE(HE,this,tP).call(this,r,RM,e);const i=r.measureText("");let s=i.fontBoundingBoxAscent,a=Math.abs(i.fontBoundingBoxDescent);if(s){const t=s/(s+a);return OE(HE,this,iP)._.set(e,t),r.canvas.width=r.canvas.height=0,t}r.strokeStyle="red",r.clearRect(0,0,RM,RM),r.strokeText("g",0,0);let o=r.getImageData(0,0,RM,RM).data;a=0;for(let c=o.length-1-3;c>=0;c-=4)if(o[c]>0){a=Math.ceil(c/4/RM);break}r.clearRect(0,0,RM,RM),r.strokeText("A",0,RM),o=r.getImageData(0,0,RM,RM).data,s=0;for(let c=0,u=o.length;c<u;c+=4)if(o[c]>0){s=RM-Math.floor(c/4/RM);break}r.canvas.width=r.canvas.height=0;const l=s?s/(s+a):.8;return OE(HE,this,iP)._.set(e,l),l}HE=YM;var iP={_:new Map},sP={_:new Map},aP={_:new WeakMap},oP={_:null},lP={_:new Set};class cP{static textContent(e){const t=[],n={items:t,styles:Object.create(null)};return function e(n){var r;if(!n)return;let i=null;const s=n.name;if("#text"===s)i=n.value;else{if(!cP.shouldBuildText(s))return;null!==n&&void 0!==n&&null!==(r=n.attributes)&&void 0!==r&&r.textContent?i=n.attributes.textContent:n.value&&(i=n.value)}if(null!==i&&t.push({str:i}),n.children)for(const t of n.children)e(t)}(e),n}static shouldBuildText(e){return!("textarea"===e||"input"===e||"option"===e||"select"===e)}}const uP=65536,hP=eA?class extends fI{_createCanvas(e,t){return UI.get("canvas").createCanvas(e,t)}}:class extends fI{constructor(e){let{ownerDocument:t=globalThis.document,enableHWA:n=!1}=e;super({enableHWA:n}),this._document=t}_createCanvas(e,t){const n=this._document.createElement("canvas");return n.width=e,n.height=t,n}},dP=eA?class extends gI{async _fetch(e){return WI(e)}}:mI,pP=eA?class extends vI{}:class extends vI{constructor(e){let{docId:t,ownerDocument:n=globalThis.document}=e;super(),LE(this,kI),DE(this,yI,void 0),DE(this,bI,void 0),DE(this,wI,void 0),DE(this,_I,void 0),DE(this,SI,void 0),DE(this,EI,void 0),DE(this,AI,0),BE(_I,this,t),BE(SI,this,n)}addFilter(e){var t,n;if(!e)return"none";let r=FE(kI,this,xI).get(e);if(r)return r;const[i,s,a]=OE(kI,this,II).call(this,e),o=1===e.length?i:"".concat(i).concat(s).concat(a);if(r=FE(kI,this,xI).get(o),r)return FE(kI,this,xI).set(e,r),r;const l="g_".concat(jE(_I,this),"_transfer_map_").concat((BE(AI,this,(t=jE(AI,this),n=t++,t)),n)),c=OE(kI,this,RI).call(this,l);FE(kI,this,xI).set(e,c),FE(kI,this,xI).set(o,c);const u=OE(kI,this,NI).call(this,l);return OE(kI,this,DI).call(this,i,s,a,u),c}addHCMFilter(e,t){var n;const r="".concat(e,"-").concat(t),i="base";let s=FE(kI,this,CI).get(i);if((null===(n=s)||void 0===n?void 0:n.key)===r)return s.url;var a;s?(null===(a=s.filter)||void 0===a||a.remove(),s.key=r,s.url="none",s.filter=null):(s={key:r,url:"none",filter:null},FE(kI,this,CI).set(i,s));if(!e||!t)return s.url;const o=OE(kI,this,FI).call(this,e);e=vk.makeHexColor(...o);const l=OE(kI,this,FI).call(this,t);if(t=vk.makeHexColor(...l),FE(kI,this,TI).style.color="","#000000"===e&&"#ffffff"===t||e===t)return s.url;const c=new Array(256);for(let f=0;f<=255;f++){const e=f/255;c[f]=e<=.03928?e/12.92:((e+.055)/1.055)**2.4}const u=c.join(","),h="g_".concat(jE(_I,this),"_hcm_filter"),d=s.filter=OE(kI,this,NI).call(this,h);OE(kI,this,DI).call(this,u,u,u,d),OE(kI,this,PI).call(this,d);const p=(e,t)=>{const n=o[e]/255,r=l[e]/255,i=new Array(t+1);for(let s=0;s<=t;s++)i[s]=n+s/t*(r-n);return i.join(",")};return OE(kI,this,DI).call(this,p(0,5),p(1,5),p(2,5),d),s.url=OE(kI,this,RI).call(this,h),s.url}addAlphaFilter(e){var t,n;let r=FE(kI,this,xI).get(e);if(r)return r;const[i]=OE(kI,this,II).call(this,[e]),s="alpha_".concat(i);if(r=FE(kI,this,xI).get(s),r)return FE(kI,this,xI).set(e,r),r;const a="g_".concat(jE(_I,this),"_alpha_map_").concat((BE(AI,this,(t=jE(AI,this),n=t++,t)),n)),o=OE(kI,this,RI).call(this,a);FE(kI,this,xI).set(e,o),FE(kI,this,xI).set(s,o);const l=OE(kI,this,NI).call(this,a);return OE(kI,this,OI).call(this,i,l),o}addLuminosityFilter(e){var t,n;let r,i,s=FE(kI,this,xI).get(e||"luminosity");if(s)return s;if(e?([r]=OE(kI,this,II).call(this,[e]),i="luminosity_".concat(r)):i="luminosity",s=FE(kI,this,xI).get(i),s)return FE(kI,this,xI).set(e,s),s;const a="g_".concat(jE(_I,this),"_luminosity_map_").concat((BE(AI,this,(t=jE(AI,this),n=t++,t)),n)),o=OE(kI,this,RI).call(this,a);FE(kI,this,xI).set(e,o),FE(kI,this,xI).set(i,o);const l=OE(kI,this,NI).call(this,a);return OE(kI,this,MI).call(this,l),e&&OE(kI,this,OI).call(this,r,l),o}addHighlightHCMFilter(e,t,n,r,i){var s;const a="".concat(t,"-").concat(n,"-").concat(r,"-").concat(i);let o=FE(kI,this,CI).get(e);if((null===(s=o)||void 0===s?void 0:s.key)===a)return o.url;var l;o?(null===(l=o.filter)||void 0===l||l.remove(),o.key=a,o.url="none",o.filter=null):(o={key:a,url:"none",filter:null},FE(kI,this,CI).set(e,o));if(!t||!n)return o.url;const[c,u]=[t,n].map(OE(kI,this,FI).bind(this));let h=Math.round(.2126*c[0]+.7152*c[1]+.0722*c[2]),d=Math.round(.2126*u[0]+.7152*u[1]+.0722*u[2]),[p,f]=[r,i].map(OE(kI,this,FI).bind(this));d<h&&([h,d,p,f]=[d,h,f,p]),FE(kI,this,TI).style.color="";const g=(e,t,n)=>{const r=new Array(256),i=(d-h)/n,s=e/255,a=(t-e)/(255*n);let o=0;for(let l=0;l<=n;l++){const e=Math.round(h+l*i),t=s+l*a;for(let n=o;n<=e;n++)r[n]=t;o=e+1}for(let l=o;l<256;l++)r[l]=r[o-1];return r.join(",")},m="g_".concat(jE(_I,this),"_hcm_").concat(e,"_filter"),v=o.filter=OE(kI,this,NI).call(this,m);return OE(kI,this,PI).call(this,v),OE(kI,this,DI).call(this,g(p[0],f[0],5),g(p[1],f[1],5),g(p[2],f[2],5),v),o.url=OE(kI,this,RI).call(this,m),o.url}destroy(){arguments.length>0&&void 0!==arguments[0]&&arguments[0]&&0!==FE(kI,this,CI).size||(jE(wI,this)&&(jE(wI,this).parentNode.parentNode.remove(),BE(wI,this,null)),jE(bI,this)&&(jE(bI,this).clear(),BE(bI,this,null)),BE(AI,this,0))}},fP=eA?class extends jI{async _fetch(e){return WI(e)}}:BI;function gP(){var e,t,n;let r=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};"string"===typeof r||r instanceof URL?r={url:r}:(r instanceof ArrayBuffer||ArrayBuffer.isView(r))&&(r={data:r});const i=new vP,{docId:s}=i,a=r.url?function(e){if(e instanceof URL)return e.href;try{return new URL(e,window.location).href}catch(t){if(eA&&"string"===typeof e)return e}throw new Error("Invalid PDF url data: either string or URL-object is expected in the url property.")}(r.url):null,o=r.data?function(e){if(eA&&"undefined"!==typeof Buffer&&e instanceof Buffer)throw new Error("Please provide binary data as `Uint8Array`, rather than `Buffer`.");if(e instanceof Uint8Array&&e.byteLength===e.buffer.byteLength)return e;if("string"===typeof e)return pk(e);if(e instanceof ArrayBuffer||ArrayBuffer.isView(e)||"object"===typeof e&&!isNaN(null===e||void 0===e?void 0:e.length))return new Uint8Array(e);throw new Error("Invalid PDF binary data: either TypedArray, string, or array-like object is expected in the data property.")}(r.data):null,l=r.httpHeaders||null,c=!0===r.withCredentials,u=null!==(e=r.password)&&void 0!==e?e:null,h=r.range instanceof bP?r.range:null,d=Number.isInteger(r.rangeChunkSize)&&r.rangeChunkSize>0?r.rangeChunkSize:uP;let p=r.worker instanceof MP?r.worker:null;const f=r.verbosity,g="string"!==typeof r.docBaseUrl||jk(r.docBaseUrl)?null:r.docBaseUrl,m="string"===typeof r.cMapUrl?r.cMapUrl:null,v=!1!==r.cMapPacked,y=r.CMapReaderFactory||dP,b="string"===typeof r.standardFontDataUrl?r.standardFontDataUrl:null,w=r.StandardFontDataFactory||fP,_=!0!==r.stopAtErrors,S=Number.isInteger(r.maxImageSize)&&r.maxImageSize>-1?r.maxImageSize:-1,E=!1!==r.isEvalSupported,A="boolean"===typeof r.isOffscreenCanvasSupported?r.isOffscreenCanvasSupported:!eA,k="boolean"===typeof r.isChrome?r.isChrome:!gk.platform.isFirefox&&"undefined"!==typeof window&&!(null===(t=window)||void 0===t||!t.chrome),x=Number.isInteger(r.canvasMaxAreaInBytes)?r.canvasMaxAreaInBytes:-1,C="boolean"===typeof r.disableFontFace?r.disableFontFace:eA,T=!0===r.fontExtraProperties,I=!0===r.enableXfa,R=r.ownerDocument||globalThis.document,M=!0===r.disableRange,P=!0===r.disableStream,N=!0===r.disableAutoFetch,L=!0===r.pdfBug,D=r.CanvasFactory||hP,O=r.FilterFactory||pP,F=!0===r.enableHWA,j=h?h.length:null!==(n=r.length)&&void 0!==n?n:NaN,B="boolean"===typeof r.useSystemFonts?r.useSystemFonts:!eA&&!C,z="boolean"===typeof r.useWorkerFetch?r.useWorkerFetch:y===mI&&w===BI&&m&&b&&Wk(m,document.baseURI)&&Wk(b,document.baseURI);r.canvasFactory&&qk("`canvasFactory`-instance option, please use `CanvasFactory` instead."),r.filterFactory&&qk("`filterFactory`-instance option, please use `FilterFactory` instead.");YA(f);const V={canvasFactory:new D({ownerDocument:R,enableHWA:F}),filterFactory:new O({docId:s,ownerDocument:R}),cMapReaderFactory:z?null:new y({baseUrl:m,isCompressed:v}),standardFontDataFactory:z?null:new w({baseUrl:b})};if(!p){const e={verbosity:f,port:_R.workerPort};p=e.port?MP.fromPort(e):new MP(e),i._worker=p}const U={docId:s,apiVersion:"4.8.69",data:o,password:u,disableAutoFetch:N,rangeChunkSize:d,length:j,docBaseUrl:g,enableXfa:I,evaluatorOptions:{maxImageSize:S,disableFontFace:C,ignoreErrors:_,isEvalSupported:E,isOffscreenCanvasSupported:A,isChrome:k,canvasMaxAreaInBytes:x,fontExtraProperties:T,useSystemFonts:B,cMapUrl:z?m:null,standardFontDataUrl:z?b:null}},W={disableFontFace:C,fontExtraProperties:T,ownerDocument:R,pdfBug:L,styleElement:null,loadingParams:{disableAutoFetch:N,enableXfa:I}};return p.promise.then((function(){if(i.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const e=p.messageHandler.sendWithPromise("GetDocRequest",U,o?[o.buffer]:null);let t;if(h)t=new iM(h,{disableRange:M,disableStream:P});else if(!o){if(!a)throw new Error("getDocument - no `url` parameter provided.");let e;if(eA){e="undefined"!==typeof fetch&&"undefined"!==typeof Response&&"body"in Response.prototype&&Wk(a)?fM:EM}else e=Wk(a)?fM:yM;t=new e({url:a,length:j,httpHeaders:l,withCredentials:c,rangeChunkSize:d,disableRange:M,disableStream:P})}return e.then((e=>{if(i.destroyed)throw new Error("Loading aborted");if(p.destroyed)throw new Error("Worker was destroyed");const n=new FR(s,e,p.port),r=new WP(n,i,t,W,V);i._transport=r,n.send("Ready",null)}))})).catch(i._capability.reject),i}function mP(e){return"object"===typeof e&&Number.isInteger(null===e||void 0===e?void 0:e.num)&&e.num>=0&&Number.isInteger(null===e||void 0===e?void 0:e.gen)&&e.gen>=0}class vP{constructor(){var e,t;this._capability=Promise.withResolvers(),this._transport=null,this._worker=null,this.docId="d".concat((yP._=(e=yP._,t=e++,e),t)),this.destroyed=!1,this.onPassword=null,this.onProgress=null}get promise(){return this._capability.promise}async destroy(){this.destroyed=!0;try{var e,t;null!==(e=this._worker)&&void 0!==e&&e.port&&(this._worker._pendingDestroy=!0),await(null===(t=this._transport)||void 0===t?void 0:t.destroy())}catch(r){var n;throw null!==(n=this._worker)&&void 0!==n&&n.port&&delete this._worker._pendingDestroy,r}this._transport=null,this._worker&&(this._worker.destroy(),this._worker=null)}}var yP={_:0};class bP{constructor(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2],r=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;this.length=e,this.initialData=t,this.progressiveDone=n,this.contentDispositionFilename=r,this._rangeListeners=[],this._progressListeners=[],this._progressiveReadListeners=[],this._progressiveDoneListeners=[],this._readyCapability=Promise.withResolvers()}addRangeListener(e){this._rangeListeners.push(e)}addProgressListener(e){this._progressListeners.push(e)}addProgressiveReadListener(e){this._progressiveReadListeners.push(e)}addProgressiveDoneListener(e){this._progressiveDoneListeners.push(e)}onDataRange(e,t){for(const n of this._rangeListeners)n(e,t)}onDataProgress(e,t){this._readyCapability.promise.then((()=>{for(const n of this._progressListeners)n(e,t)}))}onDataProgressiveRead(e){this._readyCapability.promise.then((()=>{for(const t of this._progressiveReadListeners)t(e)}))}onDataProgressiveDone(){this._readyCapability.promise.then((()=>{for(const e of this._progressiveDoneListeners)e()}))}transportReady(){this._readyCapability.resolve()}requestDataRange(e,t){ek("Abstract method PDFDataRangeTransport.requestDataRange")}abort(){}}class wP{constructor(e,t){this._pdfInfo=e,this._transport=t}get annotationStorage(){return this._transport.annotationStorage}get canvasFactory(){return this._transport.canvasFactory}get filterFactory(){return this._transport.filterFactory}get numPages(){return this._pdfInfo.numPages}get fingerprints(){return this._pdfInfo.fingerprints}get isPureXfa(){return rk(this,"isPureXfa",!!this._transport._htmlForXfa)}get allXfaHtml(){return this._transport._htmlForXfa}getPage(e){return this._transport.getPage(e)}getPageIndex(e){return this._transport.getPageIndex(e)}getDestinations(){return this._transport.getDestinations()}getDestination(e){return this._transport.getDestination(e)}getPageLabels(){return this._transport.getPageLabels()}getPageLayout(){return this._transport.getPageLayout()}getPageMode(){return this._transport.getPageMode()}getViewerPreferences(){return this._transport.getViewerPreferences()}getOpenAction(){return this._transport.getOpenAction()}getAttachments(){return this._transport.getAttachments()}getJSActions(){return this._transport.getDocJSActions()}getOutline(){return this._transport.getOutline()}getOptionalContentConfig(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getOptionalContentConfig(t)}getPermissions(){return this._transport.getPermissions()}getMetadata(){return this._transport.getMetadata()}getMarkInfo(){return this._transport.getMarkInfo()}getData(){return this._transport.getData()}saveDocument(){return this._transport.saveDocument()}getDownloadInfo(){return this._transport.downloadInfoCapability.promise}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];return this._transport.startCleanup(e||this.isPureXfa)}destroy(){return this.loadingTask.destroy()}cachedPageNumber(e){return this._transport.cachedPageNumber(e)}get loadingParams(){return this._transport.loadingParams}get loadingTask(){return this._transport.loadingTask}getFieldObjects(){return this._transport.getFieldObjects()}hasJSActions(){return this._transport.hasJSActions()}getCalculationOrderIds(){return this._transport.getCalculationOrderIds()}}var _P=new WeakMap,SP=new WeakMap,EP=new WeakSet;class AP{constructor(e,t,n){let r=arguments.length>3&&void 0!==arguments[3]&&arguments[3];LE(this,EP),DE(this,_P,null),DE(this,SP,!1),this._pageIndex=e,this._pageInfo=t,this._transport=n,this._stats=r?new Uk:null,this._pdfBug=r,this.commonObjs=n.commonObjs,this.objs=new XP,this._maybeCleanupAfterRender=!1,this._intentStates=new Map,this.destroyed=!1}get pageNumber(){return this._pageIndex+1}get rotate(){return this._pageInfo.rotate}get ref(){return this._pageInfo.ref}get userUnit(){return this._pageInfo.userUnit}get view(){return this._pageInfo.view}getViewport(){let{scale:e,rotation:t=this.rotate,offsetX:n=0,offsetY:r=0,dontFlip:i=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return new Ok({viewBox:this.view,scale:e,rotation:t,offsetX:n,offsetY:r,dontFlip:i})}getAnnotations(){let{intent:e="display"}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const{renderingIntent:t}=this._transport.getRenderingIntent(e);return this._transport.getAnnotations(this._pageIndex,t)}getJSActions(){return this._transport.getPageJSActions(this._pageIndex)}get filterFactory(){return this._transport.filterFactory}get isPureXfa(){return rk(this,"isPureXfa",!!this._transport._htmlForXfa)}async getXfa(){var e;return(null===(e=this._transport._htmlForXfa)||void 0===e?void 0:e.children[this._pageIndex])||null}render(e){var t,n;let{canvasContext:r,viewport:i,intent:s="display",annotationMode:a=dA.ENABLE,transform:o=null,background:l=null,optionalContentConfigPromise:c=null,annotationCanvasMap:u=null,pageColors:h=null,printAnnotationStorage:d=null,isEditing:p=!1}=e;null===(t=this._stats)||void 0===t||t.time("Overall");const f=this._transport.getRenderingIntent(s,a,d,p),{renderingIntent:g,cacheKey:m}=f;BE(SP,this,!1),OE(EP,this,xP).call(this),c||(c=this._transport.getOptionalContentConfig(g));let v=this._intentStates.get(m);v||(v=Object.create(null),this._intentStates.set(m,v)),v.streamReaderCancelTimeout&&(clearTimeout(v.streamReaderCancelTimeout),v.streamReaderCancelTimeout=null);const y=!!(g&aA);var b;v.displayReadyCapability||(v.displayReadyCapability=Promise.withResolvers(),v.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(b=this._stats)||void 0===b||b.time("Page Request"),this._pumpOperatorList(f));const w=e=>{var t;(v.renderTasks.delete(_),(this._maybeCleanupAfterRender||y)&&BE(SP,this,!0),OE(EP,this,kP).call(this,!y),e?(_.capability.reject(e),this._abortOperatorList({intentState:v,reason:e instanceof Error?e:new Error(e)})):_.capability.resolve(),this._stats)&&(this._stats.timeEnd("Rendering"),this._stats.timeEnd("Overall"),null!==(t=globalThis.Stats)&&void 0!==t&&t.enabled&&globalThis.Stats.add(this.pageNumber,this._stats))},_=new ZP({callback:w,params:{canvasContext:r,viewport:i,transform:o,background:l},objs:this.objs,commonObjs:this.commonObjs,annotationCanvasMap:u,operatorList:v.operatorList,pageIndex:this._pageIndex,canvasFactory:this._transport.canvasFactory,filterFactory:this._transport.filterFactory,useRequestAnimationFrame:!y,pdfBug:this._pdfBug,pageColors:h});((n=v).renderTasks||(n.renderTasks=new Set)).add(_);const S=_.task;return Promise.all([v.displayReadyCapability.promise,c]).then((e=>{var t;let[n,r]=e;if(this.destroyed)w();else{if(null===(t=this._stats)||void 0===t||t.time("Rendering"),!(r.renderingIntent&g))throw new Error("Must use the same `intent`-argument when calling the `PDFPageProxy.render` and `PDFDocumentProxy.getOptionalContentConfig` methods.");_.initializeGraphics({transparency:n,optionalContentConfig:r}),_.operatorListChanged()}})).catch(w),S}getOperatorList(){let{intent:e="display",annotationMode:t=dA.ENABLE,printAnnotationStorage:n=null,isEditing:r=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};const i=this._transport.getRenderingIntent(e,t,n,r,!0);let s,a=this._intentStates.get(i.cacheKey);var o,l;(a||(a=Object.create(null),this._intentStates.set(i.cacheKey,a)),a.opListReadCapability)||(s=Object.create(null),s.operatorListChanged=function(){a.operatorList.lastChunk&&(a.opListReadCapability.resolve(a.operatorList),a.renderTasks.delete(s))},a.opListReadCapability=Promise.withResolvers(),((o=a).renderTasks||(o.renderTasks=new Set)).add(s),a.operatorList={fnArray:[],argsArray:[],lastChunk:!1,separateAnnots:null},null===(l=this._stats)||void 0===l||l.time("Page Request"),this._pumpOperatorList(i));return a.opListReadCapability.promise}streamTextContent(){let{includeMarkedContent:e=!1,disableNormalization:t=!1}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._transport.messageHandler.sendWithStream("GetTextContent",{pageIndex:this._pageIndex,includeMarkedContent:!0===e,disableNormalization:!0===t},{highWaterMark:100,size:e=>e.items.length})}getTextContent(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(this._transport._htmlForXfa)return this.getXfa().then((e=>cP.textContent(e)));const t=this.streamTextContent(e);return new Promise((function(e,n){const r=t.getReader(),i={items:[],styles:Object.create(null),lang:null};!function t(){r.read().then((function(n){var r;let{value:s,done:a}=n;a?e(i):(null!==(r=i.lang)&&void 0!==r||(i.lang=s.lang),Object.assign(i.styles,s.styles),i.items.push(...s.items),t())}),n)}()}))}getStructTree(){return this._transport.getStructTree(this._pageIndex)}_destroy(){this.destroyed=!0;const e=[];for(const t of this._intentStates.values())if(this._abortOperatorList({intentState:t,reason:new Error("Page was destroyed."),force:!0}),!t.opListReadCapability)for(const n of t.renderTasks)e.push(n.completed),n.cancel();return this.objs.clear(),BE(SP,this,!1),OE(EP,this,xP).call(this),Promise.all(e)}cleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];BE(SP,this,!0);const t=OE(EP,this,kP).call(this,!1);return e&&t&&this._stats&&(this._stats=new Uk),t}_startRenderPage(e,t){var n,r;const i=this._intentStates.get(t);i&&(null===(n=this._stats)||void 0===n||n.timeEnd("Page Request"),null===(r=i.displayReadyCapability)||void 0===r||r.resolve(e))}_renderPageChunk(e,t){for(let n=0,r=e.length;n<r;n++)t.operatorList.fnArray.push(e.fnArray[n]),t.operatorList.argsArray.push(e.argsArray[n]);t.operatorList.lastChunk=e.lastChunk,t.operatorList.separateAnnots=e.separateAnnots;for(const n of t.renderTasks)n.operatorListChanged();e.lastChunk&&OE(EP,this,kP).call(this,!0)}_pumpOperatorList(e){let{renderingIntent:t,cacheKey:n,annotationStorageSerializable:r,modifiedIds:i}=e;const{map:s,transfer:a}=r,o=this._transport.messageHandler.sendWithStream("GetOperatorList",{pageIndex:this._pageIndex,intent:t,cacheKey:n,annotationStorage:s,modifiedIds:i},a).getReader(),l=this._intentStates.get(n);l.streamReader=o;const c=()=>{o.read().then((e=>{let{value:t,done:n}=e;n?l.streamReader=null:this._transport.destroyed||(this._renderPageChunk(t,l),c())}),(e=>{if(l.streamReader=null,!this._transport.destroyed){if(l.operatorList){l.operatorList.lastChunk=!0;for(const e of l.renderTasks)e.operatorListChanged();OE(EP,this,kP).call(this,!0)}if(l.displayReadyCapability)l.displayReadyCapability.reject(e);else{if(!l.opListReadCapability)throw e;l.opListReadCapability.reject(e)}}}))};c()}_abortOperatorList(e){let{intentState:t,reason:n,force:r=!1}=e;if(t.streamReader){if(t.streamReaderCancelTimeout&&(clearTimeout(t.streamReaderCancelTimeout),t.streamReaderCancelTimeout=null),!r){if(t.renderTasks.size>0)return;if(n instanceof Fk){let e=100;return n.extraDelay>0&&n.extraDelay<1e3&&(e+=n.extraDelay),void(t.streamReaderCancelTimeout=setTimeout((()=>{t.streamReaderCancelTimeout=null,this._abortOperatorList({intentState:t,reason:n,force:!0})}),e))}}if(t.streamReader.cancel(new hk(n.message)).catch((()=>{})),t.streamReader=null,!this._transport.destroyed){for(const[e,n]of this._intentStates)if(n===t){this._intentStates.delete(e);break}this.cleanup()}}}get stats(){return this._stats}}function kP(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(OE(EP,this,xP).call(this),!jE(SP,this)||this.destroyed)return!1;if(e)return BE(_P,this,setTimeout((()=>{BE(_P,this,null),OE(EP,this,kP).call(this,!1)}),5e3)),!1;for(const{renderTasks:t,operatorList:n}of this._intentStates.values())if(t.size>0||!n.lastChunk)return!1;return this._intentStates.clear(),this.objs.clear(),BE(SP,this,!1),!0}function xP(){jE(_P,this)&&(clearTimeout(jE(_P,this)),BE(_P,this,null))}var CP=new WeakMap,TP=new WeakMap;class IP{constructor(){DE(this,CP,new Map),DE(this,TP,Promise.resolve())}postMessage(e,t){const n={data:structuredClone(e,t?{transfer:t}:null)};jE(TP,this).then((()=>{for(const[e]of jE(CP,this))e.call(this,n)}))}addEventListener(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=null;if((null===n||void 0===n?void 0:n.signal)instanceof AbortSignal){const{signal:i}=n;if(i.aborted)return void ZA("LoopbackPort - cannot use an `aborted` signal.");const s=()=>this.removeEventListener(e,t);r=()=>i.removeEventListener("abort",s),i.addEventListener("abort",s)}jE(CP,this).set(t,r)}removeEventListener(e,t){const n=jE(CP,this).get(t);null===n||void 0===n||n(),jE(CP,this).delete(t)}terminate(){for(const[,e]of jE(CP,this))null===e||void 0===e||e();jE(CP,this).clear()}}var RP=new WeakSet;class MP{constructor(){let{name:e=null,port:t=null,verbosity:n=JA()}=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};if(LE(this,RP),this.name=e,this.destroyed=!1,this.verbosity=n,this._readyCapability=Promise.withResolvers(),this._port=null,this._webWorker=null,this._messageHandler=null,t){var r;if(null!==(r=OP._)&&void 0!==r&&r.has(t))throw new Error("Cannot use more than one PDFWorker per port.");return(OP._||(OP._=new WeakMap)).set(t,this),void this._initializeFromPort(t)}this._initialize()}get promise(){return eA?Promise.all([UI.promise,this._readyCapability.promise]):this._readyCapability.promise}get port(){return this._port}get messageHandler(){return this._messageHandler}_initializeFromPort(e){this._port=e,this._messageHandler=new FR("main","worker",e),this._messageHandler.on("ready",(function(){})),OE(RP,this,PP).call(this)}_initialize(){if(DP._||NP(MP))return void this._setupFakeWorker();let{workerSrc:e}=MP;try{MP._isSameOrigin(window.location.href,e)||(e=MP._createCDNWrapper(new URL(e,window.location).href));const t=new Worker(e,{type:"module"}),n=new FR("main","worker",t),r=()=>{i.abort(),n.destroy(),t.terminate(),this.destroyed?this._readyCapability.reject(new Error("Worker was destroyed")):this._setupFakeWorker()},i=new AbortController;t.addEventListener("error",(()=>{this._webWorker||r()}),{signal:i.signal}),n.on("test",(e=>{i.abort(),!this.destroyed&&e?(this._messageHandler=n,this._port=t,this._webWorker=t,OE(RP,this,PP).call(this)):r()})),n.on("ready",(e=>{if(i.abort(),this.destroyed)r();else try{s()}catch(t){this._setupFakeWorker()}}));const s=()=>{const e=new Uint8Array;n.send("test",e,[e.buffer])};return void s()}catch(t){$A("The worker has been disabled.")}this._setupFakeWorker()}_setupFakeWorker(){DP._||(ZA("Setting up fake worker."),DP._=!0),MP._setupFakeWorkerGlobal.then((e=>{var t,n;if(this.destroyed)return void this._readyCapability.reject(new Error("Worker was destroyed"));const r=new IP;this._port=r;const i="fake".concat((LP._=(t=LP._,n=t++,t),n)),s=new FR(i+"_worker",i,r);e.setup(s,r),this._messageHandler=new FR(i,i+"_worker",r),OE(RP,this,PP).call(this)})).catch((e=>{this._readyCapability.reject(new Error('Setting up fake worker failed: "'.concat(e.message,'".')))}))}destroy(){var e;this.destroyed=!0,this._webWorker&&(this._webWorker.terminate(),this._webWorker=null),null===(e=OP._)||void 0===e||e.delete(this._port),this._port=null,this._messageHandler&&(this._messageHandler.destroy(),this._messageHandler=null)}static fromPort(e){var t;if(null===e||void 0===e||!e.port)throw new Error("PDFWorker.fromPort - invalid method signature.");const n=null===(t=OE(MP,this,OP)._)||void 0===t?void 0:t.get(e.port);if(n){if(n._pendingDestroy)throw new Error("PDFWorker.fromPort - the worker is being destroyed.\nPlease remember to await `PDFDocumentLoadingTask.destroy()`-calls.");return n}return new MP(e)}static get workerSrc(){if(_R.workerSrc)return _R.workerSrc;throw new Error('No "GlobalWorkerOptions.workerSrc" specified.')}static get _setupFakeWorkerGlobal(){return rk(this,"_setupFakeWorkerGlobal",(async()=>{if(FE(MP,this,NP))return FE(MP,this,NP);return(await import(this.workerSrc)).WorkerMessageHandler})())}}function PP(){this._readyCapability.resolve(),this._messageHandler.send("configure",{verbosity:this.verbosity})}function NP(e){try{var t;return(null===(t=globalThis.pdfjsWorker)||void 0===t?void 0:t.WorkerMessageHandler)||null}catch(n){return null}}qE=MP;var LP={_:0},DP={_:!1},OP={_:void 0};eA&&(DP._=OE(qE,qE,!0),_R.workerSrc||(_R.workerSrc="./pdf.worker.mjs")),qE._isSameOrigin=(e,t)=>{let n;try{if(n=new URL(e),!n.origin||"null"===n.origin)return!1}catch(i){return!1}const r=new URL(t,n);return n.origin===r.origin},qE._createCDNWrapper=e=>{const t='await import("'.concat(e,'");');return URL.createObjectURL(new Blob([t],{type:"text/javascript"}))};var FP=new WeakMap,jP=new WeakMap,BP=new WeakMap,zP=new WeakMap,VP=new WeakMap,UP=new WeakSet;class WP{constructor(e,t,n,r,i){LE(this,UP),DE(this,FP,new Map),DE(this,jP,new Map),DE(this,BP,new Map),DE(this,zP,new Map),DE(this,VP,null),this.messageHandler=e,this.loadingTask=t,this.commonObjs=new XP,this.fontLoader=new hI({ownerDocument:r.ownerDocument,styleElement:r.styleElement}),this.loadingParams=r.loadingParams,this._params=r,this.canvasFactory=i.canvasFactory,this.filterFactory=i.filterFactory,this.cMapReaderFactory=i.cMapReaderFactory,this.standardFontDataFactory=i.standardFontDataFactory,this.destroyed=!1,this.destroyCapability=null,this._networkStream=n,this._fullReader=null,this._lastProgress=null,this.downloadInfoCapability=Promise.withResolvers(),this.setupMessageHandler()}get annotationStorage(){return rk(this,"annotationStorage",new aI)}getRenderingIntent(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:dA.ENABLE,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]&&arguments[4],s=sA,a=tI;switch(e){case"any":s=iA;break;case"display":break;case"print":s=aA;break;default:ZA("getRenderingIntent - invalid intent: ".concat(e))}const o=s&aA&&n instanceof cI?n:this.annotationStorage;switch(t){case dA.DISABLE:s+=cA;break;case dA.ENABLE:break;case dA.ENABLE_FORMS:s+=oA;break;case dA.ENABLE_STORAGE:s+=lA,a=o.serializable;break;default:ZA("getRenderingIntent - invalid annotationMode: ".concat(t))}r&&(s+=uA),i&&(s+=hA);const{ids:l,hash:c}=o.modifiedIds;return{renderingIntent:s,cacheKey:[s,a.hash,c].join("_"),annotationStorageSerializable:a,modifiedIds:l}}destroy(){var e;if(this.destroyCapability)return this.destroyCapability.promise;this.destroyed=!0,this.destroyCapability=Promise.withResolvers(),null===(e=jE(VP,this))||void 0===e||e.reject(new Error("Worker was destroyed during onPassword callback"));const t=[];for(const r of jE(jP,this).values())t.push(r._destroy());jE(jP,this).clear(),jE(BP,this).clear(),jE(zP,this).clear(),this.hasOwnProperty("annotationStorage")&&this.annotationStorage.resetModified();const n=this.messageHandler.sendWithPromise("Terminate",null);return t.push(n),Promise.all(t).then((()=>{var e;this.commonObjs.clear(),this.fontLoader.clear(),jE(FP,this).clear(),this.filterFactory.destroy(),YM.cleanup(),null===(e=this._networkStream)||void 0===e||e.cancelAllRequests(new hk("Worker was terminated.")),this.messageHandler&&(this.messageHandler.destroy(),this.messageHandler=null),this.destroyCapability.resolve()}),this.destroyCapability.reject),this.destroyCapability.promise}setupMessageHandler(){const{messageHandler:e,loadingTask:t}=this;e.on("GetReader",((e,t)=>{tk(this._networkStream,"GetReader - no `IPDFStream` instance available."),this._fullReader=this._networkStream.getFullReader(),this._fullReader.onProgress=e=>{this._lastProgress={loaded:e.loaded,total:e.total}},t.onPull=()=>{this._fullReader.read().then((function(e){let{value:n,done:r}=e;r?t.close():(tk(n instanceof ArrayBuffer,"GetReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{this._fullReader.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}})),e.on("ReaderHeadersReady",(async e=>{await this._fullReader.headersReady;const{isStreamingSupported:n,isRangeSupported:r,contentLength:i}=this._fullReader;if(!n||!r){var s;if(this._lastProgress)null===(s=t.onProgress)||void 0===s||s.call(t,this._lastProgress);this._fullReader.onProgress=e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})}}return{isStreamingSupported:n,isRangeSupported:r,contentLength:i}})),e.on("GetRangeReader",((e,t)=>{tk(this._networkStream,"GetRangeReader - no `IPDFStream` instance available.");const n=this._networkStream.getRangeReader(e.begin,e.end);n?(t.onPull=()=>{n.read().then((function(e){let{value:n,done:r}=e;r?t.close():(tk(n instanceof ArrayBuffer,"GetRangeReader - expected an ArrayBuffer."),t.enqueue(new Uint8Array(n),1,[n]))})).catch((e=>{t.error(e)}))},t.onCancel=e=>{n.cancel(e),t.ready.catch((e=>{if(!this.destroyed)throw e}))}):t.close()})),e.on("GetDoc",(e=>{let{pdfInfo:n}=e;this._numPages=n.numPages,this._htmlForXfa=n.htmlForXfa,delete n.htmlForXfa,t._capability.resolve(new wP(n,this))})),e.on("DocException",(function(e){let n;switch(e.name){case"PasswordException":n=new sk(e.message,e.code);break;case"InvalidPDFException":n=new ok(e.message);break;case"MissingPDFException":n=new lk(e.message);break;case"UnexpectedResponseException":n=new ck(e.message,e.status);break;case"UnknownErrorException":n=new ak(e.message,e.details);break;default:ek("DocException - expected a valid Error.")}t._capability.reject(n)})),e.on("PasswordRequest",(e=>{if(BE(VP,this,Promise.withResolvers()),t.onPassword){const r=e=>{e instanceof Error?jE(VP,this).reject(e):jE(VP,this).resolve({password:e})};try{t.onPassword(r,e.code)}catch(n){jE(VP,this).reject(n)}}else jE(VP,this).reject(new sk(e.message,e.code));return jE(VP,this).promise})),e.on("DataLoaded",(e=>{var n;null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.length,total:e.length}),this.downloadInfoCapability.resolve(e)})),e.on("StartRenderPage",(e=>{if(this.destroyed)return;jE(jP,this).get(e.pageIndex)._startRenderPage(e.transparency,e.cacheKey)})),e.on("commonobj",(t=>{var n;let[r,i,s]=t;if(this.destroyed)return null;if(this.commonObjs.has(r))return null;switch(i){case"Font":const{disableFontFace:t,fontExtraProperties:a,pdfBug:o}=this._params;if("error"in s){const e=s.error;ZA("Error during font loading: ".concat(e)),this.commonObjs.resolve(r,e);break}const l=o&&null!==(n=globalThis.FontInspector)&&void 0!==n&&n.enabled?(e,t)=>globalThis.FontInspector.fontAdded(e,t):null,c=new dI(s,{disableFontFace:t,inspectFont:l});this.fontLoader.bind(c).catch((()=>e.sendWithPromise("FontFallback",{id:r}))).finally((()=>{!a&&c.data&&(c.data=null),this.commonObjs.resolve(r,c)}));break;case"CopyLocalImage":const{imageRef:u}=s;tk(u,"The imageRef must be defined.");for(const e of jE(jP,this).values())for(const[,t]of e.objs)if((null===t||void 0===t?void 0:t.ref)===u)return t.dataLen?(this.commonObjs.resolve(r,structuredClone(t)),t.dataLen):null;break;case"FontPath":case"Image":case"Pattern":this.commonObjs.resolve(r,s);break;default:throw new Error("Got unknown common object type ".concat(i))}return null})),e.on("obj",(e=>{let[t,n,r,i]=e;if(this.destroyed)return;const s=jE(jP,this).get(n);var a;if(!s.objs.has(t))if(0!==s._intentStates.size)switch(r){case"Image":s.objs.resolve(t,i),(null===i||void 0===i?void 0:i.dataLen)>1e7&&(s._maybeCleanupAfterRender=!0);break;case"Pattern":s.objs.resolve(t,i);break;default:throw new Error("Got unknown object type ".concat(r))}else null===i||void 0===i||null===(a=i.bitmap)||void 0===a||a.close()})),e.on("DocProgress",(e=>{var n;this.destroyed||null===(n=t.onProgress)||void 0===n||n.call(t,{loaded:e.loaded,total:e.total})})),e.on("FetchBuiltInCMap",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.cMapReaderFactory)throw new Error("CMapReaderFactory not initialized, see the `useWorkerFetch` parameter.");return this.cMapReaderFactory.fetch(e)})),e.on("FetchStandardFontData",(async e=>{if(this.destroyed)throw new Error("Worker was destroyed.");if(!this.standardFontDataFactory)throw new Error("StandardFontDataFactory not initialized, see the `useWorkerFetch` parameter.");return this.standardFontDataFactory.fetch(e)}))}getData(){return this.messageHandler.sendWithPromise("GetData",null)}saveDocument(){var e,t;this.annotationStorage.size<=0&&ZA("saveDocument called while `annotationStorage` is empty, please use the getData-method instead.");const{map:n,transfer:r}=this.annotationStorage.serializable;return this.messageHandler.sendWithPromise("SaveDocument",{isPureXfa:!!this._htmlForXfa,numPages:this._numPages,annotationStorage:n,filename:null!==(e=null===(t=this._fullReader)||void 0===t?void 0:t.filename)&&void 0!==e?e:null},r).finally((()=>{this.annotationStorage.resetModified()}))}getPage(e){if(!Number.isInteger(e)||e<=0||e>this._numPages)return Promise.reject(new Error("Invalid page request."));const t=e-1,n=jE(BP,this).get(t);if(n)return n;const r=this.messageHandler.sendWithPromise("GetPage",{pageIndex:t}).then((n=>{if(this.destroyed)throw new Error("Transport destroyed");n.refStr&&jE(zP,this).set(n.refStr,e);const r=new AP(t,n,this,this._params.pdfBug);return jE(jP,this).set(t,r),r}));return jE(BP,this).set(t,r),r}getPageIndex(e){return mP(e)?this.messageHandler.sendWithPromise("GetPageIndex",{num:e.num,gen:e.gen}):Promise.reject(new Error("Invalid pageIndex request."))}getAnnotations(e,t){return this.messageHandler.sendWithPromise("GetAnnotations",{pageIndex:e,intent:t})}getFieldObjects(){return OE(UP,this,HP).call(this,"GetFieldObjects")}hasJSActions(){return OE(UP,this,HP).call(this,"HasJSActions")}getCalculationOrderIds(){return this.messageHandler.sendWithPromise("GetCalculationOrderIds",null)}getDestinations(){return this.messageHandler.sendWithPromise("GetDestinations",null)}getDestination(e){return"string"!==typeof e?Promise.reject(new Error("Invalid destination request.")):this.messageHandler.sendWithPromise("GetDestination",{id:e})}getPageLabels(){return this.messageHandler.sendWithPromise("GetPageLabels",null)}getPageLayout(){return this.messageHandler.sendWithPromise("GetPageLayout",null)}getPageMode(){return this.messageHandler.sendWithPromise("GetPageMode",null)}getViewerPreferences(){return this.messageHandler.sendWithPromise("GetViewerPreferences",null)}getOpenAction(){return this.messageHandler.sendWithPromise("GetOpenAction",null)}getAttachments(){return this.messageHandler.sendWithPromise("GetAttachments",null)}getDocJSActions(){return OE(UP,this,HP).call(this,"GetDocJSActions")}getPageJSActions(e){return this.messageHandler.sendWithPromise("GetPageJSActions",{pageIndex:e})}getStructTree(e){return this.messageHandler.sendWithPromise("GetStructTree",{pageIndex:e})}getOutline(){return this.messageHandler.sendWithPromise("GetOutline",null)}getOptionalContentConfig(e){return OE(UP,this,HP).call(this,"GetOptionalContentConfig").then((t=>new nM(t,e)))}getPermissions(){return this.messageHandler.sendWithPromise("GetPermissions",null)}getMetadata(){const e="GetMetadata",t=jE(FP,this).get(e);if(t)return t;const n=this.messageHandler.sendWithPromise(e,null).then((e=>{var t,n,r,i;return{info:e[0],metadata:e[1]?new HR(e[1]):null,contentDispositionFilename:null!==(t=null===(n=this._fullReader)||void 0===n?void 0:n.filename)&&void 0!==t?t:null,contentLength:null!==(r=null===(i=this._fullReader)||void 0===i?void 0:i.contentLength)&&void 0!==r?r:null}}));return jE(FP,this).set(e,n),n}getMarkInfo(){return this.messageHandler.sendWithPromise("GetMarkInfo",null)}async startCleanup(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(!this.destroyed){await this.messageHandler.sendWithPromise("Cleanup",null);for(const e of jE(jP,this).values()){if(!e.cleanup())throw new Error("startCleanup: Page ".concat(e.pageNumber," is currently rendering."))}this.commonObjs.clear(),e||this.fontLoader.clear(),jE(FP,this).clear(),this.filterFactory.destroy(!0),YM.cleanup()}}cachedPageNumber(e){var t;if(!mP(e))return null;const n=0===e.gen?"".concat(e.num,"R"):"".concat(e.num,"R").concat(e.gen);return null!==(t=jE(zP,this).get(n))&&void 0!==t?t:null}}function HP(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=jE(FP,this).get(e);if(n)return n;const r=this.messageHandler.sendWithPromise(e,t);return jE(FP,this).set(e,r),r}const qP=Symbol("INITIAL_DATA");var GP=new WeakMap,KP=new WeakSet;class XP{constructor(){LE(this,KP),DE(this,GP,Object.create(null))}get(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(t){const n=OE(KP,this,QP).call(this,e);return n.promise.then((()=>t(n.data))),null}const n=jE(GP,this)[e];if(!n||n.data===qP)throw new Error("Requesting object that isn't resolved yet ".concat(e,"."));return n.data}has(e){const t=jE(GP,this)[e];return!!t&&t.data!==qP}resolve(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=OE(KP,this,QP).call(this,e);n.data=t,n.resolve()}clear(){for(const t in jE(GP,this)){var e;const{data:n}=jE(GP,this)[t];null===n||void 0===n||null===(e=n.bitmap)||void 0===e||e.close()}BE(GP,this,Object.create(null))}*[Symbol.iterator](){for(const e in jE(GP,this)){const{data:t}=jE(GP,this)[e];t!==qP&&(yield[e,t])}}}function QP(e){var t;return(t=jE(GP,this))[e]||(t[e]=p(p({},Promise.withResolvers()),{},{data:qP}))}var YP=new WeakMap;class JP{constructor(e){DE(this,YP,null),BE(YP,this,e),this.onContinue=null}get promise(){return jE(YP,this).capability.promise}cancel(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:0;jE(YP,this).cancel(null,e)}get separateAnnots(){const{separateAnnots:e}=jE(YP,this).operatorList;if(!e)return!1;const{annotationCanvasMap:t}=jE(YP,this);return e.form||e.canvas&&(null===t||void 0===t?void 0:t.size)>0}}var $P=new WeakMap;class ZP{constructor(e){let{callback:t,params:n,objs:r,commonObjs:i,annotationCanvasMap:s,operatorList:a,pageIndex:o,canvasFactory:l,filterFactory:c,useRequestAnimationFrame:u=!1,pdfBug:h=!1,pageColors:d=null}=e;DE(this,$P,null),this.callback=t,this.params=n,this.objs=r,this.commonObjs=i,this.annotationCanvasMap=s,this.operatorListIdx=null,this.operatorList=a,this._pageIndex=o,this.canvasFactory=l,this.filterFactory=c,this._pdfBug=h,this.pageColors=d,this.running=!1,this.graphicsReadyCallback=null,this.graphicsReady=!1,this._useRequestAnimationFrame=!0===u&&"undefined"!==typeof window,this.cancelled=!1,this.capability=Promise.withResolvers(),this.task=new JP(this),this._cancelBound=this.cancel.bind(this),this._continueBound=this._continue.bind(this),this._scheduleNextBound=this._scheduleNext.bind(this),this._nextBound=this._next.bind(this),this._canvas=n.canvasContext.canvas}get completed(){return this.capability.promise.catch((function(){}))}initializeGraphics(e){var t,n;let{transparency:r=!1,optionalContentConfig:i}=e;if(this.cancelled)return;if(this._canvas){if(eN._.has(this._canvas))throw new Error("Cannot use the same canvas during multiple render() operations. Use different canvas or ensure previous operations were cancelled or completed.");eN._.add(this._canvas)}this._pdfBug&&null!==(t=globalThis.StepperManager)&&void 0!==t&&t.enabled&&(this.stepper=globalThis.StepperManager.create(this._pageIndex),this.stepper.init(this.operatorList),this.stepper.nextBreakPoint=this.stepper.getNextBreakPoint());const{canvasContext:s,viewport:a,transform:o,background:l}=this.params;this.gfx=new yR(s,this.commonObjs,this.objs,this.canvasFactory,this.filterFactory,{optionalContentConfig:i},this.annotationCanvasMap,this.pageColors),this.gfx.beginDrawing({transform:o,viewport:a,transparency:r,background:l}),this.operatorListIdx=0,this.graphicsReady=!0,null===(n=this.graphicsReadyCallback)||void 0===n||n.call(this)}cancel(){var e;let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0;this.running=!1,this.cancelled=!0,null===(e=this.gfx)||void 0===e||e.endDrawing(),jE($P,this)&&(window.cancelAnimationFrame(jE($P,this)),BE($P,this,null)),eN._.delete(this._canvas),this.callback(t||new Fk("Rendering cancelled, page ".concat(this._pageIndex+1),n))}operatorListChanged(){var e;this.graphicsReady?(null===(e=this.stepper)||void 0===e||e.updateOperatorList(this.operatorList),this.running||this._continue()):this.graphicsReadyCallback||(this.graphicsReadyCallback=this._continueBound)}_continue(){this.running=!0,this.cancelled||(this.task.onContinue?this.task.onContinue(this._scheduleNextBound):this._scheduleNext())}_scheduleNext(){this._useRequestAnimationFrame?BE($P,this,window.requestAnimationFrame((()=>{BE($P,this,null),this._nextBound().catch(this._cancelBound)}))):Promise.resolve().then(this._nextBound).catch(this._cancelBound)}async _next(){this.cancelled||(this.operatorListIdx=this.gfx.executeOperatorList(this.operatorList,this.operatorListIdx,this._continueBound,this.stepper),this.operatorListIdx===this.operatorList.argsArray.length&&(this.running=!1,this.operatorList.lastChunk&&(this.gfx.endDrawing(),eN._.delete(this._canvas),this.callback())))}}var eN={_:new WeakSet};const tN="4.8.69",nN="3634dab10";function rN(e){return Math.floor(255*Math.max(0,Math.min(1,e))).toString(16).padStart(2,"0")}function iN(e){return Math.max(0,Math.min(255,255*e))}class sN{static CMYK_G(e){let[t,n,r,i]=e;return["G",1-Math.min(1,.3*t+.59*r+.11*n+i)]}static G_CMYK(e){let[t]=e;return["CMYK",0,0,0,1-t]}static G_RGB(e){let[t]=e;return["RGB",t,t,t]}static G_rgb(e){let[t]=e;return t=iN(t),[t,t,t]}static G_HTML(e){let[t]=e;const n=rN(t);return"#".concat(n).concat(n).concat(n)}static RGB_G(e){let[t,n,r]=e;return["G",.3*t+.59*n+.11*r]}static RGB_rgb(e){return e.map(iN)}static RGB_HTML(e){return"#".concat(e.map(rN).join(""))}static T_HTML(){return"#00000000"}static T_rgb(){return[null]}static CMYK_RGB(e){let[t,n,r,i]=e;return["RGB",1-Math.min(1,t+i),1-Math.min(1,r+i),1-Math.min(1,n+i)]}static CMYK_rgb(e){let[t,n,r,i]=e;return[iN(1-Math.min(1,t+i)),iN(1-Math.min(1,r+i)),iN(1-Math.min(1,n+i))]}static CMYK_HTML(e){const t=this.CMYK_RGB(e).slice(1);return this.RGB_HTML(t)}static RGB_CMYK(e){let[t,n,r]=e;const i=1-t,s=1-n,a=1-r;return["CMYK",i,s,a,Math.min(i,s,a)]}}class aN{create(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];if(e<=0||t<=0)throw new Error("Invalid SVG dimensions");const r=this._createSVG("svg:svg");return r.setAttribute("version","1.1"),n||(r.setAttribute("width","".concat(e,"px")),r.setAttribute("height","".concat(t,"px"))),r.setAttribute("preserveAspectRatio","none"),r.setAttribute("viewBox","0 0 ".concat(e," ").concat(t)),r}createElement(e){if("string"!==typeof e)throw new Error("Invalid SVG element type");return this._createSVG(e)}_createSVG(e){ek("Abstract method `_createSVG` called.")}}class oN extends aN{_createSVG(e){return document.createElementNS(Nk,e)}}class lN{static setupStorage(e,t,n,r,i){const s=r.getValue(t,{value:null});switch(n.name){case"textarea":if(null!==s.value&&(e.textContent=s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}));break;case"input":if("radio"===n.attributes.type||"checkbox"===n.attributes.type){if(s.value===n.attributes.xfaOn?e.setAttribute("checked",!0):s.value===n.attributes.xfaOff&&e.removeAttribute("checked"),"print"===i)break;e.addEventListener("change",(e=>{r.setValue(t,{value:e.target.checked?e.target.getAttribute("xfaOn"):e.target.getAttribute("xfaOff")})}))}else{if(null!==s.value&&e.setAttribute("value",s.value),"print"===i)break;e.addEventListener("input",(e=>{r.setValue(t,{value:e.target.value})}))}break;case"select":if(null!==s.value){e.setAttribute("value",s.value);for(const e of n.children)e.attributes.value===s.value?e.attributes.selected=!0:e.attributes.hasOwnProperty("selected")&&delete e.attributes.selected}e.addEventListener("input",(e=>{const n=e.target.options,i=-1===n.selectedIndex?"":n[n.selectedIndex].value;r.setValue(t,{value:i})}))}}static setAttributes(e){let{html:t,element:n,storage:r=null,intent:i,linkService:s}=e;const{attributes:a}=n,o=t instanceof HTMLAnchorElement;"radio"===a.type&&(a.name="".concat(a.name,"-").concat(i));for(const[l,c]of Object.entries(a))if(null!==c&&void 0!==c)switch(l){case"class":c.length&&t.setAttribute(l,c.join(" "));break;case"dataId":break;case"id":t.setAttribute("data-element-id",c);break;case"style":Object.assign(t.style,c);break;case"textContent":t.textContent=c;break;default:(!o||"href"!==l&&"newWindow"!==l)&&t.setAttribute(l,c)}o&&s.addLinkAttributes(t,a.href,a.newWindow),r&&a.dataId&&this.setupStorage(t,a.dataId,n,r)}static render(e){const t=e.annotationStorage,n=e.linkService,r=e.xfaHtml,i=e.intent||"display",s=document.createElement(r.name);r.attributes&&this.setAttributes({html:s,element:r,intent:i,linkService:n});const a="richText"!==i,o=e.div;if(o.append(s),e.viewport){const t="matrix(".concat(e.viewport.transform.join(","),")");o.style.transform=t}a&&o.setAttribute("class","xfaLayer xfaFont");const l=[];if(0===r.children.length){if(r.value){const e=document.createTextNode(r.value);s.append(e),a&&cP.shouldBuildText(r.name)&&l.push(e)}return{textDivs:l}}const c=[[r,-1,s]];for(;c.length>0;){var u,h;const[e,r,s]=c.at(-1);if(r+1===e.children.length){c.pop();continue}const o=e.children[++c.at(-1)[1]];if(null===o)continue;const{name:d}=o;if("#text"===d){const e=document.createTextNode(o.value);l.push(e),s.append(e);continue}const p=null!==o&&void 0!==o&&null!==(u=o.attributes)&&void 0!==u&&u.xmlns?document.createElementNS(o.attributes.xmlns,d):document.createElement(d);if(s.append(p),o.attributes&&this.setAttributes({html:p,element:o,storage:t,intent:i,linkService:n}),(null===(h=o.children)||void 0===h?void 0:h.length)>0)c.push([o,-1,p]);else if(o.value){const e=document.createTextNode(o.value);a&&cP.shouldBuildText(d)&&l.push(e),p.append(e)}}for(const d of o.querySelectorAll(".xfaNonInteractive input, .xfaNonInteractive textarea"))d.setAttribute("readOnly",!0);return{textDivs:l}}static update(e){const t="matrix(".concat(e.viewport.transform.join(","),")");e.div.style.transform=t,e.div.hidden=!1}}const cN=1e3,uN=new WeakSet;function hN(e){return{width:e[2]-e[0],height:e[3]-e[1]}}class dN{static create(e){switch(e.data.annotationType){case AA:return new wN(e);case EA:return new AN(e);case zA:switch(e.data.fieldType){case"Tx":return new xN(e);case"Btn":return e.data.radioButton?new IN(e):e.data.checkBox?new TN(e):new RN(e);case"Ch":return new MN(e);case"Sig":return new CN(e)}return new kN(e);case jA:return new PN(e);case kA:return new cL(e);case xA:return new hL(e);case CA:return new pL(e);case TA:return new gL(e);case RA:return new vL(e);case OA:return new bL(e);case FA:return new _L(e);case IA:return new yL(e);case MA:return new SL(e);case PA:return new EL(e);case NA:return new AL(e);case LA:return new kL(e);case DA:return new xL(e);case BA:return new IL(e);default:return new vN(e)}}}var pN=new WeakMap,fN=new WeakMap,gN=new WeakMap,mN=new WeakSet;class vN{constructor(e){let{isRenderable:t=!1,ignoreBorder:n=!1,createQuadrilaterals:r=!1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};LE(this,mN),DE(this,pN,null),DE(this,fN,!1),DE(this,gN,null),this.isRenderable=t,this.data=e.data,this.layer=e.layer,this.linkService=e.linkService,this.downloadManager=e.downloadManager,this.imageResourcesPath=e.imageResourcesPath,this.renderForms=e.renderForms,this.svgFactory=e.svgFactory,this.annotationStorage=e.annotationStorage,this.enableScripting=e.enableScripting,this.hasJSActions=e.hasJSActions,this._fieldObjects=e.fieldObjects,this.parent=e.parent,t&&(this.container=this._createContainer(n)),r&&this._createQuadrilaterals()}static _hasPopupData(e){let{titleObj:t,contentsObj:n,richText:r}=e;return!!(null!==t&&void 0!==t&&t.str||null!==n&&void 0!==n&&n.str||null!==r&&void 0!==r&&r.str)}get _isEditable(){return this.data.isEditable}get hasPopupData(){return vN._hasPopupData(this.data)}updateEdited(e){var t;if(!this.container)return;jE(pN,this)||BE(pN,this,{rect:this.data.rect.slice(0)});const{rect:n}=e;n&&OE(mN,this,yN).call(this,n),null===(t=jE(gN,this))||void 0===t||t.popup.updateEdited(e)}resetEdited(){var e;jE(pN,this)&&(OE(mN,this,yN).call(this,jE(pN,this).rect),null===(e=jE(gN,this))||void 0===e||e.popup.resetEdited(),BE(pN,this,null))}_createContainer(e){const{data:t,parent:{page:n,viewport:r}}=this,i=document.createElement("section");i.setAttribute("data-annotation-id",t.id),this instanceof kN||(i.tabIndex=cN);const{style:s}=i;if(s.zIndex=this.parent.zIndex++,t.alternativeText&&(i.title=t.alternativeText),t.noRotate&&i.classList.add("norotate"),!t.rect||this instanceof PN){const{rotation:e}=t;return t.hasOwnCanvas||0===e||this.setRotation(e,i),i}const{width:a,height:o}=hN(t.rect);if(!e&&t.borderStyle.width>0){s.borderWidth="".concat(t.borderStyle.width,"px");const e=t.borderStyle.horizontalCornerRadius,n=t.borderStyle.verticalCornerRadius;if(e>0||n>0){const t="calc(".concat(e,"px * var(--scale-factor)) / calc(").concat(n,"px * var(--scale-factor))");s.borderRadius=t}else if(this instanceof IN){const e="calc(".concat(a,"px * var(--scale-factor)) / calc(").concat(o,"px * var(--scale-factor))");s.borderRadius=e}switch(t.borderStyle.style){case VA:s.borderStyle="solid";break;case UA:s.borderStyle="dashed";break;case WA:ZA("Unimplemented border style: beveled");break;case HA:ZA("Unimplemented border style: inset");break;case qA:s.borderBottomStyle="solid"}const r=t.borderColor||null;r?(BE(fN,this,!0),s.borderColor=vk.makeHexColor(0|r[0],0|r[1],0|r[2])):s.borderWidth=0}const l=vk.normalizeRect([t.rect[0],n.view[3]-t.rect[1]+n.view[1],t.rect[2],n.view[3]-t.rect[3]+n.view[1]]),{pageWidth:c,pageHeight:u,pageX:h,pageY:d}=r.rawDims;s.left="".concat(100*(l[0]-h)/c,"%"),s.top="".concat(100*(l[1]-d)/u,"%");const{rotation:p}=t;return t.hasOwnCanvas||0===p?(s.width="".concat(100*a/c,"%"),s.height="".concat(100*o/u,"%")):this.setRotation(p,i),i}setRotation(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.container;if(!this.data.rect)return;const{pageWidth:n,pageHeight:r}=this.parent.viewport.rawDims,{width:i,height:s}=hN(this.data.rect);let a,o;e%180===0?(a=100*i/n,o=100*s/r):(a=100*s/n,o=100*i/r),t.style.width="".concat(a,"%"),t.style.height="".concat(o,"%"),t.setAttribute("data-main-rotation",(360-e)%360)}get _commonActions(){const e=(e,t,n)=>{const r=n.detail[e],i=r[0],s=r.slice(1);n.target.style[t]=sN["".concat(i,"_HTML")](s),this.annotationStorage.setValue(this.data.id,{[t]:sN["".concat(i,"_rgb")](s)})};return rk(this,"_commonActions",{display:e=>{const{display:t}=e.detail,n=t%2===1;this.container.style.visibility=n?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noView:n,noPrint:1===t||2===t})},print:e=>{this.annotationStorage.setValue(this.data.id,{noPrint:!e.detail.print})},hidden:e=>{const{hidden:t}=e.detail;this.container.style.visibility=t?"hidden":"visible",this.annotationStorage.setValue(this.data.id,{noPrint:t,noView:t})},focus:e=>{setTimeout((()=>e.target.focus({preventScroll:!1})),0)},userName:e=>{e.target.title=e.detail.userName},readonly:e=>{e.target.disabled=e.detail.readonly},required:e=>{this._setRequired(e.target,e.detail.required)},bgColor:t=>{e("bgColor","backgroundColor",t)},fillColor:t=>{e("fillColor","backgroundColor",t)},fgColor:t=>{e("fgColor","color",t)},textColor:t=>{e("textColor","color",t)},borderColor:t=>{e("borderColor","borderColor",t)},strokeColor:t=>{e("strokeColor","borderColor",t)},rotation:e=>{const t=e.detail.rotation;this.setRotation(t),this.annotationStorage.setValue(this.data.id,{rotation:t})}})}_dispatchEventFromSandbox(e,t){const n=this._commonActions;for(const r of Object.keys(t.detail)){const i=e[r]||n[r];null===i||void 0===i||i(t)}}_setDefaultPropertiesFromJS(e){if(!this.enableScripting)return;const t=this.annotationStorage.getRawValue(this.data.id);if(!t)return;const n=this._commonActions;for(const[r,i]of Object.entries(t)){const s=n[r];if(s){s({detail:{[r]:i},target:e}),delete t[r]}}}_createQuadrilaterals(){if(!this.container)return;const{quadPoints:e}=this.data;if(!e)return;const[t,n,r,i]=this.data.rect.map((e=>Math.fround(e)));if(8===e.length){const[s,a,o,l]=e.subarray(2,6);if(r===s&&i===a&&t===o&&n===l)return}const{style:s}=this.container;let a;if(jE(fN,this)){const{borderColor:e,borderWidth:t}=s;s.borderWidth=0,a=["url('data:image/svg+xml;utf8,",'<svg xmlns="http://www.w3.org/2000/svg"',' preserveAspectRatio="none" viewBox="0 0 1 1">','<g fill="transparent" stroke="'.concat(e,'" stroke-width="').concat(t,'">')],this.container.classList.add("hasBorder")}const o=r-t,l=i-n,{svgFactory:c}=this,u=c.createElement("svg");u.classList.add("quadrilateralsContainer"),u.setAttribute("width",0),u.setAttribute("height",0);const h=c.createElement("defs");u.append(h);const d=c.createElement("clipPath"),p="clippath_".concat(this.data.id);d.setAttribute("id",p),d.setAttribute("clipPathUnits","objectBoundingBox"),h.append(d);for(let g=2,m=e.length;g<m;g+=8){var f;const n=e[g],r=e[g+1],s=e[g+2],u=e[g+3],h=c.createElement("rect"),p=(s-t)/o,m=(i-r)/l,v=(n-s)/o,y=(r-u)/l;h.setAttribute("x",p),h.setAttribute("y",m),h.setAttribute("width",v),h.setAttribute("height",y),d.append(h),null===(f=a)||void 0===f||f.push('<rect vector-effect="non-scaling-stroke" x="'.concat(p,'" y="').concat(m,'" width="').concat(v,'" height="').concat(y,'"/>'))}jE(fN,this)&&(a.push("</g></svg>')"),s.backgroundImage=a.join("")),this.container.append(u),this.container.style.clipPath="url(#".concat(p,")")}_createPopup(){const{data:e}=this,t=BE(gN,this,new PN({data:{color:e.color,titleObj:e.titleObj,modificationDate:e.modificationDate,contentsObj:e.contentsObj,richText:e.richText,parentRect:e.rect,borderStyle:0,id:"popup_".concat(e.id),rotation:e.rotation},parent:this.parent,elements:[this]}));this.parent.div.append(t.render())}render(){ek("Abstract method `AnnotationElement.render` called")}_getElementsByName(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;const n=[];if(this._fieldObjects){const r=this._fieldObjects[e];if(r)for(const{page:e,id:i,exportValues:s}of r){if(-1===e)continue;if(i===t)continue;const r="string"===typeof s?s:null,a=document.querySelector('[data-element-id="'.concat(i,'"]'));!a||uN.has(a)?n.push({id:i,exportValue:r,domElement:a}):ZA("_getElementsByName - element not allowed: ".concat(i))}return n}for(const r of document.getElementsByName(e)){const{exportValue:e}=r,i=r.getAttribute("data-element-id");i!==t&&(uN.has(r)&&n.push({id:i,exportValue:e,domElement:r}))}return n}show(){var e;this.container&&(this.container.hidden=!1),null===(e=this.popup)||void 0===e||e.maybeShow()}hide(){var e;this.container&&(this.container.hidden=!0),null===(e=this.popup)||void 0===e||e.forceHide()}getElementsToTriggerPopup(){return this.container}addHighlightArea(){const e=this.getElementsToTriggerPopup();if(Array.isArray(e))for(const t of e)t.classList.add("highlightArea");else e.classList.add("highlightArea")}_editOnDoubleClick(){if(!this._isEditable)return;const{annotationEditorType:e,data:{id:t}}=this;this.container.addEventListener("dblclick",(()=>{var n;null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("switchannotationeditormode",{source:this,mode:e,editId:t})}))}}function yN(e){const{container:{style:t},data:{rect:n,rotation:r},parent:{viewport:{rawDims:{pageWidth:i,pageHeight:s,pageX:a,pageY:o}}}}=this;null===n||void 0===n||n.splice(0,4,...e);const{width:l,height:c}=hN(e);t.left="".concat(100*(e[0]-a)/i,"%"),t.top="".concat(100*(s-e[3]+o)/s,"%"),0===r?(t.width="".concat(100*l/i,"%"),t.height="".concat(100*c/s,"%")):this.setRotation(r)}var bN=new WeakSet;class wN extends vN{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;super(e,{isRenderable:!0,ignoreBorder:!(null===t||void 0===t||!t.ignoreBorder),createQuadrilaterals:!0}),LE(this,bN),this.isTooltipOnly=e.data.isTooltipOnly}render(){const{data:e,linkService:t}=this,n=document.createElement("a");n.setAttribute("data-element-id",e.id);let r=!1;return e.url?(t.addLinkAttributes(n,e.url,e.newWindow),r=!0):e.action?(this._bindNamedAction(n,e.action),r=!0):e.attachment?(OE(bN,this,SN).call(this,n,e.attachment,e.attachmentDest),r=!0):e.setOCGState?(OE(bN,this,EN).call(this,n,e.setOCGState),r=!0):e.dest?(this._bindLink(n,e.dest),r=!0):(e.actions&&(e.actions.Action||e.actions["Mouse Up"]||e.actions["Mouse Down"])&&this.enableScripting&&this.hasJSActions&&(this._bindJSAction(n,e),r=!0),e.resetForm?(this._bindResetFormAction(n,e.resetForm),r=!0):this.isTooltipOnly&&!r&&(this._bindLink(n,""),r=!0)),this.container.classList.add("linkAnnotation"),r&&this.container.append(n),this.container}_bindLink(e,t){e.href=this.linkService.getDestinationHash(t),e.onclick=()=>(t&&this.linkService.goToDestination(t),!1),(t||""===t)&&OE(bN,this,_N).call(this)}_bindNamedAction(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeNamedAction(t),!1),OE(bN,this,_N).call(this)}_bindJSAction(e,t){e.href=this.linkService.getAnchorUrl("");const n=new Map([["Action","onclick"],["Mouse Up","onmouseup"],["Mouse Down","onmousedown"]]);for(const r of Object.keys(t.actions)){const i=n.get(r);i&&(e[i]=()=>{var e;return null===(e=this.linkService.eventBus)||void 0===e||e.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t.id,name:r}}),!1})}e.onclick||(e.onclick=()=>!1),OE(bN,this,_N).call(this)}_bindResetFormAction(e,t){const n=e.onclick;if(n||(e.href=this.linkService.getAnchorUrl("")),OE(bN,this,_N).call(this),!this._fieldObjects)return ZA('_bindResetFormAction - "resetForm" action not supported, ensure that the `fieldObjects` parameter is provided.'),void(n||(e.onclick=()=>!1));e.onclick=()=>{null===n||void 0===n||n();const{fields:e,refs:r,include:i}=t,s=[];if(0!==e.length||0!==r.length){const t=new Set(r);for(const n of e){const e=this._fieldObjects[n]||[];for(const{id:n}of e)t.add(n)}for(const e of Object.values(this._fieldObjects))for(const n of e)t.has(n.id)===i&&s.push(n)}else for(const t of Object.values(this._fieldObjects))s.push(...t);const a=this.annotationStorage,o=[];for(const t of s){const{id:e}=t;switch(o.push(e),t.type){case"text":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}case"checkbox":case"radiobutton":{const n=t.defaultValue===t.exportValues;a.setValue(e,{value:n});break}case"combobox":case"listbox":{const n=t.defaultValue||"";a.setValue(e,{value:n});break}default:continue}const n=document.querySelector('[data-element-id="'.concat(e,'"]'));n&&(uN.has(n)?n.dispatchEvent(new Event("resetform")):ZA("_bindResetFormAction - element not allowed: ".concat(e)))}var l;this.enableScripting&&(null===(l=this.linkService.eventBus)||void 0===l||l.dispatch("dispatcheventinsandbox",{source:this,detail:{id:"app",ids:o,name:"ResetForm"}}));return!1}}}function _N(){this.container.setAttribute("data-internal-link","")}function SN(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;e.href=this.linkService.getAnchorUrl(""),t.description&&(e.title=t.description),e.onclick=()=>{var e;return null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(t.content,t.filename,n),!1},OE(bN,this,_N).call(this)}function EN(e,t){e.href=this.linkService.getAnchorUrl(""),e.onclick=()=>(this.linkService.executeSetOCGState(t),!1),OE(bN,this,_N).call(this)}class AN extends vN{constructor(e){super(e,{isRenderable:!0})}render(){this.container.classList.add("textAnnotation");const e=document.createElement("img");return e.src=this.imageResourcesPath+"annotation-"+this.data.name.toLowerCase()+".svg",e.setAttribute("data-l10n-id","pdfjs-text-annotation-type"),e.setAttribute("data-l10n-args",JSON.stringify({type:this.data.name})),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.append(e),this.container}}class kN extends vN{render(){return this.container}showElementAndHideCanvas(e){var t;this.data.hasOwnCanvas&&("CANVAS"===(null===(t=e.previousSibling)||void 0===t?void 0:t.nodeName)&&(e.previousSibling.hidden=!0),e.hidden=!1)}_getKeyModifier(e){return gk.platform.isMac?e.metaKey:e.ctrlKey}_setEventListener(e,t,n,r,i){n.includes("mouse")?e.addEventListener(n,(e=>{var t;null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e),shift:e.shiftKey,modifier:this._getKeyModifier(e)}})})):e.addEventListener(n,(e=>{var s;if("blur"===n){if(!t.focused||!e.relatedTarget)return;t.focused=!1}else if("focus"===n){if(t.focused)return;t.focused=!0}i&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:this.data.id,name:r,value:i(e)}}))}))}_setEventListeners(e,t,n,r){for(const[o,l]of n){var i,s,a;if("Action"===l||null!==(i=this.data.actions)&&void 0!==i&&i[l])"Focus"!==l&&"Blur"!==l||t||(t={focused:!1}),this._setEventListener(e,t,o,l,r),"Focus"!==l||null!==(s=this.data.actions)&&void 0!==s&&s.Blur?"Blur"!==l||null!==(a=this.data.actions)&&void 0!==a&&a.Focus||this._setEventListener(e,t,"focus","Focus",null):this._setEventListener(e,t,"blur","Blur",null)}}_setBackgroundColor(e){const t=this.data.backgroundColor||null;e.style.backgroundColor=null===t?"transparent":vk.makeHexColor(t[0],t[1],t[2])}_setTextStyle(e){const t=["left","center","right"],{fontColor:n}=this.data.defaultAppearanceData,r=this.data.defaultAppearanceData.fontSize||9,i=e.style;let s;const a=e=>Math.round(10*e)/10;if(this.data.multiLine){const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2),t=e/(Math.round(e/(rA*r))||1);s=Math.min(r,a(t/rA))}else{const e=Math.abs(this.data.rect[3]-this.data.rect[1]-2);s=Math.min(r,a(e/rA))}i.fontSize="calc(".concat(s,"px * var(--scale-factor))"),i.color=vk.makeHexColor(n[0],n[1],n[2]),null!==this.data.textAlignment&&(i.textAlign=t[this.data.textAlignment])}_setRequired(e,t){t?e.setAttribute("required",!0):e.removeAttribute("required"),e.setAttribute("aria-required",t)}}class xN extends kN{constructor(e){super(e,{isRenderable:e.renderForms||e.data.hasOwnCanvas||!e.data.hasAppearance&&!!e.data.fieldValue})}setPropertyOnSiblings(e,t,n,r){const i=this.annotationStorage;for(const s of this._getElementsByName(e.name,e.id))s.domElement&&(s.domElement[t]=n),i.setValue(s.id,{[r]:n})}render(){const e=this.annotationStorage,t=this.data.id;this.container.classList.add("textWidgetAnnotation");let n=null;if(this.renderForms){var r;const o=e.getValue(t,{value:this.data.fieldValue});let l=o.value||"";const c=e.getValue(t,{charLimit:this.data.maxLen}).charLimit;c&&l.length>c&&(l=l.slice(0,c));let u=o.formattedValue||(null===(r=this.data.textContent)||void 0===r?void 0:r.join("\n"))||null;u&&this.data.comb&&(u=u.replaceAll(/\s+/g,""));const h={userValue:l,formattedValue:u,lastCommittedValue:null,commitKey:1,focused:!1};var i,s;if(this.data.multiLine)n=document.createElement("textarea"),n.textContent=null!==(i=u)&&void 0!==i?i:l,this.data.doNotScroll&&(n.style.overflowY="hidden");else n=document.createElement("input"),n.type="text",n.setAttribute("value",null!==(s=u)&&void 0!==s?s:l),this.data.doNotScroll&&(n.style.overflowX="hidden");this.data.hasOwnCanvas&&(n.hidden=!0),uN.add(n),n.setAttribute("data-element-id",t),n.disabled=this.data.readOnly,n.name=this.data.fieldName,n.tabIndex=cN,this._setRequired(n,this.data.required),c&&(n.maxLength=c),n.addEventListener("input",(r=>{e.setValue(t,{value:r.target.value}),this.setPropertyOnSiblings(n,"value",r.target.value,"value"),h.formattedValue=null})),n.addEventListener("resetform",(e=>{var t;const r=null!==(t=this.data.defaultFieldValue)&&void 0!==t?t:"";n.value=h.userValue=r,h.formattedValue=null}));let d=e=>{const{formattedValue:t}=h;null!==t&&void 0!==t&&(e.target.value=t),e.target.scrollLeft=0};if(this.enableScripting&&this.hasJSActions){var a;n.addEventListener("focus",(e=>{var t;if(h.focused)return;const{target:n}=e;h.userValue&&(n.value=h.userValue),h.lastCommittedValue=n.value,h.commitKey=1,null!==(t=this.data.actions)&&void 0!==t&&t.Focus||(h.focused=!0)})),n.addEventListener("updatefromsandbox",(n=>{this.showElementAndHideCanvas(n.target);const r={value(n){var r;h.userValue=null!==(r=n.detail.value)&&void 0!==r?r:"",e.setValue(t,{value:h.userValue.toString()}),n.target.value=h.userValue},formattedValue(n){const{formattedValue:r}=n.detail;h.formattedValue=r,null!==r&&void 0!==r&&n.target!==document.activeElement&&(n.target.value=r),e.setValue(t,{formattedValue:r})},selRange(e){e.target.setSelectionRange(...e.detail.selRange)},charLimit:n=>{var r;const{charLimit:i}=n.detail,{target:s}=n;if(0===i)return void s.removeAttribute("maxLength");s.setAttribute("maxLength",i);let a=h.userValue;!a||a.length<=i||(a=a.slice(0,i),s.value=h.userValue=a,e.setValue(t,{value:a}),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:a,willCommit:!0,commitKey:1,selStart:s.selectionStart,selEnd:s.selectionEnd}}))}};this._dispatchEventFromSandbox(r,n)})),n.addEventListener("keydown",(e=>{var n;h.commitKey=1;let r=-1;if("Escape"===e.key?r=0:"Enter"!==e.key||this.data.multiLine?"Tab"===e.key&&(h.commitKey=3):r=2,-1===r)return;const{value:i}=e.target;h.lastCommittedValue!==i&&(h.lastCommittedValue=i,h.userValue=i,null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:r,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}))}));const r=d;d=null,n.addEventListener("blur",(e=>{var n;if(!h.focused||!e.relatedTarget)return;null!==(n=this.data.actions)&&void 0!==n&&n.Blur||(h.focused=!1);const{value:i}=e.target;var s;(h.userValue=i,h.lastCommittedValue!==i)&&(null===(s=this.linkService.eventBus)||void 0===s||s.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:i,willCommit:!0,commitKey:h.commitKey,selStart:e.target.selectionStart,selEnd:e.target.selectionEnd}}));r(e)})),null!==(a=this.data.actions)&&void 0!==a&&a.Keystroke&&n.addEventListener("beforeinput",(e=>{var n;h.lastCommittedValue=null;const{data:r,target:i}=e,{value:s,selectionStart:a,selectionEnd:o}=i;let l=a,c=o;switch(e.inputType){case"deleteWordBackward":{const e=s.substring(0,a).match(/\w*[^\w]*$/);e&&(l-=e[0].length);break}case"deleteWordForward":{const e=s.substring(a).match(/^[^\w]*\w*/);e&&(c+=e[0].length);break}case"deleteContentBackward":a===o&&(l-=1);break;case"deleteContentForward":a===o&&(c+=1)}e.preventDefault(),null===(n=this.linkService.eventBus)||void 0===n||n.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:s,change:r||"",willCommit:!1,selStart:l,selEnd:c}})})),this._setEventListeners(n,h,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.value))}if(d&&n.addEventListener("blur",d),this.data.comb){const e=(this.data.rect[2]-this.data.rect[0])/c;n.classList.add("comb"),n.style.letterSpacing="calc(".concat(e,"px * var(--scale-factor) - 1ch)")}}else n=document.createElement("div"),n.textContent=this.data.fieldValue,n.style.verticalAlign="middle",n.style.display="table-cell",this.data.hasOwnCanvas&&(n.hidden=!0);return this._setTextStyle(n),this._setBackgroundColor(n),this._setDefaultPropertiesFromJS(n),this.container.append(n),this.container}}class CN extends kN{constructor(e){super(e,{isRenderable:!!e.data.hasOwnCanvas})}}class TN extends kN{constructor(e){super(e,{isRenderable:e.renderForms})}render(){const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.exportValue===t.fieldValue}).value;"string"===typeof r&&(r="Off"!==r,e.setValue(n,{value:r})),this.container.classList.add("buttonWidgetAnnotation","checkBox");const i=document.createElement("input");return uN.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="checkbox",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.setAttribute("exportValue",t.exportValue),i.tabIndex=cN,i.addEventListener("change",(r=>{const{name:i,checked:s}=r.target;for(const a of this._getElementsByName(i,n)){const n=s&&a.exportValue===t.exportValue;a.domElement&&(a.domElement.checked=n),e.setValue(a.id,{value:n})}e.setValue(n,{value:s})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue||"Off";e.target.checked=n===t.exportValue})),this.enableScripting&&this.hasJSActions&&(i.addEventListener("updatefromsandbox",(t=>{const r={value(t){t.target.checked="Off"!==t.detail.value,e.setValue(n,{value:t.target.checked})}};this._dispatchEventFromSandbox(r,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))),this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class IN extends kN{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("buttonWidgetAnnotation","radioButton");const e=this.annotationStorage,t=this.data,n=t.id;let r=e.getValue(n,{value:t.fieldValue===t.buttonValue}).value;if("string"===typeof r&&(r=r!==t.buttonValue,e.setValue(n,{value:r})),r)for(const s of this._getElementsByName(t.fieldName,n))e.setValue(s.id,{value:!1});const i=document.createElement("input");if(uN.add(i),i.setAttribute("data-element-id",n),i.disabled=t.readOnly,this._setRequired(i,this.data.required),i.type="radio",i.name=t.fieldName,r&&i.setAttribute("checked",!0),i.tabIndex=cN,i.addEventListener("change",(t=>{const{name:r,checked:i}=t.target;for(const s of this._getElementsByName(r,n))e.setValue(s.id,{value:!1});e.setValue(n,{value:i})})),i.addEventListener("resetform",(e=>{const n=t.defaultFieldValue;e.target.checked=null!==n&&void 0!==n&&n===t.buttonValue})),this.enableScripting&&this.hasJSActions){const r=t.buttonValue;i.addEventListener("updatefromsandbox",(t=>{const i={value:t=>{const i=r===t.detail.value;for(const r of this._getElementsByName(t.target.name)){const t=i&&r.id===n;r.domElement&&(r.domElement.checked=t),e.setValue(r.id,{value:t})}}};this._dispatchEventFromSandbox(i,t)})),this._setEventListeners(i,null,[["change","Validate"],["change","Action"],["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"]],(e=>e.target.checked))}return this._setBackgroundColor(i),this._setDefaultPropertiesFromJS(i),this.container.append(i),this.container}}class RN extends wN{constructor(e){super(e,{ignoreBorder:e.data.hasAppearance})}render(){const e=super.render();e.classList.add("buttonWidgetAnnotation","pushButton");const t=e.lastChild;return this.enableScripting&&this.hasJSActions&&t&&(this._setDefaultPropertiesFromJS(t),t.addEventListener("updatefromsandbox",(e=>{this._dispatchEventFromSandbox({},e)}))),e}}class MN extends kN{constructor(e){super(e,{isRenderable:e.renderForms})}render(){this.container.classList.add("choiceWidgetAnnotation");const e=this.annotationStorage,t=this.data.id,n=e.getValue(t,{value:this.data.fieldValue}),r=document.createElement("select");uN.add(r),r.setAttribute("data-element-id",t),r.disabled=this.data.readOnly,this._setRequired(r,this.data.required),r.name=this.data.fieldName,r.tabIndex=cN;let i=this.data.combo&&this.data.options.length>0;this.data.combo||(r.size=this.data.options.length,this.data.multiSelect&&(r.multiple=!0)),r.addEventListener("resetform",(e=>{const t=this.data.defaultFieldValue;for(const n of r.options)n.selected=n.value===t}));for(const c of this.data.options){const e=document.createElement("option");e.textContent=c.displayValue,e.value=c.exportValue,n.value.includes(c.exportValue)&&(e.setAttribute("selected",!0),i=!1),r.append(e)}let s=null;if(i){const e=document.createElement("option");e.value=" ",e.setAttribute("hidden",!0),e.setAttribute("selected",!0),r.prepend(e),s=()=>{e.remove(),r.removeEventListener("input",s),s=null},r.addEventListener("input",s)}const a=e=>{const t=e?"value":"textContent",{options:n,multiple:i}=r;return i?Array.prototype.filter.call(n,(e=>e.selected)).map((e=>e[t])):-1===n.selectedIndex?null:n[n.selectedIndex][t]};let o=a(!1);const l=e=>{const t=e.target.options;return Array.prototype.map.call(t,(e=>({displayValue:e.textContent,exportValue:e.value})))};return this.enableScripting&&this.hasJSActions?(r.addEventListener("updatefromsandbox",(n=>{const i={value(n){var i;null===(i=s)||void 0===i||i();const l=n.detail.value,c=new Set(Array.isArray(l)?l:[l]);for(const e of r.options)e.selected=c.has(e.value);e.setValue(t,{value:a(!0)}),o=a(!1)},multipleSelection(e){r.multiple=!0},remove(n){const i=r.options,s=n.detail.remove;if(i[s].selected=!1,r.remove(s),i.length>0){-1===Array.prototype.findIndex.call(i,(e=>e.selected))&&(i[0].selected=!0)}e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},clear(n){for(;0!==r.length;)r.remove(0);e.setValue(t,{value:null,items:[]}),o=a(!1)},insert(n){const{index:i,displayValue:s,exportValue:c}=n.detail.insert,u=r.children[i],h=document.createElement("option");h.textContent=s,h.value=c,u?u.before(h):r.append(h),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},items(n){const{items:i}=n.detail;for(;0!==r.length;)r.remove(0);for(const e of i){const{displayValue:t,exportValue:n}=e,i=document.createElement("option");i.textContent=t,i.value=n,r.append(i)}r.options.length>0&&(r.options[0].selected=!0),e.setValue(t,{value:a(!0),items:l(n)}),o=a(!1)},indices(n){const r=new Set(n.detail.indices);for(const e of n.target.options)e.selected=r.has(e.index);e.setValue(t,{value:a(!0)}),o=a(!1)},editable(e){e.target.disabled=!e.detail.editable}};this._dispatchEventFromSandbox(i,n)})),r.addEventListener("input",(n=>{var r;const i=a(!0),s=a(!1);e.setValue(t,{value:i}),n.preventDefault(),null===(r=this.linkService.eventBus)||void 0===r||r.dispatch("dispatcheventinsandbox",{source:this,detail:{id:t,name:"Keystroke",value:o,change:s,changeEx:i,willCommit:!1,commitKey:1,keyDown:!1}})})),this._setEventListeners(r,null,[["focus","Focus"],["blur","Blur"],["mousedown","Mouse Down"],["mouseenter","Mouse Enter"],["mouseleave","Mouse Exit"],["mouseup","Mouse Up"],["input","Action"],["input","Validate"]],(e=>e.target.value))):r.addEventListener("input",(function(n){e.setValue(t,{value:a(!0)})})),this.data.combo&&this._setTextStyle(r),this._setBackgroundColor(r),this._setDefaultPropertiesFromJS(r),this.container.append(r),this.container}}class PN extends vN{constructor(e){const{data:t,elements:n}=e;super(e,{isRenderable:vN._hasPopupData(t)}),this.elements=n,this.popup=null}render(){this.container.classList.add("popupAnnotation");const e=this.popup=new ZN({container:this.container,color:this.data.color,titleObj:this.data.titleObj,modificationDate:this.data.modificationDate,contentsObj:this.data.contentsObj,richText:this.data.richText,rect:this.data.rect,parentRect:this.data.parentRect||null,parent:this.parent,elements:this.elements,open:this.data.open}),t=[];for(const n of this.elements)n.popup=e,n.container.ariaHasPopup="dialog",t.push(n.data.id),n.addHighlightArea();return this.container.setAttribute("aria-controls",t.map((e=>"".concat(Ek).concat(e))).join(",")),this.container}}var NN=new WeakMap,LN=new WeakMap,DN=new WeakMap,ON=new WeakMap,FN=new WeakMap,jN=new WeakMap,BN=new WeakMap,zN=new WeakMap,VN=new WeakMap,UN=new WeakMap,WN=new WeakMap,HN=new WeakMap,qN=new WeakMap,GN=new WeakMap,KN=new WeakMap,XN=new WeakMap,QN=new WeakMap,YN=new WeakMap,JN=new WeakMap,$N=new WeakSet;class ZN{constructor(e){let{container:t,color:n,elements:r,titleObj:i,modificationDate:s,contentsObj:a,richText:o,parent:l,rect:c,parentRect:u,open:h}=e;LE(this,$N),DE(this,NN,OE($N,this,iL).bind(this)),DE(this,LN,OE($N,this,lL).bind(this)),DE(this,DN,OE($N,this,oL).bind(this)),DE(this,ON,OE($N,this,aL).bind(this)),DE(this,FN,null),DE(this,jN,null),DE(this,BN,null),DE(this,zN,null),DE(this,VN,null),DE(this,UN,null),DE(this,WN,null),DE(this,HN,!1),DE(this,qN,null),DE(this,GN,null),DE(this,KN,null),DE(this,XN,null),DE(this,QN,null),DE(this,YN,null),DE(this,JN,!1),BE(jN,this,t),BE(QN,this,i),BE(BN,this,a),BE(XN,this,o),BE(UN,this,l),BE(FN,this,n),BE(KN,this,c),BE(WN,this,u),BE(VN,this,r),BE(zN,this,Gk.toDateObject(s)),this.trigger=r.flatMap((e=>e.getElementsToTriggerPopup()));for(const p of this.trigger)p.addEventListener("click",jE(ON,this)),p.addEventListener("mouseenter",jE(DN,this)),p.addEventListener("mouseleave",jE(LN,this)),p.classList.add("popupTriggerArea");for(const p of r){var d;null===(d=p.container)||void 0===d||d.addEventListener("keydown",jE(NN,this))}jE(jN,this).hidden=!0,h&&OE($N,this,aL).call(this)}render(){if(jE(qN,this))return;const e=BE(qN,this,document.createElement("div"));if(e.className="popup",jE(FN,this)){const t=e.style.outlineColor=vk.makeHexColor(...jE(FN,this));if(CSS.supports("background-color","color-mix(in srgb, red 30%, white)"))e.style.backgroundColor="color-mix(in srgb, ".concat(t," 30%, white)");else{const t=.7;e.style.backgroundColor=vk.makeHexColor(...jE(FN,this).map((e=>Math.floor(t*(255-e)+e))))}}const t=document.createElement("span");t.className="header";const n=document.createElement("h1");if(t.append(n),({dir:n.dir,str:n.textContent}=jE(QN,this)),e.append(t),jE(zN,this)){const e=document.createElement("span");e.classList.add("popupDate"),e.setAttribute("data-l10n-id","pdfjs-annotation-date-time-string"),e.setAttribute("data-l10n-args",JSON.stringify({dateObj:jE(zN,this).valueOf()})),t.append(e)}const r=FE($N,this,eL);if(r)lN.render({xfaHtml:r,intent:"richText",div:e}),e.lastChild.classList.add("richText","popupContent");else{const t=this._formatContents(jE(BN,this));e.append(t)}jE(jN,this).append(e)}_formatContents(e){let{str:t,dir:n}=e;const r=document.createElement("p");r.classList.add("popupContent"),r.dir=n;const i=t.split(/(?:\r\n?|\n)/);for(let s=0,a=i.length;s<a;++s){const e=i[s];r.append(document.createTextNode(e)),s<a-1&&r.append(document.createElement("br"))}return r}updateEdited(e){var t;let{rect:n,popupContent:r}=e;jE(YN,this)||BE(YN,this,{contentsObj:jE(BN,this),richText:jE(XN,this)}),n&&BE(GN,this,null),r&&(BE(XN,this,OE($N,this,rL).call(this,r)),BE(BN,this,null)),null===(t=jE(qN,this))||void 0===t||t.remove(),BE(qN,this,null)}resetEdited(){var e;jE(YN,this)&&(({contentsObj:PE(BE,[BN,this])._,richText:PE(BE,[XN,this])._}=jE(YN,this)),BE(YN,this,null),null===(e=jE(qN,this))||void 0===e||e.remove(),BE(qN,this,null),BE(GN,this,null))}forceHide(){BE(JN,this,this.isVisible),jE(JN,this)&&(jE(jN,this).hidden=!0)}maybeShow(){jE(JN,this)&&(jE(qN,this)||OE($N,this,oL).call(this),BE(JN,this,!1),jE(jN,this).hidden=!1)}get isVisible(){return!1===jE(jN,this).hidden}}function eL(e){const t=jE(XN,e),n=jE(BN,e);return null===t||void 0===t||!t.str||null!==n&&void 0!==n&&n.str&&n.str!==t.str?null:jE(XN,e).html||null}function tL(e){var t;return(null===(t=FE($N,e,eL))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.fontSize)||0}function nL(e){var t;return(null===(t=FE($N,e,eL))||void 0===t||null===(t=t.attributes)||void 0===t||null===(t=t.style)||void 0===t?void 0:t.color)||null}function rL(e){const t=[],n={str:e,html:{name:"div",attributes:{dir:"auto"},children:[{name:"p",children:t}]}},r={style:{color:FE($N,this,nL),fontSize:FE($N,this,tL)?"calc(".concat(FE($N,this,tL),"px * var(--scale-factor))"):""}};for(const i of e.split("\n"))t.push({name:"span",value:i,attributes:r});return n}function iL(e){e.altKey||e.shiftKey||e.ctrlKey||e.metaKey||("Enter"===e.key||"Escape"===e.key&&jE(HN,this))&&OE($N,this,aL).call(this)}function sL(){if(null!==jE(GN,this))return;const{page:{view:e},viewport:{rawDims:{pageWidth:t,pageHeight:n,pageX:r,pageY:i}}}=jE(UN,this);let s=!!jE(WN,this),a=jE(s?WN:KN,this);for(const d of jE(VN,this))if(!a||null!==vk.intersect(d.data.rect,a)){a=d.data.rect,s=!0;break}const o=vk.normalizeRect([a[0],e[3]-a[1]+e[1],a[2],e[3]-a[3]+e[1]]),l=s?a[2]-a[0]+5:0,c=o[0]+l,u=o[1];BE(GN,this,[100*(c-r)/t,100*(u-i)/n]);const{style:h}=jE(jN,this);h.left="".concat(jE(GN,this)[0],"%"),h.top="".concat(jE(GN,this)[1],"%")}function aL(){BE(HN,this,!jE(HN,this)),jE(HN,this)?(OE($N,this,oL).call(this),jE(jN,this).addEventListener("click",jE(ON,this)),jE(jN,this).addEventListener("keydown",jE(NN,this))):(OE($N,this,lL).call(this),jE(jN,this).removeEventListener("click",jE(ON,this)),jE(jN,this).removeEventListener("keydown",jE(NN,this)))}function oL(){jE(qN,this)||this.render(),this.isVisible?jE(HN,this)&&jE(jN,this).classList.add("focused"):(OE($N,this,sL).call(this),jE(jN,this).hidden=!1,jE(jN,this).style.zIndex=parseInt(jE(jN,this).style.zIndex)+1e3)}function lL(){jE(jN,this).classList.remove("focused"),!jE(HN,this)&&this.isVisible&&(jE(jN,this).hidden=!0,jE(jN,this).style.zIndex=parseInt(jE(jN,this).style.zIndex)-1e3)}class cL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.textContent=e.data.textContent,this.textPosition=e.data.textPosition,this.annotationEditorType=pA.FREETEXT}render(){if(this.container.classList.add("freeTextAnnotation"),this.textContent){const e=document.createElement("div");e.classList.add("annotationTextContent"),e.setAttribute("role","comment");for(const t of this.textContent){const n=document.createElement("span");n.textContent=t,e.append(n)}this.container.append(e)}return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var uL=new WeakMap;class hL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),DE(this,uL,null)}render(){this.container.classList.add("lineAnnotation");const e=this.data,{width:t,height:n}=hN(e.rect),r=this.svgFactory.create(t,n,!0),i=BE(uL,this,this.svgFactory.createElement("svg:line"));return i.setAttribute("x1",e.rect[2]-e.lineCoordinates[0]),i.setAttribute("y1",e.rect[3]-e.lineCoordinates[1]),i.setAttribute("x2",e.rect[2]-e.lineCoordinates[2]),i.setAttribute("y2",e.rect[3]-e.lineCoordinates[3]),i.setAttribute("stroke-width",e.borderStyle.width||1),i.setAttribute("stroke","transparent"),i.setAttribute("fill","transparent"),r.append(i),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return jE(uL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var dL=new WeakMap;class pL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),DE(this,dL,null)}render(){this.container.classList.add("squareAnnotation");const e=this.data,{width:t,height:n}=hN(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=BE(dL,this,this.svgFactory.createElement("svg:rect"));return s.setAttribute("x",i/2),s.setAttribute("y",i/2),s.setAttribute("width",t-i),s.setAttribute("height",n-i),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return jE(dL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var fL=new WeakMap;class gL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),DE(this,fL,null)}render(){this.container.classList.add("circleAnnotation");const e=this.data,{width:t,height:n}=hN(e.rect),r=this.svgFactory.create(t,n,!0),i=e.borderStyle.width,s=BE(fL,this,this.svgFactory.createElement("svg:ellipse"));return s.setAttribute("cx",t/2),s.setAttribute("cy",n/2),s.setAttribute("rx",t/2-i/2),s.setAttribute("ry",n/2-i/2),s.setAttribute("stroke-width",i||1),s.setAttribute("stroke","transparent"),s.setAttribute("fill","transparent"),r.append(s),this.container.append(r),!e.popupRef&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return jE(fL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}var mL=new WeakMap;class vL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),DE(this,mL,null),this.containerClassName="polylineAnnotation",this.svgElementName="svg:polyline"}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,vertices:t,borderStyle:n,popupRef:r}}=this;if(!t)return this.container;const{width:i,height:s}=hN(e),a=this.svgFactory.create(i,s,!0);let o=[];for(let c=0,u=t.length;c<u;c+=2){const n=t[c]-e[0],r=e[3]-t[c+1];o.push("".concat(n,",").concat(r))}o=o.join(" ");const l=BE(mL,this,this.svgFactory.createElement(this.svgElementName));return l.setAttribute("points",o),l.setAttribute("stroke-width",n.width||1),l.setAttribute("stroke","transparent"),l.setAttribute("fill","transparent"),a.append(l),this.container.append(a),!r&&this.hasPopupData&&this._createPopup(),this.container}getElementsToTriggerPopup(){return jE(mL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class yL extends vL{constructor(e){super(e),this.containerClassName="polygonAnnotation",this.svgElementName="svg:polygon"}}class bL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0})}render(){return this.container.classList.add("caretAnnotation"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container}}var wL=new WeakMap;class _L extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),DE(this,wL,[]),this.containerClassName="inkAnnotation",this.svgElementName="svg:polyline",this.annotationEditorType="InkHighlight"===this.data.it?pA.HIGHLIGHT:pA.INK}render(){this.container.classList.add(this.containerClassName);const{data:{rect:e,inkLists:t,borderStyle:n,popupRef:r}}=this,{width:i,height:s}=hN(e),a=this.svgFactory.create(i,s,!0);for(const o of t){let t=[];for(let n=0,i=o.length;n<i;n+=2){const r=o[n]-e[0],i=e[3]-o[n+1];t.push("".concat(r,",").concat(i))}t=t.join(" ");const r=this.svgFactory.createElement(this.svgElementName);jE(wL,this).push(r),r.setAttribute("points",t),r.setAttribute("stroke-width",n.width||1),r.setAttribute("stroke","transparent"),r.setAttribute("fill","transparent"),a.append(r)}return!r&&this.hasPopupData&&this._createPopup(),this.container.append(a),this._editOnDoubleClick(),this.container}getElementsToTriggerPopup(){return jE(wL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}class SL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0}),this.annotationEditorType=pA.HIGHLIGHT}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("highlightAnnotation"),this._editOnDoubleClick(),this.container}}class EL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("underlineAnnotation"),this.container}}class AL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("squigglyAnnotation"),this.container}}class kL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0,createQuadrilaterals:!0})}render(){return!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this.container.classList.add("strikeoutAnnotation"),this.container}}class xL extends vN{constructor(e){super(e,{isRenderable:!0,ignoreBorder:!0}),this.annotationEditorType=pA.STAMP}render(){return this.container.classList.add("stampAnnotation"),this.container.setAttribute("role","img"),!this.data.popupRef&&this.hasPopupData&&this._createPopup(),this._editOnDoubleClick(),this.container}}var CL=new WeakMap,TL=new WeakSet;class IL extends vN{constructor(e){var t;super(e,{isRenderable:!0}),LE(this,TL),DE(this,CL,null);const{file:n}=this.data;this.filename=n.filename,this.content=n.content,null===(t=this.linkService.eventBus)||void 0===t||t.dispatch("fileattachmentannotation",p({source:this},n))}render(){this.container.classList.add("fileAttachmentAnnotation");const{container:e,data:t}=this;let n;t.hasAppearance||0===t.fillAlpha?n=document.createElement("div"):(n=document.createElement("img"),n.src="".concat(this.imageResourcesPath,"annotation-").concat(/paperclip/i.test(t.name)?"paperclip":"pushpin",".svg"),t.fillAlpha&&t.fillAlpha<1&&(n.style="filter: opacity(".concat(Math.round(100*t.fillAlpha),"%);"))),n.addEventListener("dblclick",OE(TL,this,RL).bind(this)),BE(CL,this,n);const{isMac:r}=gk.platform;return e.addEventListener("keydown",(e=>{"Enter"===e.key&&(r?e.metaKey:e.ctrlKey)&&OE(TL,this,RL).call(this)})),!t.popupRef&&this.hasPopupData?this._createPopup():n.classList.add("popupTriggerArea"),e.append(n),e}getElementsToTriggerPopup(){return jE(CL,this)}addHighlightArea(){this.container.classList.add("highlightArea")}}function RL(){var e;null===(e=this.downloadManager)||void 0===e||e.openOrDownloadData(this.content,this.filename)}var ML=new WeakMap,PL=new WeakMap,NL=new WeakMap,LL=new WeakMap,DL=new WeakSet;class OL{constructor(e){let{div:t,accessibilityManager:n,annotationCanvasMap:r,annotationEditorUIManager:i,page:s,viewport:a,structTreeLayer:o}=e;LE(this,DL),DE(this,ML,null),DE(this,PL,null),DE(this,NL,new Map),DE(this,LL,null),this.div=t,BE(ML,this,n),BE(PL,this,r),BE(LL,this,o||null),this.page=s,this.viewport=a,this.zIndex=0,this._annotationEditorUIManager=i}hasEditableAnnotations(){return jE(NL,this).size>0}async render(e){const{annotations:t}=e,n=this.div;$k(n,this.viewport);const r=new Map,i={data:null,layer:n,linkService:e.linkService,downloadManager:e.downloadManager,imageResourcesPath:e.imageResourcesPath||"",renderForms:!1!==e.renderForms,svgFactory:new oN,annotationStorage:e.annotationStorage||new aI,enableScripting:!0===e.enableScripting,hasJSActions:e.hasJSActions,fieldObjects:e.fieldObjects,parent:this,elements:null};for(const a of t){if(a.noHTML)continue;const e=a.annotationType===jA;if(e){const e=r.get(a.id);if(!e)continue;i.elements=e}else{const{width:e,height:t}=hN(a.rect);if(e<=0||t<=0)continue}i.data=a;const t=dN.create(i);if(!t.isRenderable)continue;if(!e&&a.popupRef){const e=r.get(a.popupRef);e?e.push(t):r.set(a.popupRef,[t])}const n=t.render();var s;if(a.hidden&&(n.style.visibility="hidden"),await OE(DL,this,FL).call(this,n,a.id),t._isEditable)jE(NL,this).set(t.data.id,t),null===(s=this._annotationEditorUIManager)||void 0===s||s.renderAnnotationElement(t)}OE(DL,this,jL).call(this)}update(e){let{viewport:t}=e;const n=this.div;this.viewport=t,$k(n,{rotation:t.rotation}),OE(DL,this,jL).call(this),n.hidden=!1}getEditableAnnotations(){return Array.from(jE(NL,this).values())}getEditableAnnotation(e){return jE(NL,this).get(e)}}async function FL(e,t){var n,r;const i=e.firstChild||e,s=i.id="".concat(Ek).concat(t),a=await(null===(n=jE(LL,this))||void 0===n?void 0:n.getAriaAttributes(s));if(a)for(const[o,l]of a)i.setAttribute(o,l);this.div.append(e),null===(r=jE(ML,this))||void 0===r||r.moveElementInDOM(this.div,e,i,!1)}function jL(){if(!jE(PL,this))return;const e=this.div;for(const[t,n]of jE(PL,this)){const r=e.querySelector('[data-annotation-id="'.concat(t,'"]'));if(!r)continue;n.className="annotationContent";const{firstChild:i}=r;i?"CANVAS"===i.nodeName?i.replaceWith(n):i.classList.contains("annotationContent")?i.after(n):i.before(n):r.append(n)}jE(PL,this).clear()}const BL=/\r\n?|\n/g;var zL=new WeakMap,VL=new WeakMap,UL=new WeakMap,WL=new WeakMap,HL=new WeakMap,qL=new WeakSet;class GL extends LT{static get _keyboardManager(){const e=GL.prototype,t=e=>e.isEmpty(),n=TC.TRANSLATE_SMALL,r=TC.TRANSLATE_BIG;return rk(this,"_keyboardManager",new Fx([[["ctrl+s","mac+meta+s","ctrl+p","mac+meta+p"],e.commitOrRemove,{bubbles:!0}],[["ctrl+Enter","mac+meta+Enter","Escape","mac+Escape"],e.commitOrRemove],[["ArrowLeft","mac+ArrowLeft"],e._translateEmpty,{args:[-n,0],checker:t}],[["ctrl+ArrowLeft","mac+shift+ArrowLeft"],e._translateEmpty,{args:[-r,0],checker:t}],[["ArrowRight","mac+ArrowRight"],e._translateEmpty,{args:[n,0],checker:t}],[["ctrl+ArrowRight","mac+shift+ArrowRight"],e._translateEmpty,{args:[r,0],checker:t}],[["ArrowUp","mac+ArrowUp"],e._translateEmpty,{args:[0,-n],checker:t}],[["ctrl+ArrowUp","mac+shift+ArrowUp"],e._translateEmpty,{args:[0,-r],checker:t}],[["ArrowDown","mac+ArrowDown"],e._translateEmpty,{args:[0,n],checker:t}],[["ctrl+ArrowDown","mac+shift+ArrowDown"],e._translateEmpty,{args:[0,r],checker:t}]]))}constructor(e){super(p(p({},e),{},{name:"freeTextEditor"})),LE(this,qL),DE(this,zL,void 0),DE(this,VL,""),DE(this,UL,"".concat(this.id,"-editor")),DE(this,WL,null),DE(this,HL,void 0),BE(zL,this,e.color||GL._defaultColor||LT._defaultLineColor),BE(HL,this,e.fontSize||GL._defaultFontSize)}static initialize(e,t){LT.initialize(e,t);const n=getComputedStyle(document.documentElement);this._internalPadding=parseFloat(n.getPropertyValue("--freetext-padding"))}static updateDefaultParams(e,t){switch(e){case fA.FREETEXT_SIZE:GL._defaultFontSize=t;break;case fA.FREETEXT_COLOR:GL._defaultColor=t}}updateParams(e,t){switch(e){case fA.FREETEXT_SIZE:OE(qL,this,KL).call(this,t);break;case fA.FREETEXT_COLOR:OE(qL,this,XL).call(this,t)}}static get defaultPropertiesToUpdate(){return[[fA.FREETEXT_SIZE,GL._defaultFontSize],[fA.FREETEXT_COLOR,GL._defaultColor||LT._defaultLineColor]]}get propertiesToUpdate(){return[[fA.FREETEXT_SIZE,jE(HL,this)],[fA.FREETEXT_COLOR,jE(zL,this)]]}_translateEmpty(e,t){this._uiManager.translateSelectedEditors(e,t,!0)}getInitialTranslation(){const e=this.parentScale;return[-GL._internalPadding*e,-(GL._internalPadding+jE(HL,this))*e]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.isAttachedToDOM||this.parent.add(this)))}enableEditMode(){if(this.isInEditMode())return;this.parent.setEditingState(!1),this.parent.updateToolbar(pA.FREETEXT),super.enableEditMode(),this.overlayDiv.classList.remove("enabled"),this.editorDiv.contentEditable=!0,this._isDraggable=!1,this.div.removeAttribute("aria-activedescendant"),BE(WL,this,new AbortController);const e=this._uiManager.combinedSignal(jE(WL,this));this.editorDiv.addEventListener("keydown",this.editorDivKeydown.bind(this),{signal:e}),this.editorDiv.addEventListener("focus",this.editorDivFocus.bind(this),{signal:e}),this.editorDiv.addEventListener("blur",this.editorDivBlur.bind(this),{signal:e}),this.editorDiv.addEventListener("input",this.editorDivInput.bind(this),{signal:e}),this.editorDiv.addEventListener("paste",this.editorDivPaste.bind(this),{signal:e})}disableEditMode(){var e;this.isInEditMode()&&(this.parent.setEditingState(!0),super.disableEditMode(),this.overlayDiv.classList.add("enabled"),this.editorDiv.contentEditable=!1,this.div.setAttribute("aria-activedescendant",jE(UL,this)),this._isDraggable=!0,null===(e=jE(WL,this))||void 0===e||e.abort(),BE(WL,this,null),this.div.focus({preventScroll:!0}),this.isEditing=!1,this.parent.div.classList.add("freetextEditing"))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),e.target!==this.editorDiv&&this.editorDiv.focus())}onceAdded(){var e;this.width||(this.enableEditMode(),this.editorDiv.focus(),null!==(e=this._initialOptions)&&void 0!==e&&e.isCentered&&this.center(),this._initialOptions=null)}isEmpty(){return!this.editorDiv||""===this.editorDiv.innerText.trim()}remove(){this.isEditing=!1,this.parent&&(this.parent.setEditingState(!0),this.parent.div.classList.add("freetextEditing")),super.remove()}commit(){if(!this.isInEditMode())return;super.commit(),this.disableEditMode();const e=jE(VL,this),t=BE(VL,this,OE(qL,this,QL).call(this).trimEnd());if(e===t)return;const n=e=>{BE(VL,this,e),e?(OE(qL,this,$L).call(this),this._uiManager.rebuild(this),OE(qL,this,YL).call(this)):this.remove()};this.addCommands({cmd:()=>{n(t)},undo:()=>{n(e)},mustExec:!1}),OE(qL,this,YL).call(this)}shouldGetKeyboardEvents(){return this.isInEditMode()}enterInEditMode(){this.enableEditMode(),this.editorDiv.focus()}dblclick(e){this.enterInEditMode()}keydown(e){e.target===this.div&&"Enter"===e.key&&(this.enterInEditMode(),e.preventDefault())}editorDivKeydown(e){GL._keyboardManager.exec(this,e)}editorDivFocus(e){this.isEditing=!0}editorDivBlur(e){this.isEditing=!1}editorDivInput(e){this.parent.div.classList.toggle("freetextEditing",this.isEmpty())}disableEditing(){this.editorDiv.setAttribute("role","comment"),this.editorDiv.removeAttribute("aria-multiline")}enableEditing(){this.editorDiv.setAttribute("role","textbox"),this.editorDiv.setAttribute("aria-multiline",!0)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.editorDiv=document.createElement("div"),this.editorDiv.className="internal",this.editorDiv.setAttribute("id",jE(UL,this)),this.editorDiv.setAttribute("data-l10n-id","pdfjs-free-text2"),this.editorDiv.setAttribute("data-l10n-attrs","default-content"),this.enableEditing(),this.editorDiv.contentEditable=!0;const{style:n}=this.editorDiv;if(n.fontSize="calc(".concat(jE(HL,this),"px * var(--scale-factor))"),n.color=jE(zL,this),this.div.append(this.editorDiv),this.overlayDiv=document.createElement("div"),this.overlayDiv.classList.add("overlay","enabled"),this.div.append(this.overlayDiv),Sx(this,this.div,["dblclick","keydown"]),this.width){const[n,r]=this.parentDimensions;if(this.annotationElementId){const{position:i}=this._initialData;let[s,a]=this.getInitialTranslation();[s,a]=this.pageTranslationToScreen(s,a);const[o,l]=this.pageDimensions,[c,u]=this.pageTranslation;let h,d;switch(this.rotation){case 0:h=e+(i[0]-c)/o,d=t+this.height-(i[1]-u)/l;break;case 90:h=e+(i[0]-c)/o,d=t-(i[1]-u)/l,[s,a]=[a,-s];break;case 180:h=e-this.width+(i[0]-c)/o,d=t-(i[1]-u)/l,[s,a]=[-s,-a];break;case 270:h=e+(i[0]-c-this.height*l)/o,d=t+(i[1]-u-this.width*o)/l,[s,a]=[-a,s]}this.setAt(h*n,d*r,s,a)}else this.setAt(e*n,t*r,this.width*n,this.height*r);OE(qL,this,$L).call(this),this._isDraggable=!0,this.editorDiv.contentEditable=!1}else this._isDraggable=!1,this.editorDiv.contentEditable=!0;return this.div}editorDivPaste(e){const t=e.clipboardData||window.clipboardData,{types:n}=t;if(1===n.length&&"text/plain"===n[0])return;e.preventDefault();const r=eD.call(GL,t.getData("text")||"").replaceAll(BL,"\n");if(!r)return;const i=window.getSelection();if(!i.rangeCount)return;this.editorDiv.normalize(),i.deleteFromDocument();const s=i.getRangeAt(0);if(!r.includes("\n"))return s.insertNode(document.createTextNode(r)),this.editorDiv.normalize(),void i.collapseToStart();const{startContainer:a,startOffset:o}=s,l=[],c=[];if(a.nodeType===Node.TEXT_NODE){const e=a.parentElement;if(c.push(a.nodeValue.slice(o).replaceAll(BL,"")),e!==this.editorDiv){let t=l;for(const n of this.editorDiv.childNodes)n!==e?t.push(JL.call(GL,n)):t=c}l.push(a.nodeValue.slice(0,o).replaceAll(BL,""))}else if(a===this.editorDiv){let e=l,t=0;for(const n of this.editorDiv.childNodes)t++===o&&(e=c),e.push(JL.call(GL,n))}BE(VL,this,"".concat(l.join("\n")).concat(r).concat(c.join("\n"))),OE(qL,this,$L).call(this);const u=new Range;let h=l.reduce(((e,t)=>e+t.length),0);for(const{firstChild:d}of this.editorDiv.childNodes)if(d.nodeType===Node.TEXT_NODE){const e=d.nodeValue.length;if(h<=e){u.setStart(d,h),u.setEnd(d,h);break}h-=e}i.removeAllRanges(),i.addRange(u)}get contentDiv(){return this.editorDiv}static async deserialize(e,t,n){let r=null;if(e instanceof cL){const{data:{defaultAppearanceData:{fontSize:t,fontColor:n},rect:i,rotation:s,id:a,popupRef:o},textContent:l,textPosition:c,parent:{page:{pageNumber:u}}}=e;if(!l||0===l.length)return null;r=e={annotationType:pA.FREETEXT,color:Array.from(n),fontSize:t,value:l.join("\n"),position:c,pageIndex:u-1,rect:i.slice(0),rotation:s,id:a,deleted:!1,popupRef:o}}const i=await super.deserialize(e,t,n);return BE(HL,i,e.fontSize),BE(zL,i,vk.makeHexColor(...e.color)),BE(VL,i,eD.call(GL,e.value)),i.annotationElementId=e.id||null,i._initialData=r,i}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const t=GL._internalPadding*this.parentScale,n=this.getRect(t,t),r=LT._colorManager.convert(this.isAttachedToDOM?getComputedStyle(this.editorDiv).color:jE(zL,this)),i={annotationType:pA.FREETEXT,color:r,fontSize:jE(HL,this),value:OE(qL,this,ZL).call(this),pageIndex:this.pageIndex,rect:n,rotation:this.rotation,structTreeParentId:this._structTreeParentId};return e?i:this.annotationElementId&&!OE(qL,this,tD).call(this,i)?null:(i.id=this.annotationElementId,i)}renderAnnotationElement(e){const t=super.renderAnnotationElement(e);if(this.deleted)return t;const{style:n}=t;n.fontSize="calc(".concat(jE(HL,this),"px * var(--scale-factor))"),n.color=jE(zL,this),t.replaceChildren();for(const i of jE(VL,this).split("\n")){const e=document.createElement("div");e.append(i?document.createTextNode(i):document.createElement("br")),t.append(e)}const r=GL._internalPadding*this.parentScale;return e.updateEdited({rect:this.getRect(r,r),popupContent:jE(VL,this)}),t}resetAnnotationElement(e){super.resetAnnotationElement(e),e.resetEdited()}}function KL(e){const t=e=>{this.editorDiv.style.fontSize="calc(".concat(e,"px * var(--scale-factor))"),this.translate(0,-(e-jE(HL,this))*this.parentScale),BE(HL,this,e),OE(qL,this,YL).call(this)},n=jE(HL,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.FREETEXT_SIZE,overwriteIfSameType:!0,keepUndo:!0})}function XL(e){const t=e=>{BE(zL,this,this.editorDiv.style.color=e)},n=jE(zL,this);this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.FREETEXT_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function QL(){const e=[];this.editorDiv.normalize();let t=null;for(const r of this.editorDiv.childNodes){var n;(null===(n=t)||void 0===n?void 0:n.nodeType)===Node.TEXT_NODE&&"BR"===r.nodeName||(e.push(JL.call(GE,r)),t=r)}return e.join("\n")}function YL(){const[e,t]=this.parentDimensions;let n;if(this.isAttachedToDOM)n=this.div.getBoundingClientRect();else{const{currentLayer:e,div:t}=this,r=t.style.display,i=t.classList.contains("hidden");t.classList.remove("hidden"),t.style.display="hidden",e.div.append(this.div),n=t.getBoundingClientRect(),t.remove(),t.style.display=r,t.classList.toggle("hidden",i)}this.rotation%180===this.parentRotation%180?(this.width=n.width/e,this.height=n.height/t):(this.width=n.height/e,this.height=n.width/t),this.fixAndSetPosition()}function JL(e){return(e.nodeType===Node.TEXT_NODE?e.nodeValue:e.innerText).replaceAll(BL,"")}function $L(){if(this.editorDiv.replaceChildren(),jE(VL,this))for(const e of jE(VL,this).split("\n")){const t=document.createElement("div");t.append(e?document.createTextNode(e):document.createElement("br")),this.editorDiv.append(t)}}function ZL(){return jE(VL,this).replaceAll("\xa0"," ")}function eD(e){return e.replaceAll(" ","\xa0")}function tD(e){const{value:t,fontSize:n,color:r,pageIndex:i}=this._initialData;return this._hasBeenMoved||e.value!==t||e.fontSize!==n||e.color.some(((e,t)=>e!==r[t]))||e.pageIndex!==i}GE=GL,h(GL,"_freeTextDefaultContent",""),h(GL,"_internalPadding",0),h(GL,"_defaultColor",null),h(GL,"_defaultFontSize",10),h(GL,"_type","freetext"),h(GL,"_editorType",pA.FREETEXT);class nD{toSVGPath(){ek("Abstract method `toSVGPath` must be implemented.")}get box(){ek("Abstract getter `box` must be implemented.")}serialize(e,t){ek("Abstract method `serialize` must be implemented.")}get classNamesForDrawing(){ek("Abstract getter `classNamesForDrawing` must be implemented.")}get classNamesForOutlining(){ek("Abstract getter `classNamesForOutlining` must be implemented.")}get mustRemoveSelfIntersections(){return!1}}var rD=new WeakMap,iD=new WeakMap,sD=new WeakMap,aD=new WeakMap,oD=new WeakMap,lD=new WeakMap,cD=new WeakMap,uD=new WeakMap,hD=new WeakMap,dD=new WeakMap,pD=new WeakMap,fD=new WeakMap,gD=new WeakMap,mD=new WeakSet;class vD{constructor(e,t,n,r,i){let{x:s,y:a}=e,o=arguments.length>5&&void 0!==arguments[5]?arguments[5]:0;LE(this,mD),DE(this,rD,void 0),DE(this,iD,[]),DE(this,sD,void 0),DE(this,aD,void 0),DE(this,oD,[]),DE(this,lD,new Float64Array(18)),DE(this,cD,void 0),DE(this,uD,void 0),DE(this,hD,void 0),DE(this,dD,void 0),DE(this,pD,void 0),DE(this,fD,void 0),DE(this,gD,[]),BE(rD,this,t),BE(fD,this,r*n),BE(aD,this,i),jE(lD,this).set([NaN,NaN,NaN,NaN,s,a],6),BE(sD,this,o),BE(dD,this,kD._*n),BE(hD,this,xD._*n),BE(pD,this,n),jE(gD,this).push(s,a)}isEmpty(){return isNaN(jE(lD,this)[8])}add(e){var t;let{x:n,y:r}=e;BE(cD,this,n),BE(uD,this,r);const[i,s,a,o]=jE(rD,this);let[l,c,u,h]=jE(lD,this).subarray(8,12);const d=n-u,p=r-h,f=Math.hypot(d,p);if(f<jE(hD,this))return!1;const g=f-jE(dD,this),m=g/f,v=m*d,y=m*p;let b=l,w=c;l=u,c=h,u+=v,h+=y,null===(t=jE(gD,this))||void 0===t||t.push(n,r);const _=v/g,S=-y/g*jE(fD,this),E=_*jE(fD,this);if(jE(lD,this).set(jE(lD,this).subarray(2,8),0),jE(lD,this).set([u+S,h+E],4),jE(lD,this).set(jE(lD,this).subarray(14,18),12),jE(lD,this).set([u-S,h-E],16),isNaN(jE(lD,this)[6]))return 0===jE(oD,this).length&&(jE(lD,this).set([l+S,c+E],2),jE(oD,this).push(NaN,NaN,NaN,NaN,(l+S-i)/a,(c+E-s)/o),jE(lD,this).set([l-S,c-E],14),jE(iD,this).push(NaN,NaN,NaN,NaN,(l-S-i)/a,(c-E-s)/o)),jE(lD,this).set([b,w,l,c,u,h],6),!this.isEmpty();jE(lD,this).set([b,w,l,c,u,h],6);return Math.abs(Math.atan2(w-c,b-l)-Math.atan2(y,v))<Math.PI/2?([l,c,u,h]=jE(lD,this).subarray(2,6),jE(oD,this).push(NaN,NaN,NaN,NaN,((l+u)/2-i)/a,((c+h)/2-s)/o),[l,c,b,w]=jE(lD,this).subarray(14,18),jE(iD,this).push(NaN,NaN,NaN,NaN,((b+l)/2-i)/a,((w+c)/2-s)/o),!0):([b,w,l,c,u,h]=jE(lD,this).subarray(0,6),jE(oD,this).push(((b+5*l)/6-i)/a,((w+5*c)/6-s)/o,((5*l+u)/6-i)/a,((5*c+h)/6-s)/o,((l+u)/2-i)/a,((c+h)/2-s)/o),[u,h,l,c,b,w]=jE(lD,this).subarray(12,18),jE(iD,this).push(((b+5*l)/6-i)/a,((w+5*c)/6-s)/o,((5*l+u)/6-i)/a,((5*c+h)/6-s)/o,((l+u)/2-i)/a,((c+h)/2-s)/o),!0)}toSVGPath(){if(this.isEmpty())return"";const e=jE(oD,this),t=jE(iD,this);if(isNaN(jE(lD,this)[6])&&!this.isEmpty())return OE(mD,this,bD).call(this);const n=[];n.push("M".concat(e[4]," ").concat(e[5]));for(let r=6;r<e.length;r+=6)isNaN(e[r])?n.push("L".concat(e[r+4]," ").concat(e[r+5])):n.push("C".concat(e[r]," ").concat(e[r+1]," ").concat(e[r+2]," ").concat(e[r+3]," ").concat(e[r+4]," ").concat(e[r+5]));OE(mD,this,_D).call(this,n);for(let r=t.length-6;r>=6;r-=6)isNaN(t[r])?n.push("L".concat(t[r+4]," ").concat(t[r+5])):n.push("C".concat(t[r]," ").concat(t[r+1]," ").concat(t[r+2]," ").concat(t[r+3]," ").concat(t[r+4]," ").concat(t[r+5]));return OE(mD,this,wD).call(this,n),n.join(" ")}newFreeDrawOutline(e,t,n,r,i,s){return new DD(e,t,n,r,i,s)}getOutlines(){var e,t;const n=jE(oD,this),r=jE(iD,this),i=jE(lD,this),[s,a,o,l]=jE(rD,this),c=new Float64Array((null!==(e=null===(t=jE(gD,this))||void 0===t?void 0:t.length)&&void 0!==e?e:0)+2);for(let d=0,p=c.length-2;d<p;d+=2)c[d]=(jE(gD,this)[d]-s)/o,c[d+1]=(jE(gD,this)[d+1]-a)/l;if(c[c.length-2]=(jE(cD,this)-s)/o,c[c.length-1]=(jE(uD,this)-a)/l,isNaN(i[6])&&!this.isEmpty())return OE(mD,this,SD).call(this,c);const u=new Float64Array(jE(oD,this).length+24+jE(iD,this).length);let h=n.length;for(let d=0;d<h;d+=2)isNaN(n[d])?u[d]=u[d+1]=NaN:(u[d]=n[d],u[d+1]=n[d+1]);h=OE(mD,this,AD).call(this,u,h);for(let d=r.length-6;d>=6;d-=6)for(let e=0;e<6;e+=2)isNaN(r[d+e])?(u[h]=u[h+1]=NaN,h+=2):(u[h]=r[d+e],u[h+1]=r[d+e+1],h+=2);return OE(mD,this,ED).call(this,u,h),this.newFreeDrawOutline(u,c,jE(rD,this),jE(pD,this),jE(sD,this),jE(aD,this))}}function yD(){const e=jE(lD,this).subarray(4,6),t=jE(lD,this).subarray(16,18),[n,r,i,s]=jE(rD,this);return[(jE(cD,this)+(e[0]-t[0])/2-n)/i,(jE(uD,this)+(e[1]-t[1])/2-r)/s,(jE(cD,this)+(t[0]-e[0])/2-n)/i,(jE(uD,this)+(t[1]-e[1])/2-r)/s]}function bD(){const[e,t,n,r]=jE(rD,this),[i,s,a,o]=OE(mD,this,yD).call(this);return"M".concat((jE(lD,this)[2]-e)/n," ").concat((jE(lD,this)[3]-t)/r," L").concat((jE(lD,this)[4]-e)/n," ").concat((jE(lD,this)[5]-t)/r," L").concat(i," ").concat(s," L").concat(a," ").concat(o," L").concat((jE(lD,this)[16]-e)/n," ").concat((jE(lD,this)[17]-t)/r," L").concat((jE(lD,this)[14]-e)/n," ").concat((jE(lD,this)[15]-t)/r," Z")}function wD(e){const t=jE(iD,this);e.push("L".concat(t[4]," ").concat(t[5]," Z"))}function _D(e){const[t,n,r,i]=jE(rD,this),s=jE(lD,this).subarray(4,6),a=jE(lD,this).subarray(16,18),[o,l,c,u]=OE(mD,this,yD).call(this);e.push("L".concat((s[0]-t)/r," ").concat((s[1]-n)/i," L").concat(o," ").concat(l," L").concat(c," ").concat(u," L").concat((a[0]-t)/r," ").concat((a[1]-n)/i))}function SD(e){const t=jE(lD,this),[n,r,i,s]=jE(rD,this),[a,o,l,c]=OE(mD,this,yD).call(this),u=new Float64Array(36);return u.set([NaN,NaN,NaN,NaN,(t[2]-n)/i,(t[3]-r)/s,NaN,NaN,NaN,NaN,(t[4]-n)/i,(t[5]-r)/s,NaN,NaN,NaN,NaN,a,o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,(t[16]-n)/i,(t[17]-r)/s,NaN,NaN,NaN,NaN,(t[14]-n)/i,(t[15]-r)/s],0),this.newFreeDrawOutline(u,e,jE(rD,this),jE(pD,this),jE(sD,this),jE(aD,this))}function ED(e,t){const n=jE(iD,this);return e.set([NaN,NaN,NaN,NaN,n[4],n[5]],t),t+6}function AD(e,t){const n=jE(lD,this).subarray(4,6),r=jE(lD,this).subarray(16,18),[i,s,a,o]=jE(rD,this),[l,c,u,h]=OE(mD,this,yD).call(this);return e.set([NaN,NaN,NaN,NaN,(n[0]-i)/a,(n[1]-s)/o,NaN,NaN,NaN,NaN,l,c,NaN,NaN,NaN,NaN,u,h,NaN,NaN,NaN,NaN,(r[0]-i)/a,(r[1]-s)/o],t),t+24}var kD={_:8},xD={_:kD._+2},CD=new WeakMap,TD=new WeakMap,ID=new WeakMap,RD=new WeakMap,MD=new WeakMap,PD=new WeakMap,ND=new WeakMap,LD=new WeakSet;class DD extends nD{constructor(e,t,n,r,i,s){super(),LE(this,LD),DE(this,CD,void 0),DE(this,TD,null),DE(this,ID,void 0),DE(this,RD,void 0),DE(this,MD,void 0),DE(this,PD,void 0),DE(this,ND,void 0),BE(ND,this,e),BE(MD,this,t),BE(CD,this,n),BE(PD,this,r),BE(ID,this,i),BE(RD,this,s),OE(LD,this,jD).call(this,s);const{x:a,y:o,width:l,height:c}=jE(TD,this);for(let u=0,h=e.length;u<h;u+=2)e[u]=(e[u]-a)/l,e[u+1]=(e[u+1]-o)/c;for(let u=0,h=t.length;u<h;u+=2)t[u]=(t[u]-a)/l,t[u+1]=(t[u+1]-o)/c}toSVGPath(){const e=["M".concat(jE(ND,this)[4]," ").concat(jE(ND,this)[5])];for(let t=6,n=jE(ND,this).length;t<n;t+=6)isNaN(jE(ND,this)[t])?e.push("L".concat(jE(ND,this)[t+4]," ").concat(jE(ND,this)[t+5])):e.push("C".concat(jE(ND,this)[t]," ").concat(jE(ND,this)[t+1]," ").concat(jE(ND,this)[t+2]," ").concat(jE(ND,this)[t+3]," ").concat(jE(ND,this)[t+4]," ").concat(jE(ND,this)[t+5]));return e.push("Z"),e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=i-n,o=s-r;let l,c;switch(t){case 0:l=OE(LD,this,OD).call(this,jE(ND,this),n,s,a,-o),c=OE(LD,this,OD).call(this,jE(MD,this),n,s,a,-o);break;case 90:l=OE(LD,this,FD).call(this,jE(ND,this),n,r,a,o),c=OE(LD,this,FD).call(this,jE(MD,this),n,r,a,o);break;case 180:l=OE(LD,this,OD).call(this,jE(ND,this),i,r,-a,o),c=OE(LD,this,OD).call(this,jE(MD,this),i,r,-a,o);break;case 270:l=OE(LD,this,FD).call(this,jE(ND,this),i,s,-a,-o),c=OE(LD,this,FD).call(this,jE(MD,this),i,s,-a,-o)}return{outline:Array.from(l),points:[Array.from(c)]}}get box(){return jE(TD,this)}newOutliner(e,t,n,r,i){return new vD(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}getNewOutline(e,t){const{x:n,y:r,width:i,height:s}=jE(TD,this),[a,o,l,c]=jE(CD,this),u=i*l,h=s*c,d=n*l+a,p=r*c+o,f=this.newOutliner({x:jE(MD,this)[0]*u+d,y:jE(MD,this)[1]*h+p},jE(CD,this),jE(PD,this),e,jE(RD,this),null!==t&&void 0!==t?t:jE(ID,this));for(let g=2;g<jE(MD,this).length;g+=2)f.add({x:jE(MD,this)[g]*u+d,y:jE(MD,this)[g+1]*h+p});return f.getOutlines()}get mustRemoveSelfIntersections(){return!0}}function OD(e,t,n,r,i){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a]*r,s[a+1]=n+e[a+1]*i;return s}function FD(e,t,n,r,i){const s=new Float64Array(e.length);for(let a=0,o=e.length;a<o;a+=2)s[a]=t+e[a+1]*r,s[a+1]=n+e[a]*i;return s}function jD(e){const t=jE(ND,this);let n=t[4],r=t[5],i=n,s=r,a=n,o=r,l=n,c=r;const u=e?Math.max:Math.min;for(let g=6,m=t.length;g<m;g+=6){if(isNaN(t[g]))i=Math.min(i,t[g+4]),s=Math.min(s,t[g+5]),a=Math.max(a,t[g+4]),o=Math.max(o,t[g+5]),c<t[g+5]?(l=t[g+4],c=t[g+5]):c===t[g+5]&&(l=u(l,t[g+4]));else{const e=vk.bezierBoundingBox(n,r,...t.slice(g,g+6));i=Math.min(i,e[0]),s=Math.min(s,e[1]),a=Math.max(a,e[2]),o=Math.max(o,e[3]),c<e[3]?(l=e[2],c=e[3]):c===e[3]&&(l=u(l,e[2]))}n=t[g+4],r=t[g+5]}const h=i-jE(ID,this),d=s-jE(ID,this),p=a-i+2*jE(ID,this),f=o-s+2*jE(ID,this);BE(TD,this,{x:h,y:d,width:p,height:f,lastPoint:[l,c]})}var BD=new WeakMap,zD=new WeakMap,VD=new WeakMap,UD=new WeakSet;class WD{constructor(e){let t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=!(arguments.length>3&&void 0!==arguments[3])||arguments[3];LE(this,UD),DE(this,BD,void 0),DE(this,zD,[]),DE(this,VD,[]);let i=1/0,s=-1/0,a=1/0,o=-1/0;const l=10**-4;for(const{x:g,y:m,width:v,height:y}of e){const e=Math.floor((g-t)/l)*l,n=Math.ceil((g+v+t)/l)*l,r=Math.floor((m-t)/l)*l,c=Math.ceil((m+y+t)/l)*l,u=[e,r,c,!0],h=[n,r,c,!1];jE(zD,this).push(u,h),i=Math.min(i,e),s=Math.max(s,n),a=Math.min(a,r),o=Math.max(o,c)}const c=s-i+2*n,u=o-a+2*n,h=i-n,d=a-n,p=jE(zD,this).at(r?-1:-2),f=[p[0],p[2]];for(const g of jE(zD,this)){const[e,t,n]=g;g[0]=(e-h)/c,g[1]=(t-d)/u,g[2]=(n-d)/u}BE(BD,this,{x:h,y:d,width:c,height:u,lastPoint:f})}getOutlines(){jE(zD,this).sort(((e,t)=>e[0]-t[0]||e[1]-t[1]||e[2]-t[2]));const e=[];for(const t of jE(zD,this))t[3]?(e.push(...OE(UD,this,XD).call(this,t)),OE(UD,this,GD).call(this,t)):(OE(UD,this,KD).call(this,t),e.push(...OE(UD,this,XD).call(this,t)));return OE(UD,this,HD).call(this,e)}}function HD(e){const t=[],n=new Set;for(const s of e){const[e,n,r]=s;t.push([e,n,s],[e,r,s])}t.sort(((e,t)=>e[1]-t[1]||e[0]-t[0]));for(let s=0,a=t.length;s<a;s+=2){const e=t[s][2],r=t[s+1][2];e.push(r),r.push(e),n.add(e),n.add(r)}const r=[];let i;for(;n.size>0;){const e=n.values().next().value;let[t,s,a,o,l]=e;n.delete(e);let c=t,u=s;for(i=[t,a],r.push(i);;){let e;if(n.has(o))e=o;else{if(!n.has(l))break;e=l}n.delete(e),[t,s,a,o,l]=e,c!==t&&(i.push(c,u,t,u===s?s:a),c=t),u=u===s?a:s}i.push(c,u)}return new JD(r,jE(BD,this))}function qD(e){const t=jE(VD,this);let n=0,r=t.length-1;for(;n<=r;){const i=n+r>>1,s=t[i][0];if(s===e)return i;s<e?n=i+1:r=i-1}return r+1}function GD(e){let[,t,n]=e;const r=OE(UD,this,qD).call(this,t);jE(VD,this).splice(r,0,[t,n])}function KD(e){let[,t,n]=e;const r=OE(UD,this,qD).call(this,t);for(let i=r;i<jE(VD,this).length;i++){const[e,r]=jE(VD,this)[i];if(e!==t)break;if(e===t&&r===n)return void jE(VD,this).splice(i,1)}for(let i=r-1;i>=0;i--){const[e,r]=jE(VD,this)[i];if(e!==t)break;if(e===t&&r===n)return void jE(VD,this).splice(i,1)}}function XD(e){const[t,n,r]=e,i=[[t,n,r]],s=OE(UD,this,qD).call(this,r);for(let a=0;a<s;a++){const[e,n]=jE(VD,this)[a];for(let r=0,s=i.length;r<s;r++){const[,a,o]=i[r];if(!(n<=a||o<=e))if(a>=e)if(o>n)i[r][1]=n;else{if(1===s)return[];i.splice(r,1),r--,s--}else i[r][2]=e,o>n&&i.push([t,n,o])}}return i}var QD=new WeakMap,YD=new WeakMap;class JD extends nD{constructor(e,t){super(),DE(this,QD,void 0),DE(this,YD,void 0),BE(YD,this,e),BE(QD,this,t)}toSVGPath(){const e=[];for(const t of jE(YD,this)){let[n,r]=t;e.push("M".concat(n," ").concat(r));for(let i=2;i<t.length;i+=2){const s=t[i],a=t[i+1];s===n?(e.push("V".concat(a)),r=a):a===r&&(e.push("H".concat(s)),n=s)}e.push("Z")}return e.join(" ")}serialize(e,t){let[n,r,i,s]=e;const a=[],o=i-n,l=s-r;for(const c of jE(YD,this)){const e=new Array(c.length);for(let t=0;t<c.length;t+=2)e[t]=n+c[t]*o,e[t+1]=s-c[t+1]*l;a.push(e)}return a}get box(){return jE(QD,this)}get classNamesForDrawing(){return["highlight"]}get classNamesForOutlining(){return["highlightOutline"]}}class $D extends vD{newFreeDrawOutline(e,t,n,r,i,s){return new ZD(e,t,n,r,i,s)}get classNamesForDrawing(){return["highlight","free"]}}class ZD extends DD{get classNamesForDrawing(){return["highlight","free"]}get classNamesForOutlining(){return["highlightOutline","free"]}newOutliner(e,t,n,r,i){return new $D(e,t,n,r,i,arguments.length>5&&void 0!==arguments[5]?arguments[5]:0)}}var eO=new WeakMap,tO=new WeakMap,nO=new WeakMap,rO=new WeakMap,iO=new WeakMap,sO=new WeakMap,aO=new WeakMap,oO=new WeakMap,lO=new WeakMap,cO=new WeakMap,uO=new WeakMap,hO=new WeakSet;class dO{static get _keyboardManager(){return rk(this,"_keyboardManager",new Fx([[["Escape","mac+Escape"],dO.prototype._hideDropdownFromKeyboard],[[" ","mac+ "],dO.prototype._colorSelectFromKeyboard],[["ArrowDown","ArrowRight","mac+ArrowDown","mac+ArrowRight"],dO.prototype._moveToNext],[["ArrowUp","ArrowLeft","mac+ArrowUp","mac+ArrowLeft"],dO.prototype._moveToPrevious],[["Home","mac+Home"],dO.prototype._moveToBeginning],[["End","mac+End"],dO.prototype._moveToEnd]]))}constructor(e){var t;let{editor:n=null,uiManager:r=null}=e;LE(this,hO),DE(this,eO,null),DE(this,tO,null),DE(this,nO,void 0),DE(this,rO,null),DE(this,iO,!1),DE(this,sO,!1),DE(this,aO,null),DE(this,oO,void 0),DE(this,lO,null),DE(this,cO,null),DE(this,uO,void 0),n?(BE(sO,this,!1),BE(uO,this,fA.HIGHLIGHT_COLOR),BE(aO,this,n)):(BE(sO,this,!0),BE(uO,this,fA.HIGHLIGHT_DEFAULT_COLOR)),BE(cO,this,(null===n||void 0===n?void 0:n._uiManager)||r),BE(oO,this,jE(cO,this)._eventBus),BE(nO,this,(null===n||void 0===n?void 0:n.color)||(null===(t=jE(cO,this))||void 0===t?void 0:t.highlightColors.values().next().value)||"#FFFF98"),bO._||(bO._=Object.freeze({blue:"pdfjs-editor-colorpicker-blue",green:"pdfjs-editor-colorpicker-green",pink:"pdfjs-editor-colorpicker-pink",red:"pdfjs-editor-colorpicker-red",yellow:"pdfjs-editor-colorpicker-yellow"}))}renderButton(){const e=BE(eO,this,document.createElement("button"));e.className="colorPicker",e.tabIndex="0",e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-button"),e.setAttribute("aria-haspopup",!0);const t=jE(cO,this)._signal;e.addEventListener("click",OE(hO,this,mO).bind(this),{signal:t}),e.addEventListener("keydown",OE(hO,this,gO).bind(this),{signal:t});const n=BE(tO,this,document.createElement("span"));return n.className="swatch",n.setAttribute("aria-hidden",!0),n.style.backgroundColor=jE(nO,this),e.append(n),e}renderMainDropdown(){const e=BE(rO,this,OE(hO,this,pO).call(this));return e.setAttribute("aria-orientation","horizontal"),e.setAttribute("aria-labelledby","highlightColorPickerLabel"),e}_colorSelectFromKeyboard(e){if(e.target===jE(eO,this))return void OE(hO,this,mO).call(this,e);const t=e.target.getAttribute("data-color");t&&OE(hO,this,fO).call(this,t,e)}_moveToNext(e){var t,n;FE(hO,this,yO)?e.target!==jE(eO,this)?null===(t=e.target.nextSibling)||void 0===t||t.focus():null===(n=jE(rO,this).firstChild)||void 0===n||n.focus():OE(hO,this,mO).call(this,e)}_moveToPrevious(e){var t,n;e.target!==(null===(t=jE(rO,this))||void 0===t?void 0:t.firstChild)&&e.target!==jE(eO,this)?(FE(hO,this,yO)||OE(hO,this,mO).call(this,e),null===(n=e.target.previousSibling)||void 0===n||n.focus()):FE(hO,this,yO)&&this._hideDropdownFromKeyboard()}_moveToBeginning(e){var t;FE(hO,this,yO)?null===(t=jE(rO,this).firstChild)||void 0===t||t.focus():OE(hO,this,mO).call(this,e)}_moveToEnd(e){var t;FE(hO,this,yO)?null===(t=jE(rO,this).lastChild)||void 0===t||t.focus():OE(hO,this,mO).call(this,e)}hideDropdown(){var e,t;null===(e=jE(rO,this))||void 0===e||e.classList.add("hidden"),null===(t=jE(lO,this))||void 0===t||t.abort(),BE(lO,this,null)}_hideDropdownFromKeyboard(){var e;jE(sO,this)||(FE(hO,this,yO)?(this.hideDropdown(),jE(eO,this).focus({preventScroll:!0,focusVisible:jE(iO,this)})):null===(e=jE(aO,this))||void 0===e||e.unselect())}updateColor(e){if(jE(tO,this)&&(jE(tO,this).style.backgroundColor=e),!jE(rO,this))return;const t=jE(cO,this).highlightColors.values();for(const n of jE(rO,this).children)n.setAttribute("aria-selected",t.next().value===e)}destroy(){var e,t;null===(e=jE(eO,this))||void 0===e||e.remove(),BE(eO,this,null),BE(tO,this,null),null===(t=jE(rO,this))||void 0===t||t.remove(),BE(rO,this,null)}}function pO(){const e=document.createElement("div"),t=jE(cO,this)._signal;e.addEventListener("contextmenu",Hk,{signal:t}),e.className="dropdown",e.role="listbox",e.setAttribute("aria-multiselectable",!1),e.setAttribute("aria-orientation","vertical"),e.setAttribute("data-l10n-id","pdfjs-editor-colorpicker-dropdown");for(const[n,r]of jE(cO,this).highlightColors){const i=document.createElement("button");i.tabIndex="0",i.role="option",i.setAttribute("data-color",r),i.title=n,i.setAttribute("data-l10n-id",bO._[n]);const s=document.createElement("span");i.append(s),s.className="swatch",s.style.backgroundColor=r,i.setAttribute("aria-selected",r===jE(nO,this)),i.addEventListener("click",OE(hO,this,fO).bind(this,r),{signal:t}),e.append(i)}return e.addEventListener("keydown",OE(hO,this,gO).bind(this),{signal:t}),e}function fO(e,t){t.stopPropagation(),jE(oO,this).dispatch("switchannotationeditorparams",{source:this,type:jE(uO,this),value:e})}function gO(e){KE._keyboardManager.exec(this,e)}function mO(e){if(FE(hO,this,yO))return void this.hideDropdown();if(BE(iO,this,0===e.detail),jE(lO,this)||(BE(lO,this,new AbortController),window.addEventListener("pointerdown",OE(hO,this,vO).bind(this),{signal:jE(cO,this).combinedSignal(jE(lO,this))})),jE(rO,this))return void jE(rO,this).classList.remove("hidden");const t=BE(rO,this,OE(hO,this,pO).call(this));jE(eO,this).append(t)}function vO(e){var t;null!==(t=jE(rO,this))&&void 0!==t&&t.contains(e.target)||this.hideDropdown()}function yO(e){return jE(rO,e)&&!jE(rO,e).classList.contains("hidden")}KE=dO;var bO={_:null},wO=new WeakMap,_O=new WeakMap,SO=new WeakMap,EO=new WeakMap,AO=new WeakMap,kO=new WeakMap,xO=new WeakMap,CO=new WeakMap,TO=new WeakMap,IO=new WeakMap,RO=new WeakMap,MO=new WeakMap,PO=new WeakMap,NO=new WeakMap,LO=new WeakMap,DO=new WeakMap,OO=new WeakMap,FO=new WeakMap,jO=new WeakSet;class BO extends LT{static get _keyboardManager(){const e=BO.prototype;return rk(this,"_keyboardManager",new Fx([[["ArrowLeft","mac+ArrowLeft"],e._moveCaret,{args:[0]}],[["ArrowRight","mac+ArrowRight"],e._moveCaret,{args:[1]}],[["ArrowUp","mac+ArrowUp"],e._moveCaret,{args:[2]}],[["ArrowDown","mac+ArrowDown"],e._moveCaret,{args:[3]}]]))}constructor(e){super(p(p({},e),{},{name:"highlightEditor"})),LE(this,jO),DE(this,wO,null),DE(this,_O,0),DE(this,SO,void 0),DE(this,EO,null),DE(this,AO,null),DE(this,kO,null),DE(this,xO,null),DE(this,CO,0),DE(this,TO,null),DE(this,IO,null),DE(this,RO,null),DE(this,MO,!1),DE(this,PO,null),DE(this,NO,void 0),DE(this,LO,null),DE(this,DO,""),DE(this,OO,void 0),DE(this,FO,""),this.color=e.color||BO._defaultColor,BE(OO,this,e.thickness||BO._defaultThickness),BE(NO,this,e.opacity||BO._defaultOpacity),BE(SO,this,e.boxes||null),BE(FO,this,e.methodOfCreation||""),BE(DO,this,e.text||""),this._isDraggable=!1,e.highlightId>-1?(BE(MO,this,!0),OE(jO,this,VO).call(this,e),OE(jO,this,GO).call(this)):jE(SO,this)&&(BE(wO,this,e.anchorNode),BE(_O,this,e.anchorOffset),BE(xO,this,e.focusNode),BE(CO,this,e.focusOffset),OE(jO,this,zO).call(this),OE(jO,this,GO).call(this),this.rotate(this.rotation))}get telemetryInitialData(){return{action:"added",type:jE(MO,this)?"free_highlight":"highlight",color:this._uiManager.highlightColorNames.get(this.color),thickness:jE(OO,this),methodOfCreation:jE(FO,this)}}get telemetryFinalData(){return{type:"highlight",color:this._uiManager.highlightColorNames.get(this.color)}}static computeTelemetryFinalData(e){return{numberOfColors:e.get("color").size}}static initialize(e,t){var n;LT.initialize(e,t),BO._defaultColor||(BO._defaultColor=(null===(n=t.highlightColors)||void 0===n?void 0:n.values().next().value)||"#fff066")}static updateDefaultParams(e,t){switch(e){case fA.HIGHLIGHT_DEFAULT_COLOR:BO._defaultColor=t;break;case fA.HIGHLIGHT_THICKNESS:BO._defaultThickness=t}}translateInPage(e,t){}get toolbarPosition(){return jE(PO,this)}updateParams(e,t){switch(e){case fA.HIGHLIGHT_COLOR:OE(jO,this,UO).call(this,t);break;case fA.HIGHLIGHT_THICKNESS:OE(jO,this,WO).call(this,t)}}static get defaultPropertiesToUpdate(){return[[fA.HIGHLIGHT_DEFAULT_COLOR,BO._defaultColor],[fA.HIGHLIGHT_THICKNESS,BO._defaultThickness]]}get propertiesToUpdate(){return[[fA.HIGHLIGHT_COLOR,this.color||BO._defaultColor],[fA.HIGHLIGHT_THICKNESS,jE(OO,this)||BO._defaultThickness],[fA.HIGHLIGHT_FREE,jE(MO,this)]]}async addEditToolbar(){const e=await super.addEditToolbar();return e?(this._uiManager.highlightColors&&(BE(AO,this,new dO({editor:this})),e.addColorPicker(jE(AO,this))),e):null}disableEditing(){super.disableEditing(),this.div.classList.toggle("disabled",!0)}enableEditing(){super.enableEditing(),this.div.classList.toggle("disabled",!1)}fixAndSetPosition(){return super.fixAndSetPosition(OE(jO,this,YO).call(this))}getBaseTranslation(){return[0,0]}getRect(e,t){return super.getRect(e,t,OE(jO,this,YO).call(this))}onceAdded(){this.annotationElementId||this.parent.addUndoableEditor(this),this.div.focus()}remove(){OE(jO,this,qO).call(this),this._reportTelemetry({action:"deleted"}),super.remove()}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(OE(jO,this,GO).call(this),this.isAttachedToDOM||this.parent.add(this)))}setParent(e){let t=!1;if(this.parent&&!e)OE(jO,this,qO).call(this);else if(e){var n;OE(jO,this,GO).call(this,e),t=!this.parent&&(null===(n=this.div)||void 0===n?void 0:n.classList.contains("selectedEditor"))}super.setParent(e),this.show(this._isVisible),t&&this.select()}rotate(e){const{drawLayer:t}=this.parent;let n;jE(MO,this)?(e=(e-this.rotation+360)%360,n=KO.call(BO,jE(IO,this).box,e)):n=KO.call(BO,this,e),t.rotate(jE(RO,this),e),t.rotate(jE(LO,this),e),t.updateBox(jE(RO,this),n),t.updateBox(jE(LO,this),KO.call(BO,jE(kO,this).box,e))}render(){if(this.div)return this.div;const e=super.render();jE(DO,this)&&(e.setAttribute("aria-label",jE(DO,this)),e.setAttribute("role","mark")),jE(MO,this)?e.classList.add("free"):this.div.addEventListener("keydown",OE(jO,this,XO).bind(this),{signal:this._uiManager._signal});const t=BE(TO,this,document.createElement("div"));e.append(t),t.setAttribute("aria-hidden","true"),t.className="internal",t.style.clipPath=jE(EO,this);const[n,r]=this.parentDimensions;return this.setDims(this.width*n,this.height*r),Sx(this,jE(TO,this),["pointerover","pointerleave"]),this.enableEditing(),e}pointerover(){this.isSelected||this.parent.drawLayer.addClass(jE(LO,this),"hovered")}pointerleave(){this.isSelected||this.parent.drawLayer.removeClass(jE(LO,this),"hovered")}_moveCaret(e){switch(this.parent.unselect(this),e){case 0:case 2:OE(jO,this,QO).call(this,!0);break;case 1:case 3:OE(jO,this,QO).call(this,!1)}}select(){var e,t;super.select(),jE(LO,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(jE(LO,this),"hovered"),null===(t=this.parent)||void 0===t||t.drawLayer.addClass(jE(LO,this),"selected"))}unselect(){var e;super.unselect(),jE(LO,this)&&(null===(e=this.parent)||void 0===e||e.drawLayer.removeClass(jE(LO,this),"selected"),jE(MO,this)||OE(jO,this,QO).call(this,!1))}get _mustFixPosition(){return!jE(MO,this)}show(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._isVisible;super.show(e),this.parent&&(this.parent.drawLayer.show(jE(RO,this),e),this.parent.drawLayer.show(jE(LO,this),e))}static startHighlighting(e,t,n){let{target:r,x:i,y:s}=n;const{x:a,y:o,width:l,height:c}=r.getBoundingClientRect(),u=new AbortController,h=e.combinedSignal(u),d=t=>{u.abort(),OE(BO,this,eF).call(this,e,t)};window.addEventListener("blur",d,{signal:h}),window.addEventListener("pointerup",d,{signal:h}),window.addEventListener("pointerdown",(e=>{e.preventDefault(),e.stopPropagation()}),{capture:!0,passive:!1,signal:h}),window.addEventListener("contextmenu",Hk,{signal:h}),r.addEventListener("pointermove",OE(BO,this,ZO).bind(this,e),{signal:h}),this._freeHighlight=new $D({x:i,y:s},[a,o,l,c],e.scale,this._defaultThickness/2,t,.001),({id:this._freeHighlightId,clipPathId:this._freeHighlightClipId}=e.drawLayer.draw(this._freeHighlight,this._defaultColor,this._defaultOpacity,!0))}static async deserialize(e,t,n){let r=null;if(e instanceof SL){const{data:{quadPoints:t,rect:n,rotation:i,id:s,color:a,opacity:o,popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:pA.HIGHLIGHT,color:Array.from(a),opacity:o,quadPoints:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:s,deleted:!1,popupRef:l}}else if(e instanceof _L){const{data:{inkLists:t,rect:n,rotation:i,id:s,color:a,borderStyle:{rawWidth:o},popupRef:l},parent:{page:{pageNumber:c}}}=e;r=e={annotationType:pA.HIGHLIGHT,color:Array.from(a),thickness:o,inkLists:t,boxes:null,pageIndex:c-1,rect:n.slice(0),rotation:i,id:s,deleted:!1,popupRef:l}}const{color:i,quadPoints:s,inkLists:a,opacity:o}=e,l=await super.deserialize(e,t,n);l.color=vk.makeHexColor(...i),BE(NO,l,o||1),a&&BE(OO,l,e.thickness),l.annotationElementId=e.id||null,l._initialData=r;const[c,u]=l.pageDimensions,[h,d]=l.pageTranslation;if(s){const e=BE(SO,l,[]);for(let t=0;t<s.length;t+=8)e.push({x:(s[t]-h)/c,y:1-(s[t+1]-d)/u,width:(s[t+2]-s[t])/c,height:(s[t+1]-s[t+5])/u});OE(jO,l,zO).call(l),OE(jO,l,GO).call(l),l.rotate(l.rotation)}else if(a){BE(MO,l,!0);const e=a[0],n={x:e[0]-h,y:u-(e[1]-d)},r=new $D(n,[0,0,c,u],1,jE(OO,l)/2,!0,.001);for(let t=0,a=e.length;t<a;t+=2)n.x=e[t]-h,n.y=u-(e[t+1]-d),r.add(n);const{id:i,clipPathId:s}=t.drawLayer.draw(r,l.color,l._defaultOpacity,!0);OE(jO,l,VO).call(l,{highlightOutlines:r.getOutlines(),highlightId:i,clipPathId:s}),OE(jO,l,GO).call(l)}return l}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty()||e)return null;if(this.deleted)return this.serializeDeleted();const t=this.getRect(0,0),n=LT._colorManager.convert(this.color),r={annotationType:pA.HIGHLIGHT,color:n,opacity:jE(NO,this),thickness:jE(OO,this),quadPoints:OE(jO,this,JO).call(this),outlines:OE(jO,this,$O).call(this,t),pageIndex:this.pageIndex,rect:t,rotation:OE(jO,this,YO).call(this),structTreeParentId:this._structTreeParentId};return this.annotationElementId&&!OE(jO,this,tF).call(this,r)?null:(r.id=this.annotationElementId,r)}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}static canCreateNewEmptyEditor(){return!1}}function zO(){const e=new WD(jE(SO,this),.001);BE(IO,this,e.getOutlines()),({x:this.x,y:this.y,width:this.width,height:this.height}=jE(IO,this).box);const t=new WD(jE(SO,this),.0025,.001,"ltr"===this._uiManager.direction);BE(kO,this,t.getOutlines());const{lastPoint:n}=jE(kO,this).box;BE(PO,this,[(n[0]-this.x)/this.width,(n[1]-this.y)/this.height])}function VO(e){let{highlightOutlines:t,highlightId:n,clipPathId:r}=e;BE(IO,this,t);if(BE(kO,this,t.getNewOutline(jE(OO,this)/2+1.5,.0025)),n>=0)BE(RO,this,n),BE(EO,this,r),this.parent.drawLayer.finalizeLine(n,t),BE(LO,this,this.parent.drawLayer.drawOutline(jE(kO,this)));else if(this.parent){const e=this.parent.viewport.rotation;this.parent.drawLayer.updateLine(jE(RO,this),t),this.parent.drawLayer.updateBox(jE(RO,this),KO.call(XE,jE(IO,this).box,(e-this.rotation+360)%360)),this.parent.drawLayer.updateLine(jE(LO,this),jE(kO,this)),this.parent.drawLayer.updateBox(jE(LO,this),KO.call(XE,jE(kO,this).box,e))}const{x:i,y:s,width:a,height:o}=t.box;switch(this.rotation){case 0:this.x=i,this.y=s,this.width=a,this.height=o;break;case 90:{const[e,t]=this.parentDimensions;this.x=s,this.y=1-i,this.width=a*t/e,this.height=o*e/t;break}case 180:this.x=1-i,this.y=1-s,this.width=a,this.height=o;break;case 270:{const[e,t]=this.parentDimensions;this.x=1-s,this.y=i,this.width=a*t/e,this.height=o*e/t;break}}const{lastPoint:l}=jE(kO,this).box;BE(PO,this,[(l[0]-i)/a,(l[1]-s)/o])}function UO(e){const t=(e,t)=>{var n,r,i;this.color=e,null===(n=this.parent)||void 0===n||n.drawLayer.changeColor(jE(RO,this),e),null===(r=jE(AO,this))||void 0===r||r.updateColor(e),BE(NO,this,t),null===(i=this.parent)||void 0===i||i.drawLayer.changeOpacity(jE(RO,this),t)},n=this.color,r=jE(NO,this);this.addCommands({cmd:t.bind(this,e,XE._defaultOpacity),undo:t.bind(this,n,r),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.HIGHLIGHT_COLOR,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"color_changed",color:this._uiManager.highlightColorNames.get(e)},!0)}function WO(e){const t=jE(OO,this),n=e=>{BE(OO,this,e),OE(jO,this,HO).call(this,e)};this.addCommands({cmd:n.bind(this,e),undo:n.bind(this,t),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0}),this._reportTelemetry({action:"thickness_changed",thickness:e},!0)}function HO(e){if(!jE(MO,this))return;OE(jO,this,VO).call(this,{highlightOutlines:jE(IO,this).getNewOutline(e/2)}),this.fixAndSetPosition();const[t,n]=this.parentDimensions;this.setDims(this.width*t,this.height*n)}function qO(){null!==jE(RO,this)&&this.parent&&(this.parent.drawLayer.remove(jE(RO,this)),BE(RO,this,null),this.parent.drawLayer.remove(jE(LO,this)),BE(LO,this,null))}function GO(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this.parent;null===jE(RO,this)&&(({id:PE(BE,[RO,this])._,clipPathId:PE(BE,[EO,this])._}=e.drawLayer.draw(jE(IO,this),this.color,jE(NO,this))),BE(LO,this,e.drawLayer.drawOutline(jE(kO,this))),jE(TO,this)&&(jE(TO,this).style.clipPath=jE(EO,this)))}function KO(e,t){let{x:n,y:r,width:i,height:s}=e;switch(t){case 90:return{x:1-r-s,y:n,width:s,height:i};case 180:return{x:1-n-i,y:1-r-s,width:i,height:s};case 270:return{x:r,y:1-n-i,width:s,height:i}}return{x:n,y:r,width:i,height:s}}function XO(e){XE._keyboardManager.exec(this,e)}function QO(e){if(!jE(wO,this))return;const t=window.getSelection();e?t.setPosition(jE(wO,this),jE(_O,this)):t.setPosition(jE(xO,this),jE(CO,this))}function YO(){return jE(MO,this)?this.rotation:0}function JO(){if(jE(MO,this))return null;const[e,t]=this.pageDimensions,[n,r]=this.pageTranslation,i=jE(SO,this),s=new Float32Array(8*i.length);let a=0;for(const{x:o,y:l,width:c,height:u}of i){const i=o*e+n,h=(1-l-u)*t+r;s[a]=s[a+4]=i,s[a+1]=s[a+3]=h,s[a+2]=s[a+6]=i+c*e,s[a+5]=s[a+7]=h+u*t,a+=8}return s}function $O(e){return jE(IO,this).serialize(e,OE(jO,this,YO).call(this))}function ZO(e,t){this._freeHighlight.add(t)&&e.drawLayer.updatePath(this._freeHighlightId,this._freeHighlight)}function eF(e,t){this._freeHighlight.isEmpty()?e.drawLayer.remove(this._freeHighlightId):e.createAndAddNewEditor(t,!1,{highlightId:this._freeHighlightId,highlightOutlines:this._freeHighlight.getOutlines(),clipPathId:this._freeHighlightClipId,methodOfCreation:"main_toolbar"}),this._freeHighlightId=-1,this._freeHighlight=null,this._freeHighlightClipId=""}function tF(e){const{color:t}=this._initialData;return e.color.some(((e,n)=>e!==t[n]))}XE=BO,h(BO,"_defaultColor",null),h(BO,"_defaultOpacity",1),h(BO,"_defaultThickness",12),h(BO,"_type","highlight"),h(BO,"_editorType",pA.HIGHLIGHT),h(BO,"_freeHighlightId",-1),h(BO,"_freeHighlight",null),h(BO,"_freeHighlightClipId","");var nF=new WeakMap,rF=new WeakMap,iF=new WeakMap,sF=new WeakMap,aF=new WeakMap,oF=new WeakMap,lF=new WeakMap,cF=new WeakMap,uF=new WeakMap,hF=new WeakMap,dF=new WeakMap,pF=new WeakMap,fF=new WeakMap,gF=new WeakSet;class mF extends LT{constructor(e){super(p(p({},e),{},{name:"inkEditor"})),LE(this,gF),DE(this,nF,0),DE(this,rF,0),DE(this,iF,null),DE(this,sF,new Path2D),DE(this,aF,!1),DE(this,oF,null),DE(this,lF,!1),DE(this,cF,!1),DE(this,uF,null),DE(this,hF,null),DE(this,dF,0),DE(this,pF,0),DE(this,fF,null),this.color=e.color||null,this.thickness=e.thickness||null,this.opacity=e.opacity||null,this.paths=[],this.bezierPath2D=[],this.allRawPaths=[],this.currentPath=[],this.scaleFactor=1,this.translationX=this.translationY=0,this.x=0,this.y=0,this._willKeepAspectRatio=!0}static initialize(e,t){LT.initialize(e,t)}static updateDefaultParams(e,t){switch(e){case fA.INK_THICKNESS:mF._defaultThickness=t;break;case fA.INK_COLOR:mF._defaultColor=t;break;case fA.INK_OPACITY:mF._defaultOpacity=t/100}}updateParams(e,t){switch(e){case fA.INK_THICKNESS:OE(gF,this,vF).call(this,t);break;case fA.INK_COLOR:OE(gF,this,yF).call(this,t);break;case fA.INK_OPACITY:OE(gF,this,bF).call(this,t)}}static get defaultPropertiesToUpdate(){return[[fA.INK_THICKNESS,mF._defaultThickness],[fA.INK_COLOR,mF._defaultColor||LT._defaultLineColor],[fA.INK_OPACITY,Math.round(100*mF._defaultOpacity)]]}get propertiesToUpdate(){var e;return[[fA.INK_THICKNESS,this.thickness||mF._defaultThickness],[fA.INK_COLOR,this.color||mF._defaultColor||LT._defaultLineColor],[fA.INK_OPACITY,Math.round(100*(null!==(e=this.opacity)&&void 0!==e?e:mF._defaultOpacity))]]}rebuild(){this.parent&&(super.rebuild(),null!==this.div&&(this.canvas||(OE(gF,this,NF).call(this),OE(gF,this,LF).call(this)),this.isAttachedToDOM||(this.parent.add(this),OE(gF,this,DF).call(this)),OE(gF,this,HF).call(this)))}remove(){var e;null!==this.canvas&&(this.isEmpty()||this.commit(),this.canvas.width=this.canvas.height=0,this.canvas.remove(),this.canvas=null,jE(iF,this)&&(clearTimeout(jE(iF,this)),BE(iF,this,null)),null===(e=jE(uF,this))||void 0===e||e.disconnect(),BE(uF,this,null),super.remove())}setParent(e){!this.parent&&e?this._uiManager.removeShouldRescale(this):this.parent&&null===e&&this._uiManager.addShouldRescale(this),super.setParent(e)}onScaleChanging(){const[e,t]=this.parentDimensions,n=this.width*e,r=this.height*t;this.setDimensions(n,r)}enableEditMode(){jE(aF,this)||null===this.canvas||(super.enableEditMode(),this._isDraggable=!1,OE(gF,this,RF).call(this))}disableEditMode(){this.isInEditMode()&&null!==this.canvas&&(super.disableEditMode(),this._isDraggable=!this.isEmpty(),this.div.classList.remove("editing"),OE(gF,this,MF).call(this))}onceAdded(){this._isDraggable=!this.isEmpty()}isEmpty(){return 0===this.paths.length||1===this.paths.length&&0===this.paths[0].length}commit(){jE(aF,this)||(super.commit(),this.isEditing=!1,this.disableEditMode(),this.setInForeground(),BE(aF,this,!0),this.div.classList.add("disabled"),OE(gF,this,HF).call(this,!0),this.select(),this.parent.addInkEditorIfNeeded(!0),this.moveInDOM(),this.div.focus({preventScroll:!0}))}focusin(e){this._focusEventsAllowed&&(super.focusin(e),this.enableEditMode())}canvasPointerdown(e){0===e.button&&this.isInEditMode()&&!jE(aF,this)&&(this.setInForeground(),e.preventDefault(),this.div.contains(document.activeElement)||this.div.focus({preventScroll:!0}),OE(gF,this,SF).call(this,e.offsetX,e.offsetY))}canvasPointermove(e){e.preventDefault(),OE(gF,this,EF).call(this,e.offsetX,e.offsetY)}canvasPointerup(e){e.preventDefault(),OE(gF,this,PF).call(this,e)}canvasPointerleave(e){OE(gF,this,PF).call(this,e)}get isResizable(){return!this.isEmpty()&&jE(aF,this)}render(){if(this.div)return this.div;let e,t;this.width&&(e=this.x,t=this.y),super.render(),this.div.setAttribute("data-l10n-id","pdfjs-ink");const[n,r,i,s]=OE(gF,this,wF).call(this);if(this.setAt(n,r,0,0),this.setDims(i,s),OE(gF,this,NF).call(this),this.width){const[n,r]=this.parentDimensions;this.setAspectRatio(this.width*n,this.height*r),this.setAt(e*n,t*r,this.width*n,this.height*r),BE(cF,this,!0),OE(gF,this,DF).call(this),this.setDims(this.width*n,this.height*r),OE(gF,this,IF).call(this),this.div.classList.add("disabled")}else this.div.classList.add("editing"),this.enableEditMode();return OE(gF,this,LF).call(this),this.div}setDimensions(e,t){const n=Math.round(e),r=Math.round(t);if(jE(dF,this)===n&&jE(pF,this)===r)return;BE(dF,this,n),BE(pF,this,r),this.canvas.style.visibility="hidden";const[i,s]=this.parentDimensions;this.width=e/i,this.height=t/s,this.fixAndSetPosition(),jE(aF,this)&&OE(gF,this,OF).call(this,e,t),OE(gF,this,DF).call(this),OE(gF,this,IF).call(this),this.canvas.style.visibility="visible",this.fixDims()}static async deserialize(e,t,n){if(e instanceof _L)return null;const r=await super.deserialize(e,t,n);r.thickness=e.thickness,r.color=vk.makeHexColor(...e.color),r.opacity=e.opacity;const[i,s]=r.pageDimensions,a=r.width*i,o=r.height*s,l=r.parentScale,c=e.thickness/2;BE(aF,r,!0),BE(dF,r,Math.round(a)),BE(pF,r,Math.round(o));const{paths:u,rect:h,rotation:d}=e;for(let{bezier:f}of u){f=zF.call(mF,f,h,d);const e=[];r.paths.push(e);let t=l*(f[0]-c),n=l*(f[1]-c);for(let r=2,s=f.length;r<s;r+=6){const i=l*(f[r]-c),s=l*(f[r+1]-c),a=l*(f[r+2]-c),o=l*(f[r+3]-c),u=l*(f[r+4]-c),h=l*(f[r+5]-c);e.push([[t,n],[i,s],[a,o],[u,h]]),t=u,n=h}const i=OE(mF,this,jF).call(this,e);r.bezierPath2D.push(i)}const p=OE(gF,r,UF).call(r);return BE(rF,r,Math.max(LT.MIN_SIZE,p[2]-p[0])),BE(nF,r,Math.max(LT.MIN_SIZE,p[3]-p[1])),OE(gF,r,OF).call(r,a,o),r}serialize(){if(this.isEmpty())return null;const e=this.getRect(0,0),t=LT._colorManager.convert(this.ctx.strokeStyle);return{annotationType:pA.INK,color:t,thickness:this.thickness,opacity:this.opacity,paths:OE(gF,this,VF).call(this,this.scaleFactor/this.parentScale,this.translationX,this.translationY,e),pageIndex:this.pageIndex,rect:e,rotation:this.rotation,structTreeParentId:this._structTreeParentId}}}function vF(e){const t=e=>{this.thickness=e,OE(gF,this,HF).call(this)},n=this.thickness;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.INK_THICKNESS,overwriteIfSameType:!0,keepUndo:!0})}function yF(e){const t=e=>{this.color=e,OE(gF,this,IF).call(this)},n=this.color;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.INK_COLOR,overwriteIfSameType:!0,keepUndo:!0})}function bF(e){const t=e=>{this.opacity=e,OE(gF,this,IF).call(this)};e/=100;const n=this.opacity;this.addCommands({cmd:t.bind(this,e),undo:t.bind(this,n),post:this._uiManager.updateUI.bind(this._uiManager,this),mustExec:!0,type:fA.INK_OPACITY,overwriteIfSameType:!0,keepUndo:!0})}function wF(){const{parentRotation:e,parentDimensions:[t,n]}=this;switch(e){case 90:return[0,n,n,t];case 180:return[t,n,t,n];case 270:return[t,0,n,t];default:return[0,0,t,n]}}function _F(){const{ctx:e,color:t,opacity:n,thickness:r,parentScale:i,scaleFactor:s}=this;e.lineWidth=r*i/s,e.lineCap="round",e.lineJoin="round",e.miterLimit=10,e.strokeStyle="".concat(t).concat(function(e){return Math.round(Math.min(255,Math.max(1,255*e))).toString(16).padStart(2,"0")}(n))}function SF(e,t){this.canvas.addEventListener("contextmenu",Hk,{signal:this._uiManager._signal}),OE(gF,this,MF).call(this),BE(oF,this,new AbortController);const n=this._uiManager.combinedSignal(jE(oF,this));var r;(this.canvas.addEventListener("pointerleave",this.canvasPointerleave.bind(this),{signal:n}),this.canvas.addEventListener("pointermove",this.canvasPointermove.bind(this),{signal:n}),this.canvas.addEventListener("pointerup",this.canvasPointerup.bind(this),{signal:n}),this.isEditing=!0,jE(cF,this))||(BE(cF,this,!0),OE(gF,this,DF).call(this),this.thickness||(this.thickness=QE._defaultThickness),this.color||(this.color=QE._defaultColor||LT._defaultLineColor),null!==(r=this.opacity)&&void 0!==r||(this.opacity=QE._defaultOpacity));this.currentPath.push([e,t]),BE(lF,this,!1),OE(gF,this,_F).call(this),BE(fF,this,(()=>{OE(gF,this,xF).call(this),jE(fF,this)&&window.requestAnimationFrame(jE(fF,this))})),window.requestAnimationFrame(jE(fF,this))}function EF(e,t){const[n,r]=this.currentPath.at(-1);if(this.currentPath.length>1&&e===n&&t===r)return;const i=this.currentPath;let s=jE(sF,this);if(i.push([e,t]),BE(lF,this,!0),i.length<=2)return s.moveTo(...i[0]),void s.lineTo(e,t);3===i.length&&(BE(sF,this,s=new Path2D),s.moveTo(...i[0])),OE(gF,this,CF).call(this,s,...i.at(-3),...i.at(-2),e,t)}function AF(){if(0===this.currentPath.length)return;const e=this.currentPath.at(-1);jE(sF,this).lineTo(...e)}function kF(e,t){let n;if(BE(fF,this,null),e=Math.min(Math.max(e,0),this.canvas.width),t=Math.min(Math.max(t,0),this.canvas.height),OE(gF,this,EF).call(this,e,t),OE(gF,this,AF).call(this),1!==this.currentPath.length)n=OE(gF,this,TF).call(this);else{const r=[e,t];n=[[r,r.slice(),r.slice(),r]]}const r=jE(sF,this),i=this.currentPath;this.currentPath=[],BE(sF,this,new Path2D);this.addCommands({cmd:()=>{this.allRawPaths.push(i),this.paths.push(n),this.bezierPath2D.push(r),this._uiManager.rebuild(this)},undo:()=>{this.allRawPaths.pop(),this.paths.pop(),this.bezierPath2D.pop(),0===this.paths.length?this.remove():(this.canvas||(OE(gF,this,NF).call(this),OE(gF,this,LF).call(this)),OE(gF,this,HF).call(this))},mustExec:!0})}function xF(){if(!jE(lF,this))return;BE(lF,this,!1);const e=Math.ceil(this.thickness*this.parentScale),t=this.currentPath.slice(-3),n=t.map((e=>e[0])),r=t.map((e=>e[1])),{ctx:i}=(Math.min(...n),Math.max(...n),Math.min(...r),Math.max(...r),this);i.save(),i.clearRect(0,0,this.canvas.width,this.canvas.height);for(const s of this.bezierPath2D)i.stroke(s);i.stroke(jE(sF,this)),i.restore()}function CF(e,t,n,r,i,s,a){const o=(t+r)/2,l=(n+i)/2,c=(r+s)/2,u=(i+a)/2;e.bezierCurveTo(o+2*(r-o)/3,l+2*(i-l)/3,c+2*(r-c)/3,u+2*(i-u)/3,c,u)}function TF(){const e=this.currentPath;if(e.length<=2)return[[e[0],e[0],e.at(-1),e.at(-1)]];const t=[];let n,[r,i]=e[0];for(n=1;n<e.length-2;n++){const[s,a]=e[n],[o,l]=e[n+1],c=(s+o)/2,u=(a+l)/2,h=[r+2*(s-r)/3,i+2*(a-i)/3],d=[c+2*(s-c)/3,u+2*(a-u)/3];t.push([[r,i],h,d,[c,u]]),[r,i]=[c,u]}const[s,a]=e[n],[o,l]=e[n+1],c=[r+2*(s-r)/3,i+2*(a-i)/3],u=[o+2*(s-o)/3,l+2*(a-l)/3];return t.push([[r,i],c,u,[o,l]]),t}function IF(){if(this.isEmpty())return void OE(gF,this,FF).call(this);OE(gF,this,_F).call(this);const{canvas:e,ctx:t}=this;t.setTransform(1,0,0,1,0,0),t.clearRect(0,0,e.width,e.height),OE(gF,this,FF).call(this);for(const n of this.bezierPath2D)t.stroke(n)}function RF(){if(jE(hF,this))return;BE(hF,this,new AbortController);const e=this._uiManager.combinedSignal(jE(hF,this));this.canvas.addEventListener("pointerdown",this.canvasPointerdown.bind(this),{signal:e})}function MF(){var e;null===(e=this.pointerdownAC)||void 0===e||e.abort(),this.pointerdownAC=null}function PF(e){var t;null===(t=jE(oF,this))||void 0===t||t.abort(),BE(oF,this,null),OE(gF,this,RF).call(this),jE(iF,this)&&clearTimeout(jE(iF,this)),BE(iF,this,setTimeout((()=>{BE(iF,this,null),this.canvas.removeEventListener("contextmenu",Hk)}),10)),OE(gF,this,kF).call(this,e.offsetX,e.offsetY),this.addToAnnotationStorage(),this.setInBackground()}function NF(){this.canvas=document.createElement("canvas"),this.canvas.width=this.canvas.height=0,this.canvas.className="inkEditorCanvas",this.canvas.setAttribute("data-l10n-id","pdfjs-ink-canvas"),this.div.append(this.canvas),this.ctx=this.canvas.getContext("2d")}function LF(){BE(uF,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&this.setDimensions(t.width,t.height)}))),jE(uF,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var e;null===(e=jE(uF,this))||void 0===e||e.disconnect(),BE(uF,this,null)}),{once:!0})}function DF(){if(!jE(cF,this))return;const[e,t]=this.parentDimensions;this.canvas.width=Math.ceil(this.width*e),this.canvas.height=Math.ceil(this.height*t),OE(gF,this,FF).call(this)}function OF(e,t){const n=OE(gF,this,WF).call(this),r=(e-n)/jE(rF,this),i=(t-n)/jE(nF,this);this.scaleFactor=Math.min(r,i)}function FF(){const e=OE(gF,this,WF).call(this)/2;this.ctx.setTransform(this.scaleFactor,0,0,this.scaleFactor,this.translationX*this.scaleFactor+e,this.translationY*this.scaleFactor+e)}function jF(e){const t=new Path2D;for(let n=0,r=e.length;n<r;n++){const[r,i,s,a]=e[n];0===n&&t.moveTo(...r),t.bezierCurveTo(i[0],i[1],s[0],s[1],a[0],a[1])}return t}function BF(e,t,n){const[r,i,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]+=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]+r,e[t+1]=n+i}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]+=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=s-e[t+1],e[t+1]=a-n}break;default:throw new Error("Invalid rotation")}return e}function zF(e,t,n){const[r,i,s,a]=t;switch(n){case 0:for(let t=0,n=e.length;t<n;t+=2)e[t]-=r,e[t+1]=a-e[t+1];break;case 90:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=e[t+1]-i,e[t+1]=n-r}break;case 180:for(let t=0,n=e.length;t<n;t+=2)e[t]=s-e[t],e[t+1]-=i;break;case 270:for(let t=0,n=e.length;t<n;t+=2){const n=e[t];e[t]=a-e[t+1],e[t+1]=s-n}break;default:throw new Error("Invalid rotation")}return e}function VF(e,t,n,r){const i=[],s=this.thickness/2,a=e*t+s,o=e*n+s;for(const l of this.paths){const t=[],n=[];for(let r=0,i=l.length;r<i;r++){const[s,c,u,h]=l[r];if(s[0]===h[0]&&s[1]===h[1]&&1===i){const r=e*s[0]+a,i=e*s[1]+o;t.push(r,i),n.push(r,i);break}const d=e*s[0]+a,p=e*s[1]+o,f=e*c[0]+a,g=e*c[1]+o,m=e*u[0]+a,v=e*u[1]+o,y=e*h[0]+a,b=e*h[1]+o;0===r&&(t.push(d,p),n.push(d,p)),t.push(f,g,m,v,y,b),n.push(f,g),r===i-1&&n.push(y,b)}i.push({bezier:BF.call(QE,t,r,this.rotation),points:BF.call(QE,n,r,this.rotation)})}return i}function UF(){let e=1/0,t=-1/0,n=1/0,r=-1/0;for(const i of this.paths)for(const[s,a,o,l]of i){const i=vk.bezierBoundingBox(...s,...a,...o,...l);e=Math.min(e,i[0]),n=Math.min(n,i[1]),t=Math.max(t,i[2]),r=Math.max(r,i[3])}return[e,n,t,r]}function WF(){return jE(aF,this)?Math.ceil(this.thickness*this.parentScale):0}function HF(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];if(this.isEmpty())return;if(!jE(aF,this))return void OE(gF,this,IF).call(this);const t=OE(gF,this,UF).call(this),n=OE(gF,this,WF).call(this);BE(rF,this,Math.max(LT.MIN_SIZE,t[2]-t[0])),BE(nF,this,Math.max(LT.MIN_SIZE,t[3]-t[1]));const r=Math.ceil(n+jE(rF,this)*this.scaleFactor),i=Math.ceil(n+jE(nF,this)*this.scaleFactor),[s,a]=this.parentDimensions;this.width=r/s,this.height=i/a,this.setAspectRatio(r,i);const o=this.translationX,l=this.translationY;this.translationX=-t[0],this.translationY=-t[1],OE(gF,this,DF).call(this),OE(gF,this,IF).call(this),BE(dF,this,r),BE(pF,this,i),this.setDims(r,i);const c=e?n/this.scaleFactor/2:0;this.translate(o-this.translationX-c,l-this.translationY-c)}QE=mF,h(mF,"_defaultColor",null),h(mF,"_defaultOpacity",1),h(mF,"_defaultThickness",1),h(mF,"_type","ink"),h(mF,"_editorType",pA.INK);var qF=new WeakMap,GF=new WeakMap,KF=new WeakMap,XF=new WeakMap,QF=new WeakMap,YF=new WeakMap,JF=new WeakMap,$F=new WeakMap,ZF=new WeakMap,ej=new WeakMap,tj=new WeakMap,nj=new WeakSet;class rj extends LT{constructor(e){super(p(p({},e),{},{name:"stampEditor"})),LE(this,nj),DE(this,qF,null),DE(this,GF,null),DE(this,KF,null),DE(this,XF,null),DE(this,QF,null),DE(this,YF,""),DE(this,JF,null),DE(this,$F,null),DE(this,ZF,null),DE(this,ej,!1),DE(this,tj,!1),BE(XF,this,e.bitmapUrl),BE(QF,this,e.bitmapFile)}static initialize(e,t){LT.initialize(e,t)}static get supportedTypes(){return rk(this,"supportedTypes",["apng","avif","bmp","gif","jpeg","png","svg+xml","webp","x-icon"].map((e=>"image/".concat(e))))}static get supportedTypesStr(){return rk(this,"supportedTypesStr",this.supportedTypes.join(","))}static isHandlingMimeForPasting(e){return this.supportedTypes.includes(e)}static paste(e,t){t.pasteEditor(pA.STAMP,{bitmapFile:e.getAsFile()})}altTextFinish(){this._uiManager.useNewAltTextFlow&&(this.div.hidden=!1),super.altTextFinish()}get telemetryFinalData(){var e;return{type:"stamp",hasAltText:!(null===(e=this.altTextData)||void 0===e||!e.altText)}}static computeTelemetryFinalData(e){var t,n;const r=e.get("hasAltText");return{hasAltText:null!==(t=r.get(!0))&&void 0!==t?t:0,hasNoAltText:null!==(n=r.get(!1))&&void 0!==n?n:0}}async mlGuessAltText(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,t=!(arguments.length>1&&void 0!==arguments[1])||arguments[1];if(this.hasAltTextData())return null;const{mlManager:n}=this._uiManager;if(!n)throw new Error("No ML.");if(!await n.isEnabledFor("altText"))throw new Error("ML isn't enabled for alt text.");const{data:r,width:i,height:s}=e||this.copyCanvas(null,null,!0).imageData,a=await n.guess({name:"altText",request:{data:r,width:i,height:s,channels:r.length/(i*s)}});if(!a)throw new Error("No response from the AI service.");if(a.error)throw new Error("Error from the AI service.");if(a.cancel)return null;if(!a.output)throw new Error("No valid response from the AI service.");const o=a.output;return await this.setGuessedAltText(o),t&&!this.hasAltTextData()&&(this.altTextData={alt:o,decorative:!1}),o}remove(){var e,t;jE(GF,this)&&(BE(qF,this,null),this._uiManager.imageManager.deleteId(jE(GF,this)),null===(e=jE(JF,this))||void 0===e||e.remove(),BE(JF,this,null),null===(t=jE($F,this))||void 0===t||t.disconnect(),BE($F,this,null),jE(ZF,this)&&(clearTimeout(jE(ZF,this)),BE(ZF,this,null)));super.remove()}rebuild(){this.parent?(super.rebuild(),null!==this.div&&(jE(GF,this)&&null===jE(JF,this)&&OE(nj,this,aj).call(this),this.isAttachedToDOM||this.parent.add(this))):jE(GF,this)&&OE(nj,this,aj).call(this)}onceAdded(){this._isDraggable=!0,this.div.focus()}isEmpty(){return!(jE(KF,this)||jE(qF,this)||jE(XF,this)||jE(QF,this)||jE(GF,this))}get isResizable(){return!0}render(){if(this.div)return this.div;let e,t;if(this.width&&(e=this.x,t=this.y),super.render(),this.div.hidden=!0,this.div.setAttribute("role","figure"),this.addAltTextButton(),jE(qF,this)?OE(nj,this,oj).call(this):OE(nj,this,aj).call(this),this.width&&!this.annotationElementId){const[n,r]=this.parentDimensions;this.setAt(e*n,t*r,this.width*n,this.height*r)}return this.div}copyCanvas(e,t){let n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e||(e=224);const{width:r,height:i}=jE(qF,this),s=new Zk;let a=jE(qF,this),o=r,l=i,c=null;if(t){var u,h;if(r>t||i>t){const e=Math.min(t/r,t/i);o=Math.floor(r*e),l=Math.floor(i*e)}c=document.createElement("canvas");const e=c.width=Math.ceil(o*s.sx),n=c.height=Math.ceil(l*s.sy);jE(ej,this)||(a=OE(nj,this,cj).call(this,e,n));const d=c.getContext("2d");d.filter=this._uiManager.hcmFilter;let p="white",f="#cfcfd8";"none"!==this._uiManager.hcmFilter?f="black":null!==(u=(h=window).matchMedia)&&void 0!==u&&u.call(h,"(prefers-color-scheme: dark)").matches&&(p="#8f8f9d",f="#42414d");const g=15,m=g*s.sx,v=g*s.sy,y=new OffscreenCanvas(2*m,2*v),b=y.getContext("2d");b.fillStyle=p,b.fillRect(0,0,2*m,2*v),b.fillStyle=f,b.fillRect(0,0,m,v),b.fillRect(m,v,m,v),d.fillStyle=d.createPattern(y,"repeat"),d.fillRect(0,0,e,n),d.drawImage(a,0,0,a.width,a.height,0,0,e,n)}let d=null;if(n){let t,n;if(s.symmetric&&a.width<e&&a.height<e)t=a.width,n=a.height;else if(a=jE(qF,this),r>e||i>e){const s=Math.min(e/r,e/i);t=Math.floor(r*s),n=Math.floor(i*s),jE(ej,this)||(a=OE(nj,this,cj).call(this,t,n))}const o=new OffscreenCanvas(t,n).getContext("2d",{willReadFrequently:!0});o.drawImage(a,0,0,a.width,a.height,0,0,t,n),d={width:t,height:n,data:o.getImageData(0,0,t,n).data}}return{canvas:c,width:o,height:l,imageData:d}}getImageForAltText(){return jE(JF,this)}static async deserialize(e,t,n){let r=null;if(e instanceof xL){var i;const{data:{rect:s,rotation:a,id:o,structParent:l,popupRef:c},container:u,parent:{page:{pageNumber:h}}}=e,d=u.querySelector("canvas"),p=n.imageManager.getFromCanvas(u.id,d);d.remove();const f=(null===(i=await t._structTree.getAriaAttributes("".concat(Ek).concat(o)))||void 0===i?void 0:i.get("aria-label"))||"";r=e={annotationType:pA.STAMP,bitmapId:p.id,bitmap:p.bitmap,pageIndex:h-1,rect:s.slice(0),rotation:a,id:o,deleted:!1,accessibilityData:{decorative:!1,altText:f},isSvg:!1,structParent:l,popupRef:c}}const s=await super.deserialize(e,t,n),{rect:a,bitmap:o,bitmapUrl:l,bitmapId:c,isSvg:u,accessibilityData:h}=e;c&&n.imageManager.isValidId(c)?(BE(GF,s,c),o&&BE(qF,s,o)):BE(XF,s,l),BE(ej,s,u);const[d,p]=s.pageDimensions;return s.width=(a[2]-a[0])/d,s.height=(a[3]-a[1])/p,s.annotationElementId=e.id||null,h&&(s.altTextData=h),s._initialData=r,BE(tj,s,!!r),s}serialize(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;if(this.isEmpty())return null;if(this.deleted)return this.serializeDeleted();const n={annotationType:pA.STAMP,bitmapId:jE(GF,this),pageIndex:this.pageIndex,rect:this.getRect(0,0),rotation:this.rotation,isSvg:jE(ej,this),structTreeParentId:this._structTreeParentId};if(e)return n.bitmapUrl=OE(nj,this,hj).call(this,!0),n.accessibilityData=this.serializeAltText(!0),n;const{decorative:r,altText:i}=this.serializeAltText(!1);if(!r&&i&&(n.accessibilityData={type:"Figure",alt:i}),this.annotationElementId){const e=OE(nj,this,pj).call(this,n);if(e.isSame)return null;var s;if(e.isSameAltText)delete n.accessibilityData;else n.accessibilityData.structParent=null!==(s=this._initialData.structParent)&&void 0!==s?s:-1}if(n.id=this.annotationElementId,null===t)return n;t.stamps||(t.stamps=new Map);const a=jE(ej,this)?(n.rect[2]-n.rect[0])*(n.rect[3]-n.rect[1]):null;if(t.stamps.has(jE(GF,this))){if(jE(ej,this)){const e=t.stamps.get(jE(GF,this));a>e.area&&(e.area=a,e.serialized.bitmap.close(),e.serialized.bitmap=OE(nj,this,hj).call(this,!1))}}else t.stamps.set(jE(GF,this),{area:a,serialized:n}),n.bitmap=OE(nj,this,hj).call(this,!1);return n}renderAnnotationElement(e){return e.updateEdited({rect:this.getRect(0,0)}),null}}function ij(e){let t=arguments.length>1&&void 0!==arguments[1]&&arguments[1];e?(BE(qF,this,e.bitmap),t||(BE(GF,this,e.id),BE(ej,this,e.isSvg)),e.file&&BE(YF,this,e.file.name),OE(nj,this,oj).call(this)):this.remove()}function sj(){if(BE(KF,this,null),this._uiManager.enableWaiting(!1),jE(JF,this)){if(this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&jE(qF,this))return this._editToolbar.hide(),void this._uiManager.editAltText(this,!0);if(!this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&jE(qF,this)){this._reportTelemetry({action:"pdfjs.image.image_added",data:{alt_text_modal:!1,alt_text_type:"empty"}});try{this.mlGuessAltText()}catch(e){}}this.div.focus()}}function aj(){if(jE(GF,this))return this._uiManager.enableWaiting(!0),void this._uiManager.imageManager.getFromId(jE(GF,this)).then((e=>OE(nj,this,ij).call(this,e,!0))).finally((()=>OE(nj,this,sj).call(this)));if(jE(XF,this)){const e=jE(XF,this);return BE(XF,this,null),this._uiManager.enableWaiting(!0),void BE(KF,this,this._uiManager.imageManager.getFromUrl(e).then((e=>OE(nj,this,ij).call(this,e))).finally((()=>OE(nj,this,sj).call(this))))}if(jE(QF,this)){const e=jE(QF,this);return BE(QF,this,null),this._uiManager.enableWaiting(!0),void BE(KF,this,this._uiManager.imageManager.getFromFile(e).then((e=>OE(nj,this,ij).call(this,e))).finally((()=>OE(nj,this,sj).call(this))))}const e=document.createElement("input");e.type="file",e.accept=YE.supportedTypesStr;const t=this._uiManager._signal;BE(KF,this,new Promise((n=>{e.addEventListener("change",(async()=>{if(e.files&&0!==e.files.length){this._uiManager.enableWaiting(!0);const t=await this._uiManager.imageManager.getFromFile(e.files[0]);this._reportTelemetry({action:"pdfjs.image.image_selected",data:{alt_text_modal:this._uiManager.useNewAltTextFlow}}),OE(nj,this,ij).call(this,t)}else this.remove();n()}),{signal:t}),e.addEventListener("cancel",(()=>{this.remove(),n()}),{signal:t})})).finally((()=>OE(nj,this,sj).call(this)))),e.click()}function oj(){const{div:e}=this;let{width:t,height:n}=jE(qF,this);const[r,i]=this.pageDimensions,s=.75;if(this.width)t=this.width*r,n=this.height*i;else if(t>s*r||n>s*i){const e=Math.min(s*r/t,s*i/n);t*=e,n*=e}const[a,o]=this.parentDimensions;this.setDims(t*a/r,n*o/i),this._uiManager.enableWaiting(!1);const l=BE(JF,this,document.createElement("canvas"));l.setAttribute("role","img"),this.addContainer(l),this._uiManager.useNewAltTextWhenAddingImage&&this._uiManager.useNewAltTextFlow&&!this.annotationElementId||(e.hidden=!1),OE(nj,this,uj).call(this,t,n),OE(nj,this,dj).call(this),jE(tj,this)||(this.parent.addUndoableEditor(this),BE(tj,this,!0)),this._reportTelemetry({action:"inserted_image"}),jE(YF,this)&&l.setAttribute("aria-label",jE(YF,this))}function lj(e,t){var n;const[r,i]=this.parentDimensions;this.width=e/r,this.height=t/i,null!==(n=this._initialOptions)&&void 0!==n&&n.isCentered?this.center():this.fixAndSetPosition(),this._initialOptions=null,null!==jE(ZF,this)&&clearTimeout(jE(ZF,this));BE(ZF,this,setTimeout((()=>{BE(ZF,this,null),OE(nj,this,uj).call(this,e,t)}),200))}function cj(e,t){const{width:n,height:r}=jE(qF,this);let i=n,s=r,a=jE(qF,this);for(;i>2*e||s>2*t;){const n=i,r=s;i>2*e&&(i=i>=16384?Math.floor(i/2)-1:Math.ceil(i/2)),s>2*t&&(s=s>=16384?Math.floor(s/2)-1:Math.ceil(s/2));const o=new OffscreenCanvas(i,s);o.getContext("2d").drawImage(a,0,0,n,r,0,0,i,s),a=o.transferToImageBitmap()}return a}function uj(e,t){const n=new Zk,r=Math.ceil(e*n.sx),i=Math.ceil(t*n.sy),s=jE(JF,this);if(!s||s.width===r&&s.height===i)return;s.width=r,s.height=i;const a=jE(ej,this)?jE(qF,this):OE(nj,this,cj).call(this,r,i),o=s.getContext("2d");o.filter=this._uiManager.hcmFilter,o.drawImage(a,0,0,a.width,a.height,0,0,r,i)}function hj(e){if(e){if(jE(ej,this)){const e=this._uiManager.imageManager.getSvgUrl(jE(GF,this));if(e)return e}const e=document.createElement("canvas");({width:e.width,height:e.height}=jE(qF,this));return e.getContext("2d").drawImage(jE(qF,this),0,0),e.toDataURL()}if(jE(ej,this)){const[e,t]=this.pageDimensions,n=Math.round(this.width*e*Lk.PDF_TO_CSS_UNITS),r=Math.round(this.height*t*Lk.PDF_TO_CSS_UNITS),i=new OffscreenCanvas(n,r);return i.getContext("2d").drawImage(jE(qF,this),0,0,jE(qF,this).width,jE(qF,this).height,0,0,n,r),i.transferToImageBitmap()}return structuredClone(jE(qF,this))}function dj(){this._uiManager._signal&&(BE($F,this,new ResizeObserver((e=>{const t=e[0].contentRect;t.width&&t.height&&OE(nj,this,lj).call(this,t.width,t.height)}))),jE($F,this).observe(this.div),this._uiManager._signal.addEventListener("abort",(()=>{var e;null===(e=jE($F,this))||void 0===e||e.disconnect(),BE($F,this,null)}),{once:!0}))}function pj(e){var t;const{rect:n,pageIndex:r,accessibilityData:{altText:i}}=this._initialData,s=e.rect.every(((e,t)=>Math.abs(e-n[t])<1)),a=e.pageIndex===r,o=((null===(t=e.accessibilityData)||void 0===t?void 0:t.alt)||"")===i;return{isSame:s&&a&&o,isSameAltText:o}}YE=rj,h(rj,"_type","stamp"),h(rj,"_editorType",pA.STAMP);var fj=new WeakMap,gj=new WeakMap,mj=new WeakMap,vj=new WeakMap,yj=new WeakMap,bj=new WeakMap,wj=new WeakMap,_j=new WeakMap,Sj=new WeakMap,Ej=new WeakMap,Aj=new WeakMap,kj=new WeakMap,xj=new WeakSet;class Cj{constructor(e){let{uiManager:t,pageIndex:n,div:r,structTreeLayer:i,accessibilityManager:s,annotationLayer:a,drawLayer:o,textLayer:l,viewport:c,l10n:u}=e;LE(this,xj),DE(this,fj,void 0),DE(this,gj,!1),DE(this,mj,null),DE(this,vj,null),DE(this,yj,null),DE(this,bj,new Map),DE(this,wj,!1),DE(this,_j,!1),DE(this,Sj,!1),DE(this,Ej,null),DE(this,Aj,null),DE(this,kj,void 0);const h=[...Nj._.values()];if(!Cj._initialized){Cj._initialized=!0;for(const e of h)e.initialize(u,t)}t.registerEditorTypes(h),BE(kj,this,t),this.pageIndex=n,this.div=r,BE(fj,this,s),BE(mj,this,a),this.viewport=c,BE(Ej,this,l),this.drawLayer=o,this._structTree=i,jE(kj,this).addLayer(this)}get isEmpty(){return 0===jE(bj,this).size}get isInvisible(){return this.isEmpty&&jE(kj,this).getMode()===pA.NONE}updateToolbar(e){jE(kj,this).updateToolbar(e)}updateMode(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:jE(kj,this).getMode();switch(OE(xj,this,Pj).call(this),e){case pA.NONE:return this.disableTextSelection(),this.togglePointerEvents(!1),this.toggleAnnotationLayerPointerEvents(!0),void this.disableClick();case pA.INK:this.addInkEditorIfNeeded(!1),this.disableTextSelection(),this.togglePointerEvents(!0),this.disableClick();break;case pA.HIGHLIGHT:this.enableTextSelection(),this.togglePointerEvents(!1),this.disableClick();break;default:this.disableTextSelection(),this.togglePointerEvents(!0),this.enableClick()}this.toggleAnnotationLayerPointerEvents(!1);const{classList:t}=this.div;for(const n of Nj._.values())t.toggle("".concat(n._type,"Editing"),e===n._editorType);this.div.hidden=!1}hasTextLayer(e){var t;return e===(null===(t=jE(Ej,this))||void 0===t?void 0:t.div)}addInkEditorIfNeeded(e){if(jE(kj,this).getMode()!==pA.INK)return;if(!e)for(const t of jE(bj,this).values())if(t.isEmpty())return void t.setInBackground();this.createAndAddNewEditor({offsetX:0,offsetY:0},!1).setInBackground()}setEditingState(e){jE(kj,this).setEditingState(e)}addCommands(e){jE(kj,this).addCommands(e)}toggleDrawing(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("drawing",!e)}togglePointerEvents(){let e=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this.div.classList.toggle("disabled",!e)}toggleAnnotationLayerPointerEvents(){var e;let t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];null===(e=jE(mj,this))||void 0===e||e.div.classList.toggle("disabled",!t)}async enable(){this.div.tabIndex=0,this.togglePointerEvents(!0);const e=new Set;for(const n of jE(bj,this).values())n.enableEditing(),n.show(!0),n.annotationElementId&&(jE(kj,this).removeChangedExistingAnnotation(n),e.add(n.annotationElementId));if(!jE(mj,this))return;const t=jE(mj,this).getEditableAnnotations();for(const n of t){if(n.hide(),jE(kj,this).isDeletedAnnotationElement(n.data.id))continue;if(e.has(n.data.id))continue;const t=await this.deserialize(n);t&&(this.addOrRebuild(t),t.enableEditing())}}disable(){BE(Sj,this,!0),this.div.tabIndex=-1,this.togglePointerEvents(!1);const e=new Map,t=new Map;for(const i of jE(bj,this).values()){var n;i.disableEditing(),i.annotationElementId&&(null===i.serialize()?(t.set(i.annotationElementId,i),null===(n=this.getEditableAnnotation(i.annotationElementId))||void 0===n||n.show(),i.remove()):e.set(i.annotationElementId,i))}if(jE(mj,this)){const n=jE(mj,this).getEditableAnnotations();for(const r of n){const{id:n}=r.data;if(jE(kj,this).isDeletedAnnotationElement(n))continue;let i=t.get(n);i?(i.resetAnnotationElement(r),i.show(!1),r.show()):(i=e.get(n),i&&(jE(kj,this).addChangedExistingAnnotation(i),i.renderAnnotationElement(r)&&i.show(!1)),r.show())}}OE(xj,this,Pj).call(this),this.isEmpty&&(this.div.hidden=!0);const{classList:r}=this.div;for(const i of Nj._.values())r.remove("".concat(i._type,"Editing"));this.disableTextSelection(),this.toggleAnnotationLayerPointerEvents(!0),BE(Sj,this,!1)}getEditableAnnotation(e){var t;return(null===(t=jE(mj,this))||void 0===t?void 0:t.getEditableAnnotation(e))||null}setActiveEditor(e){jE(kj,this).getActive()!==e&&jE(kj,this).setActiveEditor(e)}enableTextSelection(){var e;if(this.div.tabIndex=-1,null!==(e=jE(Ej,this))&&void 0!==e&&e.div&&!jE(Aj,this)){BE(Aj,this,new AbortController);const e=jE(kj,this).combinedSignal(jE(Aj,this));jE(Ej,this).div.addEventListener("pointerdown",OE(xj,this,Tj).bind(this),{signal:e}),jE(Ej,this).div.classList.add("highlighting")}}disableTextSelection(){var e;this.div.tabIndex=0,null!==(e=jE(Ej,this))&&void 0!==e&&e.div&&jE(Aj,this)&&(jE(Aj,this).abort(),BE(Aj,this,null),jE(Ej,this).div.classList.remove("highlighting"))}enableClick(){if(jE(vj,this))return;BE(vj,this,new AbortController);const e=jE(kj,this).combinedSignal(jE(vj,this));this.div.addEventListener("pointerdown",this.pointerdown.bind(this),{signal:e}),this.div.addEventListener("pointerup",this.pointerup.bind(this),{signal:e})}disableClick(){var e;null===(e=jE(vj,this))||void 0===e||e.abort(),BE(vj,this,null)}attach(e){jE(bj,this).set(e.id,e);const{annotationElementId:t}=e;t&&jE(kj,this).isDeletedAnnotationElement(t)&&jE(kj,this).removeDeletedAnnotationElement(e)}detach(e){var t;jE(bj,this).delete(e.id),null===(t=jE(fj,this))||void 0===t||t.removePointerInTextLayer(e.contentDiv),!jE(Sj,this)&&e.annotationElementId&&jE(kj,this).addDeletedAnnotationElement(e)}remove(e){this.detach(e),jE(kj,this).removeEditor(e),e.div.remove(),e.isAttachedToDOM=!1,jE(_j,this)||this.addInkEditorIfNeeded(!1)}changeParent(e){var t;e.parent!==this&&(e.parent&&e.annotationElementId&&(jE(kj,this).addDeletedAnnotationElement(e.annotationElementId),LT.deleteAnnotationElement(e),e.annotationElementId=null),this.attach(e),null===(t=e.parent)||void 0===t||t.detach(e),e.setParent(this),e.div&&e.isAttachedToDOM&&(e.div.remove(),this.div.append(e.div)))}add(e){if(e.parent!==this||!e.isAttachedToDOM){if(this.changeParent(e),jE(kj,this).addEditor(e),this.attach(e),!e.isAttachedToDOM){const t=e.render();this.div.append(t),e.isAttachedToDOM=!0}e.fixAndSetPosition(),e.onceAdded(),jE(kj,this).addToAnnotationStorage(e),e._reportTelemetry(e.telemetryInitialData)}}moveEditorInDOM(e){var t;if(!e.isAttachedToDOM)return;const{activeElement:n}=document;e.div.contains(n)&&!jE(yj,this)&&(e._focusEventsAllowed=!1,BE(yj,this,setTimeout((()=>{BE(yj,this,null),e.div.contains(document.activeElement)?e._focusEventsAllowed=!0:(e.div.addEventListener("focusin",(()=>{e._focusEventsAllowed=!0}),{once:!0,signal:jE(kj,this)._signal}),n.focus())}),0))),e._structTreeParentId=null===(t=jE(fj,this))||void 0===t?void 0:t.moveElementInDOM(this.div,e.div,e.contentDiv,!0)}addOrRebuild(e){e.needsToBeRebuilt()?(e.parent||(e.parent=this),e.rebuild(),e.show()):this.add(e)}addUndoableEditor(e){this.addCommands({cmd:()=>e._uiManager.rebuild(e),undo:()=>{e.remove()},mustExec:!1})}getNextId(){return jE(kj,this).getId()}combinedSignal(e){return jE(kj,this).combinedSignal(e)}canCreateNewEmptyEditor(){var e;return null===(e=FE(xj,this,Ij))||void 0===e?void 0:e.canCreateNewEmptyEditor()}pasteEditor(e,t){jE(kj,this).updateToolbar(e),jE(kj,this).updateMode(e);const{offsetX:n,offsetY:r}=OE(xj,this,Mj).call(this),i=this.getNextId(),s=OE(xj,this,Rj).call(this,p({parent:this,id:i,x:n,y:r,uiManager:jE(kj,this),isCentered:!0},t));s&&this.add(s)}async deserialize(e){var t,n;return await(null===(t=Nj._.get(null!==(n=e.annotationType)&&void 0!==n?n:e.annotationEditorType))||void 0===t?void 0:t.deserialize(e,this,jE(kj,this)))||null}createAndAddNewEditor(e,t){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};const r=this.getNextId(),i=OE(xj,this,Rj).call(this,p({parent:this,id:r,x:e.offsetX,y:e.offsetY,uiManager:jE(kj,this),isCentered:t},n));return i&&this.add(i),i}addNewEditor(){this.createAndAddNewEditor(OE(xj,this,Mj).call(this),!0)}setSelected(e){jE(kj,this).setSelected(e)}toggleSelected(e){jE(kj,this).toggleSelected(e)}unselect(e){jE(kj,this).unselect(e)}pointerup(e){const{isMac:t}=gk.platform;0!==e.button||e.ctrlKey&&t||e.target===this.div&&jE(wj,this)&&(BE(wj,this,!1),jE(gj,this)?jE(kj,this).getMode()!==pA.STAMP?this.createAndAddNewEditor(e,!1):jE(kj,this).unselectAll():BE(gj,this,!0))}pointerdown(e){if(jE(kj,this).getMode()===pA.HIGHLIGHT&&this.enableTextSelection(),jE(wj,this))return void BE(wj,this,!1);const{isMac:t}=gk.platform;if(0!==e.button||e.ctrlKey&&t)return;if(e.target!==this.div)return;BE(wj,this,!0);const n=jE(kj,this).getActive();BE(gj,this,!n||n.isEmpty())}findNewParent(e,t,n){const r=jE(kj,this).findParent(t,n);return null!==r&&r!==this&&(r.changeParent(e),!0)}destroy(){var e;(null===(e=jE(kj,this).getActive())||void 0===e?void 0:e.parent)===this&&(jE(kj,this).commitOrRemove(),jE(kj,this).setActiveEditor(null)),jE(yj,this)&&(clearTimeout(jE(yj,this)),BE(yj,this,null));for(const n of jE(bj,this).values()){var t;null===(t=jE(fj,this))||void 0===t||t.removePointerInTextLayer(n.contentDiv),n.setParent(null),n.isAttachedToDOM=!1,n.div.remove()}this.div=null,jE(bj,this).clear(),jE(kj,this).removeLayer(this)}render(e){let{viewport:t}=e;this.viewport=t,$k(this.div,t);for(const n of jE(kj,this).getEditors(this.pageIndex))this.add(n),n.rebuild();this.updateMode()}update(e){let{viewport:t}=e;jE(kj,this).commitOrRemove(),OE(xj,this,Pj).call(this);const n=this.viewport.rotation,r=t.rotation;if(this.viewport=t,$k(this.div,{rotation:r}),n!==r)for(const i of jE(bj,this).values())i.rotate(r);this.addInkEditorIfNeeded(!1)}get pageDimensions(){const{pageWidth:e,pageHeight:t}=this.viewport.rawDims;return[e,t]}get scale(){return jE(kj,this).viewParameters.realScale}}function Tj(e){jE(kj,this).unselectAll();const{target:t}=e;if(t===jE(Ej,this).div||("img"===t.getAttribute("role")||t.classList.contains("endOfContent"))&&jE(Ej,this).div.contains(t)){const{isMac:t}=gk.platform;if(0!==e.button||e.ctrlKey&&t)return;jE(kj,this).showAllEditors("highlight",!0,!0),jE(Ej,this).div.classList.add("free"),this.toggleDrawing(),BO.startHighlighting(this,"ltr"===jE(kj,this).direction,{target:jE(Ej,this).div,x:e.x,y:e.y}),jE(Ej,this).div.addEventListener("pointerup",(()=>{jE(Ej,this).div.classList.remove("free"),this.toggleDrawing(!0)}),{once:!0,signal:jE(kj,this)._signal}),e.preventDefault()}}function Ij(e){return Nj._.get(jE(kj,e).getMode())}function Rj(e){const t=FE(xj,this,Ij);return t?new t.prototype.constructor(e):null}function Mj(){const{x:e,y:t,width:n,height:r}=this.div.getBoundingClientRect(),i=Math.max(0,e),s=Math.max(0,t),a=(i+Math.min(window.innerWidth,e+n))/2-e,o=(s+Math.min(window.innerHeight,t+r))/2-t,[l,c]=this.viewport.rotation%180===0?[a,o]:[o,a];return{offsetX:l,offsetY:c}}function Pj(){BE(_j,this,!0);for(const e of jE(bj,this).values())e.isEmpty()&&e.remove();BE(_j,this,!1)}h(Cj,"_initialized",!1);var Nj={_:new Map([GL,mF,rj,BO].map((e=>[e._editorType,e])))},Lj=new WeakMap,Dj=new WeakMap,Oj=new WeakMap,Fj=new WeakMap,jj=new WeakSet;class Bj{constructor(e){let{pageIndex:t}=e;LE(this,jj),DE(this,Lj,null),DE(this,Dj,0),DE(this,Oj,new Map),DE(this,Fj,new Map),this.pageIndex=t}setParent(e){if(jE(Lj,this)){if(jE(Lj,this)!==e){if(jE(Oj,this).size>0)for(const t of jE(Oj,this).values())t.remove(),e.append(t);BE(Lj,this,e)}}else BE(Lj,this,e)}static get _svgFactory(){return rk(this,"_svgFactory",new oN)}draw(e,t,n){var r,i;let s=arguments.length>3&&void 0!==arguments[3]&&arguments[3];const a=(BE(Dj,this,(r=jE(Dj,this),i=r++,r)),i),o=OE(jj,this,Vj).call(this,e.box);o.classList.add(...e.classNamesForDrawing);const l=Bj._svgFactory.createElement("defs");o.append(l);const c=Bj._svgFactory.createElement("path");l.append(c);const u="path_p".concat(this.pageIndex,"_").concat(a);c.setAttribute("id",u),c.setAttribute("d",e.toSVGPath()),s&&jE(Fj,this).set(a,c);const h=OE(jj,this,Uj).call(this,l,u),d=Bj._svgFactory.createElement("use");return o.append(d),o.setAttribute("fill",t),o.setAttribute("fill-opacity",n),d.setAttribute("href","#".concat(u)),jE(Oj,this).set(a,o),{id:a,clipPathId:"url(#".concat(h,")")}}drawOutline(e){var t,n;const r=(BE(Dj,this,(t=jE(Dj,this),n=t++,t)),n),i=OE(jj,this,Vj).call(this,e.box);i.classList.add(...e.classNamesForOutlining);const s=Bj._svgFactory.createElement("defs");i.append(s);const a=Bj._svgFactory.createElement("path");s.append(a);const o="path_p".concat(this.pageIndex,"_").concat(r);let l;if(a.setAttribute("id",o),a.setAttribute("d",e.toSVGPath()),a.setAttribute("vector-effect","non-scaling-stroke"),e.mustRemoveSelfIntersections){const e=Bj._svgFactory.createElement("mask");s.append(e),l="mask_p".concat(this.pageIndex,"_").concat(r),e.setAttribute("id",l),e.setAttribute("maskUnits","objectBoundingBox");const t=Bj._svgFactory.createElement("rect");e.append(t),t.setAttribute("width","1"),t.setAttribute("height","1"),t.setAttribute("fill","white");const n=Bj._svgFactory.createElement("use");e.append(n),n.setAttribute("href","#".concat(o)),n.setAttribute("stroke","none"),n.setAttribute("fill","black"),n.setAttribute("fill-rule","nonzero"),n.classList.add("mask")}const c=Bj._svgFactory.createElement("use");i.append(c),c.setAttribute("href","#".concat(o)),l&&c.setAttribute("mask","url(#".concat(l,")"));const u=c.cloneNode();return i.append(u),c.classList.add("mainOutline"),u.classList.add("secondaryOutline"),jE(Oj,this).set(r,i),r}finalizeLine(e,t){const n=jE(Fj,this).get(e);jE(Fj,this).delete(e),this.updateBox(e,t.box),n.setAttribute("d",t.toSVGPath())}updateLine(e,t){jE(Oj,this).get(e).firstChild.firstChild.setAttribute("d",t.toSVGPath())}updatePath(e,t){jE(Fj,this).get(e).setAttribute("d",t.toSVGPath())}updateBox(e,t){zj.call(Bj,jE(Oj,this).get(e),t)}show(e,t){jE(Oj,this).get(e).classList.toggle("hidden",!t)}rotate(e,t){jE(Oj,this).get(e).setAttribute("data-main-rotation",t)}changeColor(e,t){jE(Oj,this).get(e).setAttribute("fill",t)}changeOpacity(e,t){jE(Oj,this).get(e).setAttribute("fill-opacity",t)}addClass(e,t){jE(Oj,this).get(e).classList.add(t)}removeClass(e,t){jE(Oj,this).get(e).classList.remove(t)}getSVGRoot(e){return jE(Oj,this).get(e)}remove(e){jE(Fj,this).delete(e),null!==jE(Lj,this)&&(jE(Oj,this).get(e).remove(),jE(Oj,this).delete(e))}destroy(){BE(Lj,this,null);for(const e of jE(Oj,this).values())e.remove();jE(Oj,this).clear(),jE(Fj,this).clear()}}function zj(e){let{x:t=0,y:n=0,width:r=1,height:i=1}=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{};const{style:s}=e;s.top="".concat(100*n,"%"),s.left="".concat(100*t,"%"),s.width="".concat(100*r,"%"),s.height="".concat(100*i,"%")}function Vj(e){const t=JE._svgFactory.create(1,1,!0);return jE(Lj,this).append(t),t.setAttribute("aria-hidden",!0),zj.call(JE,t,e),t}function Uj(e,t){const n=JE._svgFactory.createElement("clipPath");e.append(n);const r="clip_".concat(t);n.setAttribute("id",r),n.setAttribute("clipPathUnits","objectBoundingBox");const i=JE._svgFactory.createElement("use");return n.append(i),i.setAttribute("href","#".concat(t)),i.classList.add("clip"),r}JE=Bj;var Wj=ZE.AnnotationLayer,Hj=ZE.AnnotationMode,qj=ZE.GlobalWorkerOptions,Gj=ZE.PDFDataRangeTransport,Kj=ZE.TextLayer,Xj=ZE.getDocument,Qj=function(e,t,n){if(n||2===arguments.length)for(var r,i=0,s=t.length;i<s;i++)!r&&i in t||(r||(r=Array.prototype.slice.call(t,0,i)),r[i]=t[i]);return e.concat(r||Array.prototype.slice.call(t))},Yj=Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj(Qj([],["onCopy","onCut","onPaste"],!0),["onCompositionEnd","onCompositionStart","onCompositionUpdate"],!0),["onFocus","onBlur"],!0),["onInput","onInvalid","onReset","onSubmit"],!0),["onLoad","onError"],!0),["onKeyDown","onKeyPress","onKeyUp"],!0),["onAbort","onCanPlay","onCanPlayThrough","onDurationChange","onEmptied","onEncrypted","onEnded","onError","onLoadedData","onLoadedMetadata","onLoadStart","onPause","onPlay","onPlaying","onProgress","onRateChange","onSeeked","onSeeking","onStalled","onSuspend","onTimeUpdate","onVolumeChange","onWaiting"],!0),["onClick","onContextMenu","onDoubleClick","onMouseDown","onMouseEnter","onMouseLeave","onMouseMove","onMouseOut","onMouseOver","onMouseUp"],!0),["onDrag","onDragEnd","onDragEnter","onDragExit","onDragLeave","onDragOver","onDragStart","onDrop"],!0),["onSelect"],!0),["onTouchCancel","onTouchEnd","onTouchMove","onTouchStart"],!0),["onPointerDown","onPointerMove","onPointerUp","onPointerCancel","onGotPointerCapture","onLostPointerCapture","onPointerEnter","onPointerLeave","onPointerOver","onPointerOut"],!0),["onScroll"],!0),["onWheel"],!0),["onAnimationStart","onAnimationEnd","onAnimationIteration"],!0),["onTransitionEnd"],!0),["onChange"],!0),["onToggle"],!0);function Jj(e,t){var n={};return Yj.forEach((function(r){var i=e[r];i&&(n[r]=t?function(e){return i(e,t(r))}:i)})),n}function $j(e){var t=!1;return{promise:new Promise((function(n,r){e.then((function(e){return!t&&n(e)})).catch((function(e){return!t&&r(e)}))})),cancel:function(){t=!0}}}var Zj="Invariant failed";function eB(e,t){if(!e)throw new Error(Zj)}var tB=n(440),nB=Object.prototype.hasOwnProperty;function rB(e,t,n){for(n of e.keys())if(iB(n,t))return n}function iB(e,t){var n,r,i;if(e===t)return!0;if(e&&t&&(n=e.constructor)===t.constructor){if(n===Date)return e.getTime()===t.getTime();if(n===RegExp)return e.toString()===t.toString();if(n===Array){if((r=e.length)===t.length)for(;r--&&iB(e[r],t[r]););return-1===r}if(n===Set){if(e.size!==t.size)return!1;for(r of e){if((i=r)&&"object"===typeof i&&!(i=rB(t,i)))return!1;if(!t.has(i))return!1}return!0}if(n===Map){if(e.size!==t.size)return!1;for(r of e){if((i=r[0])&&"object"===typeof i&&!(i=rB(t,i)))return!1;if(!iB(r[1],t.get(i)))return!1}return!0}if(n===ArrayBuffer)e=new Uint8Array(e),t=new Uint8Array(t);else if(n===DataView){if((r=e.byteLength)===t.byteLength)for(;r--&&e.getInt8(r)===t.getInt8(r););return-1===r}if(ArrayBuffer.isView(e)){if((r=e.byteLength)===t.byteLength)for(;r--&&e[r]===t[r];);return-1===r}if(!n||"object"===typeof e){for(n in r=0,e){if(nB.call(e,n)&&++r&&!nB.call(t,n))return!1;if(!(n in t)||!iB(e[n],t[n]))return!1}return Object.keys(t).length===r}}return e!==e&&t!==t}const sB=(0,i.createContext)(null);function aB(e){let{children:t,type:n}=e;return(0,yf.jsx)("div",{className:"react-pdf__message react-pdf__message--".concat(n),children:t})}class oB{constructor(){this.externalLinkEnabled=!0,this.externalLinkRel=void 0,this.externalLinkTarget=void 0,this.isInPresentationMode=!1,this.pdfDocument=void 0,this.pdfViewer=void 0}setDocument(e){this.pdfDocument=e}setViewer(e){this.pdfViewer=e}setExternalLinkRel(e){this.externalLinkRel=e}setExternalLinkTarget(e){this.externalLinkTarget=e}setHistory(){}get pagesCount(){return this.pdfDocument?this.pdfDocument.numPages:0}get page(){return eB(this.pdfViewer),this.pdfViewer.currentPageNumber||0}set page(e){eB(this.pdfViewer),this.pdfViewer.currentPageNumber=e}get rotation(){return 0}set rotation(e){}goToDestination(e){return new Promise((t=>{eB(this.pdfDocument),eB(e),"string"===typeof e?this.pdfDocument.getDestination(e).then(t):Array.isArray(e)?t(e):e.then(t)})).then((e=>{eB(Array.isArray(e),'"'.concat(e,'" is not a valid destination array.'));const t=e[0];new Promise((e=>{eB(this.pdfDocument),t instanceof Object?this.pdfDocument.getPageIndex(t).then((t=>{e(t)})).catch((()=>{eB(!1,'"'.concat(t,'" is not a valid page reference.'))})):"number"===typeof t?e(t):eB(!1,'"'.concat(t,'" is not a valid destination reference.'))})).then((t=>{const n=t+1;eB(this.pdfViewer),eB(n>=1&&n<=this.pagesCount,'"'.concat(n,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({dest:e,pageIndex:t,pageNumber:n})}))}))}navigateTo(e){this.goToDestination(e)}goToPage(e){const t=e-1;eB(this.pdfViewer),eB(e>=1&&e<=this.pagesCount,'"'.concat(e,'" is not a valid page number.')),this.pdfViewer.scrollPageIntoView({pageIndex:t,pageNumber:e})}addLinkAttributes(e,t,n){e.href=t,e.rel=this.externalLinkRel||"noopener noreferrer nofollow",e.target=n?"_blank":this.externalLinkTarget||""}getDestinationHash(){return"#"}getAnchorUrl(){return"#"}setHash(){}executeNamedAction(){}cachePageRef(){}isPageVisible(){return!0}isPageCached(){return!0}executeSetOCGState(){}}const lB={NEED_PASSWORD:1,INCORRECT_PASSWORD:2},cB="undefined"!==typeof window,uB=cB&&"file:"===window.location.protocol;function hB(e){return function(e){return"undefined"!==typeof e}(e)&&null!==e}function dB(e){return function(e){return"string"===typeof e}(e)&&/^data:/.test(e)}function pB(e){eB(dB(e));const[t="",n=""]=e.split(",");return-1!==t.split(";").indexOf("base64")?atob(n):unescape(n)}function fB(){return cB&&window.devicePixelRatio||1}const gB="On Chromium based browsers, you can use --allow-file-access-from-files flag for debugging purposes.";function mB(){tB(!uB,"Loading PDF as base64 strings/URLs may not work on protocols other than HTTP/HTTPS. ".concat(gB))}function vB(e){(null===e||void 0===e?void 0:e.cancel)&&e.cancel()}function yB(e,t){return Object.defineProperty(e,"width",{get(){return this.view[2]*t},configurable:!0}),Object.defineProperty(e,"height",{get(){return this.view[3]*t},configurable:!0}),Object.defineProperty(e,"originalWidth",{get(){return this.view[2]},configurable:!0}),Object.defineProperty(e,"originalHeight",{get(){return this.view[3]},configurable:!0}),e}function bB(e,t){switch(t.type){case"RESOLVE":return{value:t.value,error:void 0};case"REJECT":return{value:!1,error:t.error};case"RESET":return{value:void 0,error:void 0};default:return e}}function wB(){return(0,i.useReducer)(bB,{value:void 0,error:void 0})}var _B=function(e,t,n,r){return new(n||(n=Promise))((function(i,s){function a(e){try{l(r.next(e))}catch(ez){s(ez)}}function o(e){try{l(r.throw(e))}catch(ez){s(ez)}}function l(e){var t;e.done?i(e.value):(t=e.value,t instanceof n?t:new n((function(e){e(t)}))).then(a,o)}l((r=r.apply(e,t||[])).next())}))},SB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const{Tm:EB}=r,AB=(e,t)=>{switch(t){case lB.NEED_PASSWORD:e(prompt("Enter the password to open this PDF file."));break;case lB.INCORRECT_PASSWORD:e(prompt("Invalid password. Please try again."));break}};function kB(e){return"object"===typeof e&&null!==e&&("data"in e||"range"in e||"url"in e)}const xB=(0,i.forwardRef)((function(e,t){var{children:n,className:r,error:s="Failed to load PDF file.",externalLinkRel:a,externalLinkTarget:o,file:l,inputRef:c,imageResourcesPath:u,loading:h="Loading PDF\u2026",noData:d="No PDF file specified.",onItemClick:p,onLoadError:f,onLoadProgress:g,onLoadSuccess:m,onPassword:v=AB,onSourceError:y,onSourceSuccess:b,options:w,renderMode:_,rotate:S}=e,E=SB(e,["children","className","error","externalLinkRel","externalLinkTarget","file","inputRef","imageResourcesPath","loading","noData","onItemClick","onLoadError","onLoadProgress","onLoadSuccess","onPassword","onSourceError","onSourceSuccess","options","renderMode","rotate"]);const[A,k]=wB(),{value:x,error:C}=A,[T,I]=wB(),{value:R,error:M}=T,P=(0,i.useRef)(new oB),N=(0,i.useRef)([]),L=(0,i.useRef)(void 0),D=(0,i.useRef)(void 0);l&&l!==L.current&&kB(l)&&(tB(!iB(l,L.current),'File prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "file" prop.'),L.current=l),w&&w!==D.current&&(tB(!iB(w,D.current),'Options prop passed to <Document /> changed, but it\'s equal to previous one. This might result in unnecessary reloads. Consider memoizing the value passed to "options" prop.'),D.current=w);const O=(0,i.useRef)({scrollPageIntoView:e=>{const{dest:t,pageNumber:n,pageIndex:r=n-1}=e;if(p)return void p({dest:t,pageIndex:r,pageNumber:n});const i=N.current[r];i?i.scrollIntoView():tB(!1,"An internal link leading to page ".concat(n," was clicked, but neither <Document> was provided with onItemClick nor it was able to find the page within itself. Either provide onItemClick to <Document> and handle navigating by yourself or ensure that all pages are rendered within <Document>."))}});(0,i.useImperativeHandle)(t,(()=>({linkService:P,pages:N,viewer:O})),[]),(0,i.useEffect)((function(){k({type:"RESET"})}),[l,k]);const F=(0,i.useCallback)((()=>_B(this,void 0,void 0,(function*(){if(!l)return null;if("string"===typeof l){if(dB(l)){return{data:pB(l)}}return mB(),{url:l}}if(l instanceof EB)return{range:l};if(l instanceof ArrayBuffer)return{data:l};if(cB&&function(e){return eB(cB),e instanceof Blob}(l)){const e=yield function(e){return new Promise(((t,n)=>{const r=new FileReader;r.onload=()=>{if(!r.result)return n(new Error("Error while reading a file."));t(r.result)},r.onerror=e=>{if(!e.target)return n(new Error("Error while reading a file."));const{error:t}=e.target;if(!t)return n(new Error("Error while reading a file."));switch(t.code){case t.NOT_FOUND_ERR:return n(new Error("Error while reading a file: File not found."));case t.SECURITY_ERR:return n(new Error("Error while reading a file: Security error."));case t.ABORT_ERR:return n(new Error("Error while reading a file: Aborted."));default:return n(new Error("Error while reading a file."))}},r.readAsArrayBuffer(e)}))}(l);return{data:e}}if(eB("object"===typeof l),eB(kB(l)),"url"in l&&"string"===typeof l.url){if(dB(l.url)){const{url:e}=l,t=SB(l,["url"]),n=pB(e);return Object.assign({data:n},t)}mB()}return l}))),[l]);(0,i.useEffect)((()=>{const e=$j(F());return e.promise.then((e=>{k({type:"RESOLVE",value:e})})).catch((e=>{k({type:"REJECT",error:e})})),()=>{vB(e)}}),[F,k]),(0,i.useEffect)((()=>{"undefined"!==typeof x&&(!1!==x?b&&b():C&&(tB(!1,C.toString()),y&&y(C)))}),[x]),(0,i.useEffect)((function(){I({type:"RESET"})}),[I,x]),(0,i.useEffect)((function(){if(!x)return;const e=w?Object.assign(Object.assign({},x),w):x,t=Xj(e);g&&(t.onProgress=g),v&&(t.onPassword=v);const n=t,r=n.promise.then((e=>{I({type:"RESOLVE",value:e})})).catch((e=>{n.destroyed||I({type:"REJECT",error:e})}));return()=>{r.finally((()=>n.destroy()))}}),[w,I,x]),(0,i.useEffect)((()=>{"undefined"!==typeof R&&(!1!==R?R&&(m&&m(R),N.current=new Array(R.numPages),P.current.setDocument(R)):M&&(tB(!1,M.toString()),f&&f(M)))}),[R]),(0,i.useEffect)((function(){P.current.setViewer(O.current),P.current.setExternalLinkRel(a),P.current.setExternalLinkTarget(o)}),[a,o]);const j=(0,i.useCallback)(((e,t)=>{N.current[e]=t}),[]),B=(0,i.useCallback)((e=>{delete N.current[e]}),[]),z=(0,i.useMemo)((()=>({imageResourcesPath:u,linkService:P.current,onItemClick:p,pdf:R,registerPage:j,renderMode:_,rotate:S,unregisterPage:B})),[u,p,R,j,_,S,B]),V=(0,i.useMemo)((()=>Jj(E,(()=>R))),[E,R]);return(0,yf.jsx)("div",Object.assign({className:Ef("react-pdf__Document",r),ref:c,style:{"--scale-factor":"1"}},V,{children:l?void 0===R||null===R?(0,yf.jsx)(aB,{type:"loading",children:"function"===typeof h?h():h}):!1===R?(0,yf.jsx)(aB,{type:"error",children:"function"===typeof s?s():s}):(0,yf.jsx)(sB.Provider,{value:z,children:n}):(0,yf.jsx)(aB,{type:"no-data",children:"function"===typeof d?d():d})}))})),CB=xB;function TB(){for(var e=[],t=0;t<arguments.length;t++)e[t]=arguments[t];var n=e.filter(Boolean);return n.length<=1?n[0]||null:function(e){n.forEach((function(t){"function"===typeof t?t(e):t&&(t.current=e)}))}}const IB=(0,i.createContext)(null),RB={Document:null,DocumentFragment:null,Part:"group",Sect:"group",Div:"group",Aside:"note",NonStruct:"none",P:null,H:"heading",Title:null,FENote:"note",Sub:"group",Lbl:null,Span:null,Em:null,Strong:null,Link:"link",Annot:"note",Form:"form",Ruby:null,RB:null,RT:null,RP:null,Warichu:null,WT:null,WP:null,L:"list",LI:"listitem",LBody:null,Table:"table",TR:"row",TH:"columnheader",TD:"cell",THead:"columnheader",TBody:null,TFoot:null,Caption:null,Figure:"figure",Formula:null,Artifact:null},MB=/^H(\d+)$/;function PB(e){return"children"in e}function NB(e){return!!PB(e)&&(1===e.children.length&&0 in e.children&&"id"in e.children[0])}function LB(e){const t={};if(PB(e)){const{role:n}=e,r=n.match(MB);if(r)t.role="heading",t["aria-level"]=Number(r[1]);else if(function(e){return e in RB}(n)){const e=RB[n];e&&(t.role=e)}}return t}function DB(e){const t={};if(PB(e)){if(void 0!==e.alt&&(t["aria-label"]=e.alt),void 0!==e.lang&&(t.lang=e.lang),NB(e)){const[n]=e.children;if(n){const e=DB(n);return Object.assign(Object.assign({},t),e)}}}else"id"in e&&(t["aria-owns"]=e.id);return t}function OB(e){return e?Object.assign(Object.assign({},LB(e)),DB(e)):null}function FB(e){let{className:t,node:n}=e;const r=(0,i.useMemo)((()=>OB(n)),[n]),s=(0,i.useMemo)((()=>PB(n)?NB(n)?null:n.children.map(((e,t)=>(0,yf.jsx)(FB,{node:e},t))):null),[n]);return(0,yf.jsx)("span",Object.assign({className:t},r,{children:s}))}function jB(){return(0,i.useContext)(IB)}function BB(){const e=jB();eB(e);const{onGetStructTreeError:t,onGetStructTreeSuccess:n}=e,[r,s]=wB(),{value:a,error:o}=r,{customTextRenderer:l,page:c}=e;return(0,i.useEffect)((function(){s({type:"RESET"})}),[s,c]),(0,i.useEffect)((function(){if(l)return;if(!c)return;const e=$j(c.getStructTree()),t=e;return e.promise.then((e=>{s({type:"RESOLVE",value:e})})).catch((e=>{s({type:"REJECT",error:e})})),()=>vB(t)}),[l,c,s]),(0,i.useEffect)((()=>{void 0!==a&&(!1!==a?a&&n&&n(a):o&&(tB(!1,o.toString()),t&&t(o)))}),[a]),a?(0,yf.jsx)(FB,{className:"react-pdf__Page__structTree structTree",node:a}):null}const zB=Hj;function VB(e){const t=jB();eB(t);const n=Object.assign(Object.assign({},t),e),{_className:r,canvasBackground:s,devicePixelRatio:a=fB(),onRenderError:o,onRenderSuccess:l,page:c,renderForms:u,renderTextLayer:h,rotate:d,scale:p}=n,{canvasRef:f}=e;eB(c);const g=(0,i.useRef)(null);function m(e){(function(e){return"RenderingCancelledException"===e.name})(e)||(tB(!1,e.toString()),o&&o(e))}const v=(0,i.useMemo)((()=>c.getViewport({scale:p*a,rotation:d})),[a,c,d,p]),y=(0,i.useMemo)((()=>c.getViewport({scale:p,rotation:d})),[c,d,p]);(0,i.useEffect)((function(){if(!c)return;c.cleanup();const{current:e}=g;if(!e)return;e.width=v.width,e.height=v.height,e.style.width="".concat(Math.floor(y.width),"px"),e.style.height="".concat(Math.floor(y.height),"px"),e.style.visibility="hidden";const t={annotationMode:u?zB.ENABLE_FORMS:zB.ENABLE,canvasContext:e.getContext("2d",{alpha:!1}),viewport:v};s&&(t.background=s);const n=c.render(t),r=n;return n.promise.then((()=>{e.style.visibility="",c&&l&&l(yB(c,p))})).catch(m),()=>vB(r)}),[s,c,u,v,y]);const b=(0,i.useCallback)((()=>{const{current:e}=g;e&&(e.width=0,e.height=0)}),[]);return(0,i.useEffect)((()=>b),[b]),(0,yf.jsx)("canvas",{className:"".concat(r,"__canvas"),dir:"ltr",ref:TB(f,g),style:{display:"block",userSelect:"none"},children:h?(0,yf.jsx)(BB,{}):null})}function UB(){const e=jB();eB(e);const{customTextRenderer:t,onGetTextError:n,onGetTextSuccess:r,onRenderTextLayerError:s,onRenderTextLayerSuccess:a,page:o,pageIndex:l,pageNumber:c,rotate:u,scale:h}=e;eB(o);const[d,p]=wB(),{value:f,error:g}=d,m=(0,i.useRef)(null);tB(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-text-layer"),10),"TextLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-text-layer"),(0,i.useEffect)((function(){p({type:"RESET"})}),[o,p]),(0,i.useEffect)((function(){if(!o)return;const e=$j(o.getTextContent()),t=e;return e.promise.then((e=>{p({type:"RESOLVE",value:e})})).catch((e=>{p({type:"REJECT",error:e})})),()=>vB(t)}),[o,p]),(0,i.useEffect)((()=>{void 0!==f&&(!1!==f?f&&r&&r(f):g&&(tB(!1,g.toString()),n&&n(g)))}),[f]);const v=(0,i.useCallback)((()=>{a&&a()}),[a]),y=(0,i.useCallback)((e=>{tB(!1,e.toString()),s&&s(e)}),[s]);const b=(0,i.useMemo)((()=>o.getViewport({scale:h,rotation:u})),[o,u,h]);return(0,i.useLayoutEffect)((function(){if(!o||!f)return;const{current:e}=m;if(!e)return;e.innerHTML="";const n=o.streamTextContent({includeMarkedContent:!0}),r=new Kj({container:e,textContentSource:n,viewport:b}),i=r;return r.render().then((()=>{const n=document.createElement("div");n.className="endOfContent",e.append(n);const r=e.querySelectorAll('[role="presentation"]');if(t){let e=0;f.items.forEach(((n,i)=>{if(!function(e){return"str"in e}(n))return;const s=r[e];if(!s)return;const a=t(Object.assign({pageIndex:l,pageNumber:c,itemIndex:i},n));s.innerHTML=a,e+=n.str&&n.hasEOL?2:1}))}v()})).catch(y),()=>vB(i)}),[t,y,v,o,l,c,f,b]),(0,yf.jsx)("div",{className:Ef("react-pdf__Page__textContent","textLayer"),onMouseUp:function(){const e=m.current;e&&e.classList.remove("selecting")},onMouseDown:function(){const e=m.current;e&&e.classList.add("selecting")},ref:m})}function WB(){return(0,i.useContext)(sB)}function HB(){const e=WB(),t=jB();eB(t);const n=Object.assign(Object.assign({},e),t),{imageResourcesPath:r,linkService:s,onGetAnnotationsError:a,onGetAnnotationsSuccess:o,onRenderAnnotationLayerError:l,onRenderAnnotationLayerSuccess:c,page:u,pdf:h,renderForms:d,rotate:p,scale:f=1}=n;eB(h),eB(u),eB(s);const[g,m]=wB(),{value:v,error:y}=g,b=(0,i.useRef)(null);tB(1===Number.parseInt(window.getComputedStyle(document.body).getPropertyValue("--react-pdf-annotation-layer"),10),"AnnotationLayer styles not found. Read more: https://github.com/wojtekmaj/react-pdf#support-for-annotations"),(0,i.useEffect)((function(){m({type:"RESET"})}),[m,u]),(0,i.useEffect)((function(){if(!u)return;const e=$j(u.getAnnotations()),t=e;return e.promise.then((e=>{m({type:"RESOLVE",value:e})})).catch((e=>{m({type:"REJECT",error:e})})),()=>{vB(t)}}),[m,u]),(0,i.useEffect)((()=>{void 0!==v&&(!1!==v?v&&o&&o(v):y&&(tB(!1,y.toString()),a&&a(y)))}),[v]);const w=(0,i.useMemo)((()=>u.getViewport({scale:f,rotation:p})),[u,p,f]);return(0,i.useEffect)((function(){if(!h||!u||!s||!v)return;const{current:e}=b;if(!e)return;const t=w.clone({dontFlip:!0}),n={accessibilityManager:null,annotationCanvasMap:null,annotationEditorUIManager:null,div:e,l10n:null,page:u,structTreeLayer:null,viewport:t},i={annotations:v,annotationStorage:h.annotationStorage,div:e,imageResourcesPath:r,linkService:s,page:u,renderForms:d,viewport:t};e.innerHTML="";try{new Wj(n).render(i),c&&c()}catch(a){!function(e){tB(!1,"".concat(e)),l&&l(e)}(a)}return()=>{}}),[v,r,s,u,h,d,w]),(0,yf.jsx)("div",{className:Ef("react-pdf__Page__annotations","annotationLayer"),ref:b})}var qB=function(e,t){var n={};for(var r in e)Object.prototype.hasOwnProperty.call(e,r)&&t.indexOf(r)<0&&(n[r]=e[r]);if(null!=e&&"function"===typeof Object.getOwnPropertySymbols){var i=0;for(r=Object.getOwnPropertySymbols(e);i<r.length;i++)t.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(e,r[i])&&(n[r[i]]=e[r[i]])}return n};const GB=1;function KB(e){const t=WB(),n=Object.assign(Object.assign({},t),e),{_className:r="react-pdf__Page",_enableRegisterUnregisterPage:s=!0,canvasBackground:a,canvasRef:o,children:l,className:c,customRenderer:u,customTextRenderer:h,devicePixelRatio:d,error:p="Failed to load the page.",height:f,inputRef:g,loading:m="Loading page\u2026",noData:v="No page specified.",onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:S,onGetTextSuccess:E,onLoadError:A,onLoadSuccess:k,onRenderAnnotationLayerError:x,onRenderAnnotationLayerSuccess:C,onRenderError:T,onRenderSuccess:I,onRenderTextLayerError:R,onRenderTextLayerSuccess:M,pageIndex:P,pageNumber:N,pdf:L,registerPage:D,renderAnnotationLayer:O=!0,renderForms:F=!1,renderMode:j="canvas",renderTextLayer:B=!0,rotate:z,scale:V=GB,unregisterPage:U,width:W}=n,H=qB(n,["_className","_enableRegisterUnregisterPage","canvasBackground","canvasRef","children","className","customRenderer","customTextRenderer","devicePixelRatio","error","height","inputRef","loading","noData","onGetAnnotationsError","onGetAnnotationsSuccess","onGetStructTreeError","onGetStructTreeSuccess","onGetTextError","onGetTextSuccess","onLoadError","onLoadSuccess","onRenderAnnotationLayerError","onRenderAnnotationLayerSuccess","onRenderError","onRenderSuccess","onRenderTextLayerError","onRenderTextLayerSuccess","pageIndex","pageNumber","pdf","registerPage","renderAnnotationLayer","renderForms","renderMode","renderTextLayer","rotate","scale","unregisterPage","width"]),[q,G]=wB(),{value:K,error:X}=q,Q=(0,i.useRef)(null);eB(L);const Y=hB(N)?N-1:null!==P&&void 0!==P?P:null,J=null!==N&&void 0!==N?N:hB(P)?P+1:null,$=null!==z&&void 0!==z?z:K?K.rotate:null,Z=(0,i.useMemo)((()=>{if(!K)return null;let e=1;const t=null!==V&&void 0!==V?V:GB;if(W||f){const t=K.getViewport({scale:1,rotation:$});W?e=W/t.width:f&&(e=f/t.height)}return t*e}),[f,K,$,V,W]);(0,i.useEffect)((function(){return()=>{hB(Y)&&s&&U&&U(Y)}}),[s,L,Y,U]),(0,i.useEffect)((function(){G({type:"RESET"})}),[G,L,Y]),(0,i.useEffect)((function(){if(!L||!J)return;const e=$j(L.getPage(J)),t=e;return e.promise.then((e=>{G({type:"RESOLVE",value:e})})).catch((e=>{G({type:"REJECT",error:e})})),()=>vB(t)}),[G,L,J]),(0,i.useEffect)((()=>{void 0!==K&&(!1!==K?function(){if(k){if(!K||!Z)return;k(yB(K,Z))}if(s&&D){if(!hB(Y)||!Q.current)return;D(Y,Q.current)}}():X&&(tB(!1,X.toString()),A&&A(X)))}),[K,Z]);const ee=(0,i.useMemo)((()=>K&&hB(Y)&&J&&hB($)&&hB(Z)?{_className:r,canvasBackground:a,customTextRenderer:h,devicePixelRatio:d,onGetAnnotationsError:y,onGetAnnotationsSuccess:b,onGetStructTreeError:w,onGetStructTreeSuccess:_,onGetTextError:S,onGetTextSuccess:E,onRenderAnnotationLayerError:x,onRenderAnnotationLayerSuccess:C,onRenderError:T,onRenderSuccess:I,onRenderTextLayerError:R,onRenderTextLayerSuccess:M,page:K,pageIndex:Y,pageNumber:J,renderForms:F,renderTextLayer:B,rotate:$,scale:Z}:null),[r,a,h,d,y,b,w,_,S,E,x,C,T,I,R,M,K,Y,J,F,B,$,Z]),te=(0,i.useMemo)((()=>Jj(H,(()=>K?Z?yB(K,Z):void 0:K))),[H,K,Z]),ne="".concat(Y,"@").concat(Z,"/").concat($);function re(){switch(j){case"custom":return eB(u),(0,yf.jsx)(u,{},"".concat(ne,"_custom"));case"none":return null;default:return(0,yf.jsx)(VB,{canvasRef:o},"".concat(ne,"_canvas"))}}return(0,yf.jsx)("div",Object.assign({className:Ef(r,c),"data-page-number":J,ref:TB(g,Q),style:{"--scale-factor":"".concat(Z),backgroundColor:a||"white",position:"relative",minWidth:"min-content",minHeight:"min-content"}},te,{children:J?null===L||void 0===K||null===K?(0,yf.jsx)(aB,{type:"loading",children:"function"===typeof m?m():m}):!1===L||!1===K?(0,yf.jsx)(aB,{type:"error",children:"function"===typeof p?p():p}):(0,yf.jsxs)(IB.Provider,{value:ee,children:[re(),B?(0,yf.jsx)(UB,{},"".concat(ne,"_text")):null,O?(0,yf.jsx)(HB,{},"".concat(ne,"_annotations")):null,l]}):(0,yf.jsx)(aB,{type:"no-data",children:"function"===typeof v?v():v})}))}const XB=JSON.parse('{"b":"Enhanced and Detailed Prompt for Document Analysis and Question Generation\\n1. Document Analysis Framework\\nObjective: Analyze the uploaded document to extract content, structure it into logical sections, and generate a comprehensive question set. Steps: Summarize the document\'s purpose and key themes. Divide the document into chapters, headings, subheadings, and individual concepts. Assign tags or labels to each concept for categorization (e.g., \\"Timing Analysis,\\" \\"Crosstalk\\"). Assign weights to each concept on a scale of 1 to 5: 1 (Low Weight): Concepts mentioned briefly or with minimal impact. 5 (High Weight): Core or frequently discussed concepts crucial to understanding the document. Classify each concept\'s difficulty level as Easy, Medium, Difficult, Hard, or Insane.\\n \\n\\n2. Fields for Question Generation\\nFor each generated question, include the following fields:\\nSerial Number: A unique identifier for the question. Question Type: Specify the type of question, such as: Multiple Choice Question (MCQ): Provide answer options, with one or more correct answers. Descriptive Question: Open-ended questions requiring detailed responses. Question Category: Indicate the conceptual focus or skill being tested, such as: Error Identification Sequential or Process-Based Practical Application Data Interpretation Ethical Dilemma Comparative Analysis Question: The full question text. Answer Options (for MCQs): List 4-5 answer choices. Correct Answer: Identify the correct answer for MCQs or key points for descriptive questions. Short Explanation of the Answer: A brief explanation or justification for the correct answer. Difficulty Level: Categorize the question as Easy, Medium, Difficult, Hard, or Insane. Tags/Labels: Assign keywords summarizing the topic, such as \\"Crosstalk,\\" \\"STA,\\" \\"Setup Time.\\" Weight: Include the weight of the associated concept (1-5) to indicate its priority or importance.\\n \\n\\n3. Question Types and Examples\\nMultiple Choice Question (MCQ): Type: Diagram-Based Category: Data Interpretation Question: \\"Interpret the waveform provided and identify the point of setup violation.\\" Answer Options: Point A Point B Point C None of the above Correct Answer: Point B Explanation: Setup violation occurs when data is unstable before the clock edge, as seen at Point B. Difficulty: Difficult Tags: STA, waveform analysis, timing violations Weight: 4 Descriptive Question: Type: Descriptive Category: Practical Application Question: \\"Explain how crosstalk impacts signal integrity in nanometer designs and propose three strategies to mitigate it.\\" Answer: Discuss strategies such as increasing wire spacing, adding shielding, and optimizing the clock tree. Difficulty: Hard Tags: Crosstalk, signal integrity, mitigation Weight: 5\\n \\n\\n4. Question Categories\\nEnsure coverage of diverse conceptual focuses and learning objectives:\\nError Identification: Questions on spotting errors or inconsistencies. Sequential or Process-Based: Questions testing procedural knowledge. Application in Context: Questions requiring application to real-world or hypothetical scenarios. Ethical Dilemma: Questions exploring trade-offs or ethical implications. Contrast Questions: Highlighting differences between concepts or methods. Justification Questions: Questions requiring reasoning or explanation. Reverse Questions: Identifying causes from observed outcomes. Data Interpretation: Questions based on charts, timing reports, or other data. Analogical Questions: Drawing parallels between related concepts or fields. Multiple-Step Reasoning: Solving problems requiring multiple logical steps. Problem-Solving: Tackling practical challenges. Case Study Analysis: Solving detailed, scenario-based problems. Trend Analysis: Examining historical or emerging trends. Comparative Analysis: Comparing methods or approaches. Historical Context: Exploring the evolution of a concept. Future Forecasting: Predicting implications of current trends. Practical Application: Applying concepts to real-world scenarios. Creative Thinking: Encouraging innovative solutions. Ethical Analysis: Evaluating ethical aspects. Interdisciplinary: Connecting concepts with other domains.\\n \\n\\n5. Enhancements to Question Generation\\nWeighted Prioritization: Distribute effort proportionally: High-weight (4-5): Generate 50% of questions. Medium-weight (2-3): Generate 30% of questions. Low-weight (1): Generate 20% of questions. Focus more effort on frequently discussed and core concepts. Gamification: Include \\"Level-Up Challenges\\" where questions progressively increase in difficulty. Add timed challenges for quick recall or calculations. Diagram and Data Integration: Generate questions based on visual data (e.g., diagrams, graphs, charts). Real-Time Applications: Create scenario-based questions simulating real-world applications. Feedback Mechanism: Include feedback options for users to rate question quality (e.g., clarity, difficulty). Accessibility: Ensure diagrams have descriptive text for visually impaired users.\\n \\n\\n6. Difficulty Levels\\nEasy: Basic recall or straightforward application. Medium: Moderate complexity or reasoning required. Difficult: Deeper understanding or multi-step reasoning needed. Hard: Advanced, scenario-based, or requiring interdisciplinary thinking. Insane: Exceptionally challenging, demanding innovation or integration of multiple fields.\\n \\n\\nHow to Use the Prompt\\nExtract key content from the document and prioritize it based on weights. Use the outlined fields to systematically generate questions. Ensure a balance of question categories and difficulty levels. Adapt the output format to suit specific needs (e.g., exporting to quiz platforms, LMS).\\n","D":"Please generate a question set with the document provided.\\n"}');qj.workerSrc="".concat("","/pdf.worker.min.mjs");const QB=function(){const[e,t]=(0,i.useState)(null),[n,r]=(0,i.useState)(null),[s,a]=(0,i.useState)(1),[o,l]=(0,i.useState)(10),[c,u]=(0,i.useState)(XB.b),[h,d]=(0,i.useState)(XB.D),p=e=>{let{numPages:t}=e;r(t)};return(0,yf.jsxs)("div",{style:{padding:"20px"},children:[(0,yf.jsx)("h2",{children:"Document Upload"}),(0,yf.jsx)("div",{style:{marginBottom:"20px"},children:(0,yf.jsxs)("label",{children:[(0,yf.jsx)("strong",{children:"Upload PDF:"}),(0,yf.jsx)("input",{type:"file",accept:"application/pdf",onChange:e=>{const n=e.target.files[0];n&&"application/pdf"===n.type?t(n):alert("Please upload a valid PDF file.")}})]})}),e&&(0,yf.jsxs)("div",{children:[(0,yf.jsxs)("h4",{children:["PDF Uploaded: ",e.name]}),(0,yf.jsxs)("p",{children:["Total Pages: ",n]}),(0,yf.jsxs)("div",{className:"page-container",children:[(0,yf.jsxs)("div",{className:"left-page",children:[(0,yf.jsxs)("label",{children:["Start Page:",(0,yf.jsx)("input",{type:"number",value:s,onChange:e=>a(Number(e.target.value)),style:{marginLeft:"10px",width:"60px"}})]}),(0,yf.jsx)(CB,{file:e,onLoadSuccess:p,children:(0,yf.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yf.jsxs)("h4",{children:["Previewing Page ",s,":"]}),(0,yf.jsx)(KB,{pageNumber:s,renderTextLayer:!1})]})})]}),(0,yf.jsxs)("div",{className:"right-page",children:[(0,yf.jsxs)("label",{children:["End Page:",(0,yf.jsx)("input",{type:"number",value:o,onChange:e=>l(Number(e.target.value)),style:{marginLeft:"10px",width:"60px"}})]}),(0,yf.jsx)(CB,{file:e,onLoadSuccess:p,children:(0,yf.jsxs)("div",{style:{marginBottom:"20px"},children:[(0,yf.jsxs)("h4",{children:["Previewing Page ",o,":"]}),(0,yf.jsx)(KB,{pageNumber:o,renderTextLayer:!1})]})})]})]})]}),(0,yf.jsx)("div",{style:{marginBottom:"20px"},children:(0,yf.jsxs)("label",{children:[(0,yf.jsx)("strong",{children:"System Prompt:"}),(0,yf.jsx)("textarea",{value:c,onChange:e=>u(e.target.value),rows:"8",style:{display:"block",width:"100%",marginTop:"10px",padding:"10px"}})]})}),(0,yf.jsx)("div",{style:{marginBottom:"20px"},children:(0,yf.jsxs)("label",{children:[(0,yf.jsx)("strong",{children:"User Prompt:"}),(0,yf.jsx)("textarea",{value:h,onChange:e=>d(e.target.value),rows:"4",style:{display:"block",width:"100%",marginTop:"10px",padding:"10px"}})]})}),(0,yf.jsx)("button",{style:{padding:"10px 20px",fontSize:"16px"},children:"Submit"})]})},YB=[{id:1,question:"What is the purpose of setup time in STA?",type:"MCQ",category:"Practical Application",difficulty:"Easy",tags:["STA","Timing"],weight:5,answerOptions:{A:"Stability",B:"Propagation",C:"Hold",D:"Stability before edge"},correctAnswer:"D",shortExplanation:"Ensures data is stable before clock edge.",reviewStatus:"not-reviewed"}];const JB=function(){const[e,t]=(0,i.useState)(YB),[n,r]=(0,i.useState)({type:"all",category:"all",difficulty:"all",weight:"all",reviewStatus:"all",search:""}),[s,a]=(0,i.useState)(!1),[o,l]=(0,i.useState)(!1),[c,u]=(0,i.useState)(null),[h,d]=(0,i.useState)({question:"",type:"MCQ",category:"Error Identification",difficulty:"Easy",tags:"",weight:1,answerOptions:{A:"",B:"",C:"",D:""},correctAnswer:"A",shortExplanation:"",reviewStatus:"not-reviewed"}),f=e=>{r(p(p({},n),{},{[e.target.name]:e.target.value}))},g=e.filter((e=>("all"===n.type||e.type===n.type)&&("all"===n.category||e.category===n.category)&&("all"===n.difficulty||e.difficulty===n.difficulty)&&("all"===n.weight||e.weight===parseInt(n.weight))&&("all"===n.reviewStatus||e.reviewStatus===n.reviewStatus)&&(""===n.search||e.question.toLowerCase().includes(n.search.toLowerCase())||e.tags.some((e=>e.toLowerCase().includes(n.search.toLowerCase()))))));return(0,yf.jsxs)("div",{className:"container",children:[(0,yf.jsx)("h1",{children:"Question Review Dashboard"}),(0,yf.jsxs)("div",{className:"filter-bar",children:[(0,yf.jsxs)("select",{name:"type",onChange:f,children:[(0,yf.jsx)("option",{value:"all",children:"Filter by Type"}),(0,yf.jsx)("option",{value:"MCQ",children:"MCQ"}),(0,yf.jsx)("option",{value:"Descriptive",children:"Descriptive"})]}),(0,yf.jsxs)("select",{name:"category",onChange:f,children:[(0,yf.jsx)("option",{value:"all",children:"Filter by Category"}),(0,yf.jsx)("option",{value:"Error Identification",children:"Error Identification"}),(0,yf.jsx)("option",{value:"Practical Application",children:"Practical Application"})]}),(0,yf.jsx)("input",{type:"text",name:"search",placeholder:"Search by keyword...",onChange:f}),(0,yf.jsx)("button",{className:"btn-primary",onClick:()=>l(!0),children:"Add Question"})]}),(0,yf.jsxs)("table",{children:[(0,yf.jsx)("thead",{children:(0,yf.jsxs)("tr",{children:[(0,yf.jsx)("th",{children:"#"}),(0,yf.jsx)("th",{children:"Question"}),(0,yf.jsx)("th",{children:"Type"}),(0,yf.jsx)("th",{children:"Category"}),(0,yf.jsx)("th",{children:"Difficulty"}),(0,yf.jsx)("th",{children:"Weight"}),(0,yf.jsx)("th",{children:"Review Status"}),(0,yf.jsx)("th",{children:"Actions"})]})}),(0,yf.jsx)("tbody",{children:g.map((e=>(0,yf.jsxs)("tr",{className:"row-".concat(e.reviewStatus),children:[(0,yf.jsx)("td",{children:e.id}),(0,yf.jsx)("td",{children:e.question}),(0,yf.jsx)("td",{children:e.type}),(0,yf.jsx)("td",{children:e.category}),(0,yf.jsx)("td",{children:e.difficulty}),(0,yf.jsx)("td",{children:e.weight}),(0,yf.jsx)("td",{children:e.reviewStatus}),(0,yf.jsx)("td",{children:(0,yf.jsx)("button",{onClick:()=>(u(e),void a(!0)),children:"Edit"})})]},e.id)))})]}),s&&(0,yf.jsx)("div",{className:"modal",children:(0,yf.jsxs)("div",{className:"modal-content",children:[(0,yf.jsx)("h2",{children:"Edit Question"}),(0,yf.jsx)("textarea",{value:c.question,onChange:e=>{return t="question",n=e.target.value,void u(p(p({},c),{},{[t]:n}));var t,n}}),(0,yf.jsx)("button",{onClick:()=>{t(e.map((e=>e.id===c.id?c:e))),a(!1)},children:"Save Changes"}),(0,yf.jsx)("button",{onClick:()=>a(!1),children:"Close"})]})}),o&&(0,yf.jsx)("div",{className:"modal",children:(0,yf.jsxs)("div",{className:"modal-content",children:[(0,yf.jsx)("h2",{children:"Add New Question"}),(0,yf.jsx)("textarea",{placeholder:"Enter question",onChange:e=>d(p(p({},h),{},{question:e.target.value}))}),(0,yf.jsx)("button",{onClick:()=>{t([...e,p({id:e.length+1},h)]),l(!1)},children:"Add Question"}),(0,yf.jsx)("button",{onClick:()=>l(!1),children:"Close"})]})})]})},$B=()=>(0,yf.jsxs)(Pe,{children:[(0,yf.jsx)(Re,{path:"/",element:(0,yf.jsx)(RE,{})}),(0,yf.jsx)(Re,{path:"/home",element:(0,yf.jsx)(TE,{children:(0,yf.jsx)(CE,{children:(0,yf.jsx)(IE,{})})})}),(0,yf.jsx)(Re,{path:"/verification-dashboard",element:(0,yf.jsx)(TE,{children:(0,yf.jsx)(CE,{children:(0,yf.jsx)(JB,{})})})}),(0,yf.jsx)(Re,{path:"/document-upload-dashboard",element:(0,yf.jsx)(TE,{children:(0,yf.jsx)(CE,{children:(0,yf.jsx)(QB,{})})})}),(0,yf.jsx)(Re,{path:"/add-user",element:(0,yf.jsx)(TE,{children:(0,yf.jsx)(CE,{children:(0,yf.jsx)(ME,{})})})})]});const ZB=function(){return(0,yf.jsx)(wf,{children:(0,yf.jsx)(dt,{children:(0,yf.jsx)($B,{})})})};a.createRoot(document.getElementById("root")).render((0,yf.jsx)(ZB,{}))})();
//# sourceMappingURL=main.4dcf0d97.js.map